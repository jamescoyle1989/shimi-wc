import{w as Ul,i as Wl,s as Il,x as Zl,b as _e}from"./lit-element-b97bcfb0.js";import{d as j,n as q,r as cn,t as Vl}from"./index-894feb9a.js";import{e as jl,i as Yl,t as Xl,a as Jl,C as Ql,n as Kl}from"./ClipEditorBehavior-be0d48a1.js";import{c as ec,g as tc}from"./_commonjsHelpers-725317a4.js";import"./directive-helpers-51f6ee5d.js";/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hn="important",rc=" !"+hn,ac=jl(class extends Yl{constructor(h){var s;if(super(h),h.type!==Xl.ATTRIBUTE||h.name!=="style"||((s=h.strings)==null?void 0:s.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(h){return Object.keys(h).reduce((s,p)=>{const m=h[p];return m==null?s:s+`${p=p.includes("-")?p:p.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${m};`},"")}update(h,[s]){const{style:p}=h.element;if(this.ut===void 0)return this.ut=new Set(Object.keys(s)),this.render(s);for(const m of this.ut)s[m]==null&&(this.ut.delete(m),m.includes("-")?p.removeProperty(m):p[m]=null);for(const m in s){const B=s[m];if(B!=null){this.ut.add(m);const D=typeof B=="string"&&B.endsWith(rc);m.includes("-")||D?p.setProperty(m,D?B.slice(0,-11):B,D?hn:""):p[m]=B}}return Ul}});var un={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(h,s){(function(p,m){h.exports=m()})(ec,function(){for(var p=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e<t?t:e>r?r:e},m=p,B=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=m(e[t],0,255)):t===3&&(e[t]=m(e[t],0,1));return e},D={},ee=0,Bt=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];ee<Bt.length;ee+=1){var St=Bt[ee];D["[object "+St+"]"]=St.toLowerCase()}var Me=function(e){return D[Object.prototype.toString.call(e)]||"object"},fn=Me,vn=function(e,t){return t===void 0&&(t=null),e.length>=3?Array.prototype.slice.call(e):fn(e[0])=="object"&&t?t.split("").filter(function(r){return e[0][r]!==void 0}).map(function(r){return e[0][r]}):e[0]},dn=Me,pn=function(e){if(e.length<2)return null;var t=e.length-1;return dn(e[t])=="string"?e[t].toLowerCase():null},Pe=Math.PI,g={clip_rgb:B,limit:p,type:Me,unpack:vn,last:pn,PI:Pe,TWOPI:Pe*2,PITHIRD:Pe/3,DEG2RAD:Pe/180,RAD2DEG:180/Pe},G={format:{},autodetect:[]},gn=g.last,bn=g.clip_rgb,Ft=g.type,se=G,At=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var a=this;if(Ft(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var i=gn(t),o=!1;if(!i){o=!0,se.sorted||(se.autodetect=se.autodetect.sort(function(f,b){return b.p-f.p}),se.sorted=!0);for(var n=0,l=se.autodetect;n<l.length;n+=1){var c=l[n];if(i=c.test.apply(c,t),i)break}}if(se.format[i]){var u=se.format[i].apply(null,o?t:t.slice(0,-1));a._rgb=bn(u)}else throw new Error("unknown format: "+t);a._rgb.length===3&&a._rgb.push(1)};At.prototype.toString=function(){return Ft(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var P=At,xe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(xe.Color,[null].concat(e)))};xe.Color=P,xe.version="2.4.2";var R=xe,mn=g.unpack,Tt=Math.max,yn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=mn(e,"rgb"),a=r[0],i=r[1],o=r[2];a=a/255,i=i/255,o=o/255;var n=1-Tt(a,Tt(i,o)),l=n<1?1/(1-n):0,c=(1-a-n)*l,u=(1-i-n)*l,f=(1-o-n)*l;return[c,u,f,n]},wn=yn,_n=g.unpack,Pn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=_n(e,"cmyk");var r=e[0],a=e[1],i=e[2],o=e[3],n=e.length>4?e[4]:1;return o===1?[0,0,0,n]:[r>=1?0:255*(1-r)*(1-o),a>=1?0:255*(1-a)*(1-o),i>=1?0:255*(1-i)*(1-o),n]},kn=Pn,$n=R,Dt=P,zt=G,Nn=g.unpack,Mn=g.type,xn=wn;Dt.prototype.cmyk=function(){return xn(this._rgb)},$n.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dt,[null].concat(e,["cmyk"])))},zt.format.cmyk=kn,zt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Nn(e,"cmyk"),Mn(e)==="array"&&e.length===4)return"cmyk"}});var Cn=g.unpack,En=g.last,et=function(e){return Math.round(e*100)/100},Bn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Cn(e,"hsla"),a=En(e)||"lsa";return r[0]=et(r[0]||0),r[1]=et(r[1]*100)+"%",r[2]=et(r[2]*100)+"%",a==="hsla"||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,a="hsla"):r.length=3,a+"("+r.join(",")+")"},Sn=Bn,Fn=g.unpack,An=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Fn(e,"rgba");var r=e[0],a=e[1],i=e[2];r/=255,a/=255,i/=255;var o=Math.min(r,a,i),n=Math.max(r,a,i),l=(n+o)/2,c,u;return n===o?(c=0,u=Number.NaN):c=l<.5?(n-o)/(n+o):(n-o)/(2-n-o),r==n?u=(a-i)/(n-o):a==n?u=2+(i-r)/(n-o):i==n&&(u=4+(r-a)/(n-o)),u*=60,u<0&&(u+=360),e.length>3&&e[3]!==void 0?[u,c,l,e[3]]:[u,c,l]},Ht=An,Tn=g.unpack,Dn=g.last,zn=Sn,Hn=Ht,tt=Math.round,Ln=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Tn(e,"rgba"),a=Dn(e)||"rgb";return a.substr(0,3)=="hsl"?zn(Hn(r),a):(r[0]=tt(r[0]),r[1]=tt(r[1]),r[2]=tt(r[2]),(a==="rgba"||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,a="rgba"),a+"("+r.slice(0,a==="rgb"?3:4).join(",")+")")},Rn=Ln,On=g.unpack,rt=Math.round,qn=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];t=On(t,"hsl");var a=t[0],i=t[1],o=t[2],n,l,c;if(i===0)n=l=c=o*255;else{var u=[0,0,0],f=[0,0,0],b=o<.5?o*(1+i):o+i-o*i,v=2*o-b,w=a/360;u[0]=w+1/3,u[1]=w,u[2]=w-1/3;for(var y=0;y<3;y++)u[y]<0&&(u[y]+=1),u[y]>1&&(u[y]-=1),6*u[y]<1?f[y]=v+(b-v)*6*u[y]:2*u[y]<1?f[y]=b:3*u[y]<2?f[y]=v+(b-v)*(2/3-u[y])*6:f[y]=v;e=[rt(f[0]*255),rt(f[1]*255),rt(f[2]*255)],n=e[0],l=e[1],c=e[2]}return t.length>3?[n,l,c,t[3]]:[n,l,c,1]},Lt=qn,Rt=Lt,Ot=G,qt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Gt=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ut=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Wt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,It=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Zt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Vt=Math.round,jt=function(e){e=e.toLowerCase().trim();var t;if(Ot.format.named)try{return Ot.format.named(e)}catch{}if(t=e.match(qt)){for(var r=t.slice(1,4),a=0;a<3;a++)r[a]=+r[a];return r[3]=1,r}if(t=e.match(Gt)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(Ut)){for(var n=t.slice(1,4),l=0;l<3;l++)n[l]=Vt(n[l]*2.55);return n[3]=1,n}if(t=e.match(Wt)){for(var c=t.slice(1,5),u=0;u<3;u++)c[u]=Vt(c[u]*2.55);return c[3]=+c[3],c}if(t=e.match(It)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var b=Rt(f);return b[3]=1,b}if(t=e.match(Zt)){var v=t.slice(1,4);v[1]*=.01,v[2]*=.01;var w=Rt(v);return w[3]=+t[4],w}};jt.test=function(e){return qt.test(e)||Gt.test(e)||Ut.test(e)||Wt.test(e)||It.test(e)||Zt.test(e)};var Gn=jt,Un=R,Yt=P,Xt=G,Wn=g.type,In=Rn,Jt=Gn;Yt.prototype.css=function(e){return In(this._rgb,e)},Un.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Yt,[null].concat(e,["css"])))},Xt.format.css=Jt,Xt.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&Wn(e)==="string"&&Jt.test(e))return"css"}});var Qt=P,Zn=R,Vn=G,jn=g.unpack;Vn.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=jn(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},Zn.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Qt,[null].concat(e,["gl"])))},Qt.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Yn=g.unpack,Xn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Yn(e,"rgb"),a=r[0],i=r[1],o=r[2],n=Math.min(a,i,o),l=Math.max(a,i,o),c=l-n,u=c*100/255,f=n/(255-c)*100,b;return c===0?b=Number.NaN:(a===l&&(b=(i-o)/c),i===l&&(b=2+(o-a)/c),o===l&&(b=4+(a-i)/c),b*=60,b<0&&(b+=360)),[b,u,f]},Jn=Xn,Qn=g.unpack,Kn=Math.floor,ei=function(){for(var e,t,r,a,i,o,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=Qn(n,"hcg");var c=n[0],u=n[1],f=n[2],b,v,w;f=f*255;var y=u*255;if(u===0)b=v=w=f;else{c===360&&(c=0),c>360&&(c-=360),c<0&&(c+=360),c/=60;var k=Kn(c),M=c-k,C=f*(1-u),S=C+y*(1-M),I=C+y*M,W=C+y;switch(k){case 0:e=[W,I,C],b=e[0],v=e[1],w=e[2];break;case 1:t=[S,W,C],b=t[0],v=t[1],w=t[2];break;case 2:r=[C,W,I],b=r[0],v=r[1],w=r[2];break;case 3:a=[C,S,W],b=a[0],v=a[1],w=a[2];break;case 4:i=[I,C,W],b=i[0],v=i[1],w=i[2];break;case 5:o=[W,C,S],b=o[0],v=o[1],w=o[2];break}}return[b,v,w,n.length>3?n[3]:1]},ti=ei,ri=g.unpack,ai=g.type,ni=R,Kt=P,er=G,ii=Jn;Kt.prototype.hcg=function(){return ii(this._rgb)},ni.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Kt,[null].concat(e,["hcg"])))},er.format.hcg=ti,er.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ri(e,"hcg"),ai(e)==="array"&&e.length===3)return"hcg"}});var oi=g.unpack,si=g.last,Ce=Math.round,li=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=oi(e,"rgba"),a=r[0],i=r[1],o=r[2],n=r[3],l=si(e)||"auto";n===void 0&&(n=1),l==="auto"&&(l=n<1?"rgba":"rgb"),a=Ce(a),i=Ce(i),o=Ce(o);var c=a<<16|i<<8|o,u="000000"+c.toString(16);u=u.substr(u.length-6);var f="0"+Ce(n*255).toString(16);switch(f=f.substr(f.length-2),l.toLowerCase()){case"rgba":return"#"+u+f;case"argb":return"#"+f+u;default:return"#"+u}},tr=li,ci=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,hi=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ui=function(e){if(e.match(ci)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16),r=t>>16,a=t>>8&255,i=t&255;return[r,a,i,1]}if(e.match(hi)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var o=parseInt(e,16),n=o>>24&255,l=o>>16&255,c=o>>8&255,u=Math.round((o&255)/255*100)/100;return[n,l,c,u]}throw new Error("unknown hex color: "+e)},rr=ui,fi=R,ar=P,vi=g.type,nr=G,di=tr;ar.prototype.hex=function(e){return di(this._rgb,e)},fi.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ar,[null].concat(e,["hex"])))},nr.format.hex=rr,nr.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&vi(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var pi=g.unpack,ir=g.TWOPI,gi=Math.min,bi=Math.sqrt,mi=Math.acos,yi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=pi(e,"rgb"),a=r[0],i=r[1],o=r[2];a/=255,i/=255,o/=255;var n,l=gi(a,i,o),c=(a+i+o)/3,u=c>0?1-l/c:0;return u===0?n=NaN:(n=(a-i+(a-o))/2,n/=bi((a-i)*(a-i)+(a-o)*(i-o)),n=mi(n),o>i&&(n=ir-n),n/=ir),[n*360,u,c]},wi=yi,_i=g.unpack,at=g.limit,ue=g.TWOPI,nt=g.PITHIRD,fe=Math.cos,Pi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=_i(e,"hsi");var r=e[0],a=e[1],i=e[2],o,n,l;return isNaN(r)&&(r=0),isNaN(a)&&(a=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(l=(1-a)/3,o=(1+a*fe(ue*r)/fe(nt-ue*r))/3,n=1-(l+o)):r<2/3?(r-=1/3,o=(1-a)/3,n=(1+a*fe(ue*r)/fe(nt-ue*r))/3,l=1-(o+n)):(r-=2/3,n=(1-a)/3,l=(1+a*fe(ue*r)/fe(nt-ue*r))/3,o=1-(n+l)),o=at(i*o*3),n=at(i*n*3),l=at(i*l*3),[o*255,n*255,l*255,e.length>3?e[3]:1]},ki=Pi,$i=g.unpack,Ni=g.type,Mi=R,or=P,sr=G,xi=wi;or.prototype.hsi=function(){return xi(this._rgb)},Mi.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(or,[null].concat(e,["hsi"])))},sr.format.hsi=ki,sr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=$i(e,"hsi"),Ni(e)==="array"&&e.length===3)return"hsi"}});var Ci=g.unpack,Ei=g.type,Bi=R,lr=P,cr=G,Si=Ht;lr.prototype.hsl=function(){return Si(this._rgb)},Bi.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(lr,[null].concat(e,["hsl"])))},cr.format.hsl=Lt,cr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ci(e,"hsl"),Ei(e)==="array"&&e.length===3)return"hsl"}});var Fi=g.unpack,Ai=Math.min,Ti=Math.max,Di=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Fi(e,"rgb");var r=e[0],a=e[1],i=e[2],o=Ai(r,a,i),n=Ti(r,a,i),l=n-o,c,u,f;return f=n/255,n===0?(c=Number.NaN,u=0):(u=l/n,r===n&&(c=(a-i)/l),a===n&&(c=2+(i-r)/l),i===n&&(c=4+(r-a)/l),c*=60,c<0&&(c+=360)),[c,u,f]},zi=Di,Hi=g.unpack,Li=Math.floor,Ri=function(){for(var e,t,r,a,i,o,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=Hi(n,"hsv");var c=n[0],u=n[1],f=n[2],b,v,w;if(f*=255,u===0)b=v=w=f;else{c===360&&(c=0),c>360&&(c-=360),c<0&&(c+=360),c/=60;var y=Li(c),k=c-y,M=f*(1-u),C=f*(1-u*k),S=f*(1-u*(1-k));switch(y){case 0:e=[f,S,M],b=e[0],v=e[1],w=e[2];break;case 1:t=[C,f,M],b=t[0],v=t[1],w=t[2];break;case 2:r=[M,f,S],b=r[0],v=r[1],w=r[2];break;case 3:a=[M,C,f],b=a[0],v=a[1],w=a[2];break;case 4:i=[S,M,f],b=i[0],v=i[1],w=i[2];break;case 5:o=[f,M,C],b=o[0],v=o[1],w=o[2];break}}return[b,v,w,n.length>3?n[3]:1]},Oi=Ri,qi=g.unpack,Gi=g.type,Ui=R,hr=P,ur=G,Wi=zi;hr.prototype.hsv=function(){return Wi(this._rgb)},Ui.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(hr,[null].concat(e,["hsv"])))},ur.format.hsv=Oi,ur.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=qi(e,"hsv"),Gi(e)==="array"&&e.length===3)return"hsv"}});var Ee={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ve=Ee,Ii=g.unpack,fr=Math.pow,Zi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Ii(e,"rgb"),a=r[0],i=r[1],o=r[2],n=Vi(a,i,o),l=n[0],c=n[1],u=n[2],f=116*c-16;return[f<0?0:f,500*(l-c),200*(c-u)]},it=function(e){return(e/=255)<=.04045?e/12.92:fr((e+.055)/1.055,2.4)},ot=function(e){return e>ve.t3?fr(e,1/3):e/ve.t2+ve.t0},Vi=function(e,t,r){e=it(e),t=it(t),r=it(r);var a=ot((.4124564*e+.3575761*t+.1804375*r)/ve.Xn),i=ot((.2126729*e+.7151522*t+.072175*r)/ve.Yn),o=ot((.0193339*e+.119192*t+.9503041*r)/ve.Zn);return[a,i,o]},vr=Zi,de=Ee,ji=g.unpack,Yi=Math.pow,Xi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=ji(e,"lab");var r=e[0],a=e[1],i=e[2],o,n,l,c,u,f;return n=(r+16)/116,o=isNaN(a)?n:n+a/500,l=isNaN(i)?n:n-i/200,n=de.Yn*lt(n),o=de.Xn*lt(o),l=de.Zn*lt(l),c=st(3.2404542*o-1.5371385*n-.4985314*l),u=st(-.969266*o+1.8760108*n+.041556*l),f=st(.0556434*o-.2040259*n+1.0572252*l),[c,u,f,e.length>3?e[3]:1]},st=function(e){return 255*(e<=.00304?12.92*e:1.055*Yi(e,1/2.4)-.055)},lt=function(e){return e>de.t1?e*e*e:de.t2*(e-de.t0)},dr=Xi,Ji=g.unpack,Qi=g.type,Ki=R,pr=P,gr=G,eo=vr;pr.prototype.lab=function(){return eo(this._rgb)},Ki.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pr,[null].concat(e,["lab"])))},gr.format.lab=dr,gr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ji(e,"lab"),Qi(e)==="array"&&e.length===3)return"lab"}});var to=g.unpack,ro=g.RAD2DEG,ao=Math.sqrt,no=Math.atan2,io=Math.round,oo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=to(e,"lab"),a=r[0],i=r[1],o=r[2],n=ao(i*i+o*o),l=(no(o,i)*ro+360)%360;return io(n*1e4)===0&&(l=Number.NaN),[a,n,l]},br=oo,so=g.unpack,lo=vr,co=br,ho=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=so(e,"rgb"),a=r[0],i=r[1],o=r[2],n=lo(a,i,o),l=n[0],c=n[1],u=n[2];return co(l,c,u)},uo=ho,fo=g.unpack,vo=g.DEG2RAD,po=Math.sin,go=Math.cos,bo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=fo(e,"lch"),a=r[0],i=r[1],o=r[2];return isNaN(o)&&(o=0),o=o*vo,[a,go(o)*i,po(o)*i]},mr=bo,mo=g.unpack,yo=mr,wo=dr,_o=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=mo(e,"lch");var r=e[0],a=e[1],i=e[2],o=yo(r,a,i),n=o[0],l=o[1],c=o[2],u=wo(n,l,c),f=u[0],b=u[1],v=u[2];return[f,b,v,e.length>3?e[3]:1]},yr=_o,Po=g.unpack,ko=yr,$o=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Po(e,"hcl").reverse();return ko.apply(void 0,r)},No=$o,Mo=g.unpack,xo=g.type,wr=R,Be=P,ct=G,_r=uo;Be.prototype.lch=function(){return _r(this._rgb)},Be.prototype.hcl=function(){return _r(this._rgb).reverse()},wr.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Be,[null].concat(e,["lch"])))},wr.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Be,[null].concat(e,["hcl"])))},ct.format.lch=yr,ct.format.hcl=No,["lch","hcl"].forEach(function(e){return ct.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Mo(t,e),xo(t)==="array"&&t.length===3)return e}})});var Co={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Pr=Co,Eo=P,kr=G,Bo=g.type,ke=Pr,So=rr,Fo=tr;Eo.prototype.name=function(){for(var e=Fo(this._rgb,"rgb"),t=0,r=Object.keys(ke);t<r.length;t+=1){var a=r[t];if(ke[a]===e)return a.toLowerCase()}return e},kr.format.named=function(e){if(e=e.toLowerCase(),ke[e])return So(ke[e]);throw new Error("unknown color name: "+e)},kr.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&Bo(e)==="string"&&ke[e.toLowerCase()])return"named"}});var Ao=g.unpack,To=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Ao(e,"rgb"),a=r[0],i=r[1],o=r[2];return(a<<16)+(i<<8)+o},Do=To,zo=g.type,Ho=function(e){if(zo(e)=="number"&&e>=0&&e<=16777215){var t=e>>16,r=e>>8&255,a=e&255;return[t,r,a,1]}throw new Error("unknown num color: "+e)},Lo=Ho,Ro=R,$r=P,Nr=G,Oo=g.type,qo=Do;$r.prototype.num=function(){return qo(this._rgb)},Ro.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply($r,[null].concat(e,["num"])))},Nr.format.num=Lo,Nr.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e.length===1&&Oo(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Go=R,ht=P,Mr=G,xr=g.unpack,Cr=g.type,Er=Math.round;ht.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Er)},ht.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(t,r){return r<3?e===!1?t:Er(t):t})},Go.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ht,[null].concat(e,["rgb"])))},Mr.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=xr(e,"rgba");return r[3]===void 0&&(r[3]=1),r},Mr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=xr(e,"rgba"),Cr(e)==="array"&&(e.length===3||e.length===4&&Cr(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Se=Math.log,Uo=function(e){var t=e/100,r,a,i;return t<66?(r=255,a=t<6?0:-155.25485562709179-.44596950469579133*(a=t-2)+104.49216199393888*Se(a),i=t<20?0:-254.76935184120902+.8274096064007395*(i=t-10)+115.67994401066147*Se(i)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*Se(r),a=325.4494125711974+.07943456536662342*(a=t-50)-28.0852963507957*Se(a),i=255),[r,a,i,1]},Br=Uo,Wo=Br,Io=g.unpack,Zo=Math.round,Vo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=Io(e,"rgb"),a=r[0],i=r[2],o=1e3,n=4e4,l=.4,c;n-o>l;){c=(n+o)*.5;var u=Wo(c);u[2]/u[0]>=i/a?n=c:o=c}return Zo(c)},jo=Vo,ut=R,Fe=P,ft=G,Yo=jo;Fe.prototype.temp=Fe.prototype.kelvin=Fe.prototype.temperature=function(){return Yo(this._rgb)},ut.temp=ut.kelvin=ut.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Fe,[null].concat(e,["temp"])))},ft.format.temp=ft.format.kelvin=ft.format.temperature=Br;var Xo=g.unpack,vt=Math.cbrt,Jo=Math.pow,Qo=Math.sign,Ko=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Xo(e,"rgb"),a=r[0],i=r[1],o=r[2],n=[dt(a/255),dt(i/255),dt(o/255)],l=n[0],c=n[1],u=n[2],f=vt(.4122214708*l+.5363325363*c+.0514459929*u),b=vt(.2119034982*l+.6806995451*c+.1073969566*u),v=vt(.0883024619*l+.2817188376*c+.6299787005*u);return[.2104542553*f+.793617785*b-.0040720468*v,1.9779984951*f-2.428592205*b+.4505937099*v,.0259040371*f+.7827717662*b-.808675766*v]},Sr=Ko;function dt(e){var t=Math.abs(e);return t<.04045?e/12.92:(Qo(e)||1)*Jo((t+.055)/1.055,2.4)}var es=g.unpack,Ae=Math.pow,ts=Math.sign,rs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=es(e,"lab");var r=e[0],a=e[1],i=e[2],o=Ae(r+.3963377774*a+.2158037573*i,3),n=Ae(r-.1055613458*a-.0638541728*i,3),l=Ae(r-.0894841775*a-1.291485548*i,3);return[255*pt(4.0767416621*o-3.3077115913*n+.2309699292*l),255*pt(-1.2684380046*o+2.6097574011*n-.3413193965*l),255*pt(-.0041960863*o-.7034186147*n+1.707614701*l),e.length>3?e[3]:1]},Fr=rs;function pt(e){var t=Math.abs(e);return t>.0031308?(ts(e)||1)*(1.055*Ae(t,1/2.4)-.055):e*12.92}var as=g.unpack,ns=g.type,is=R,Ar=P,Tr=G,os=Sr;Ar.prototype.oklab=function(){return os(this._rgb)},is.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ar,[null].concat(e,["oklab"])))},Tr.format.oklab=Fr,Tr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=as(e,"oklab"),ns(e)==="array"&&e.length===3)return"oklab"}});var ss=g.unpack,ls=Sr,cs=br,hs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ss(e,"rgb"),a=r[0],i=r[1],o=r[2],n=ls(a,i,o),l=n[0],c=n[1],u=n[2];return cs(l,c,u)},us=hs,fs=g.unpack,vs=mr,ds=Fr,ps=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=fs(e,"lch");var r=e[0],a=e[1],i=e[2],o=vs(r,a,i),n=o[0],l=o[1],c=o[2],u=ds(n,l,c),f=u[0],b=u[1],v=u[2];return[f,b,v,e.length>3?e[3]:1]},gs=ps,bs=g.unpack,ms=g.type,ys=R,Dr=P,zr=G,ws=us;Dr.prototype.oklch=function(){return ws(this._rgb)},ys.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dr,[null].concat(e,["oklch"])))},zr.format.oklch=gs,zr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=bs(e,"oklch"),ms(e)==="array"&&e.length===3)return"oklch"}});var Hr=P,_s=g.type;Hr.prototype.alpha=function(e,t){return t===void 0&&(t=!1),e!==void 0&&_s(e)==="number"?t?(this._rgb[3]=e,this):new Hr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var Ps=P;Ps.prototype.clipped=function(){return this._rgb._clipped||!1};var le=P,ks=Ee;le.prototype.darken=function(e){e===void 0&&(e=1);var t=this,r=t.lab();return r[0]-=ks.Kn*e,new le(r,"lab").alpha(t.alpha(),!0)},le.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},le.prototype.darker=le.prototype.darken,le.prototype.brighter=le.prototype.brighten;var $s=P;$s.prototype.get=function(e){var t=e.split("."),r=t[0],a=t[1],i=this[r]();if(a){var o=r.indexOf(a)-(r.substr(0,2)==="ok"?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+a+" in mode "+r)}else return i};var pe=P,Ns=g.type,Ms=Math.pow,xs=1e-7,Cs=20;pe.prototype.luminance=function(e){if(e!==void 0&&Ns(e)==="number"){if(e===0)return new pe([0,0,0,this._rgb[3]],"rgb");if(e===1)return new pe([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r="rgb",a=Cs,i=function(n,l){var c=n.interpolate(l,.5,r),u=c.luminance();return Math.abs(e-u)<xs||!a--?c:u>e?i(n,c):i(c,l)},o=(t>e?i(new pe([0,0,0]),this):i(this,new pe([255,255,255]))).rgb();return new pe(o.concat([this._rgb[3]]))}return Es.apply(void 0,this._rgb.slice(0,3))};var Es=function(e,t,r){return e=gt(e),t=gt(t),r=gt(r),.2126*e+.7152*t+.0722*r},gt=function(e){return e/=255,e<=.03928?e/12.92:Ms((e+.055)/1.055,2.4)},X={},Lr=P,Rr=g.type,Te=X,Or=function(e,t,r){r===void 0&&(r=.5);for(var a=[],i=arguments.length-3;i-- >0;)a[i]=arguments[i+3];var o=a[0]||"lrgb";if(!Te[o]&&!a.length&&(o=Object.keys(Te)[0]),!Te[o])throw new Error("interpolation mode "+o+" is not defined");return Rr(e)!=="object"&&(e=new Lr(e)),Rr(t)!=="object"&&(t=new Lr(t)),Te[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))},qr=P,Bs=Or;qr.prototype.mix=qr.prototype.interpolate=function(e,t){t===void 0&&(t=.5);for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];return Bs.apply(void 0,[this,e,t].concat(r))};var Gr=P;Gr.prototype.premultiply=function(e){e===void 0&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new Gr([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var bt=P,Ss=Ee;bt.prototype.saturate=function(e){e===void 0&&(e=1);var t=this,r=t.lch();return r[1]+=Ss.Kn*e,r[1]<0&&(r[1]=0),new bt(r,"lch").alpha(t.alpha(),!0)},bt.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var Ur=P,Wr=g.type;Ur.prototype.set=function(e,t,r){r===void 0&&(r=!1);var a=e.split("."),i=a[0],o=a[1],n=this[i]();if(o){var l=i.indexOf(o)-(i.substr(0,2)==="ok"?2:0);if(l>-1){if(Wr(t)=="string")switch(t.charAt(0)){case"+":n[l]+=+t;break;case"-":n[l]+=+t;break;case"*":n[l]*=+t.substr(1);break;case"/":n[l]/=+t.substr(1);break;default:n[l]=+t}else if(Wr(t)==="number")n[l]=t;else throw new Error("unsupported value for Color.set");var c=new Ur(n,i);return r?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+o+" in mode "+i)}else return n};var Fs=P,As=function(e,t,r){var a=e._rgb,i=t._rgb;return new Fs(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),"rgb")};X.rgb=As;var Ts=P,mt=Math.sqrt,ge=Math.pow,Ds=function(e,t,r){var a=e._rgb,i=a[0],o=a[1],n=a[2],l=t._rgb,c=l[0],u=l[1],f=l[2];return new Ts(mt(ge(i,2)*(1-r)+ge(c,2)*r),mt(ge(o,2)*(1-r)+ge(u,2)*r),mt(ge(n,2)*(1-r)+ge(f,2)*r),"rgb")};X.lrgb=Ds;var zs=P,Hs=function(e,t,r){var a=e.lab(),i=t.lab();return new zs(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),"lab")};X.lab=Hs;var Ir=P,be=function(e,t,r,a){var i,o,n,l;a==="hsl"?(n=e.hsl(),l=t.hsl()):a==="hsv"?(n=e.hsv(),l=t.hsv()):a==="hcg"?(n=e.hcg(),l=t.hcg()):a==="hsi"?(n=e.hsi(),l=t.hsi()):a==="lch"||a==="hcl"?(a="hcl",n=e.hcl(),l=t.hcl()):a==="oklch"&&(n=e.oklch().reverse(),l=t.oklch().reverse());var c,u,f,b,v,w;(a.substr(0,1)==="h"||a==="oklch")&&(i=n,c=i[0],f=i[1],v=i[2],o=l,u=o[0],b=o[1],w=o[2]);var y,k,M,C;return!isNaN(c)&&!isNaN(u)?(u>c&&u-c>180?C=u-(c+360):u<c&&c-u>180?C=u+360-c:C=u-c,k=c+r*C):isNaN(c)?isNaN(u)?k=Number.NaN:(k=u,(v==1||v==0)&&a!="hsv"&&(y=b)):(k=c,(w==1||w==0)&&a!="hsv"&&(y=f)),y===void 0&&(y=f+r*(b-f)),M=v+r*(w-v),a==="oklch"?new Ir([M,y,k],a):new Ir([k,y,M],a)},Ls=be,Zr=function(e,t,r){return Ls(e,t,r,"lch")};X.lch=Zr,X.hcl=Zr;var Rs=P,Os=function(e,t,r){var a=e.num(),i=t.num();return new Rs(a+r*(i-a),"num")};X.num=Os;var qs=be,Gs=function(e,t,r){return qs(e,t,r,"hcg")};X.hcg=Gs;var Us=be,Ws=function(e,t,r){return Us(e,t,r,"hsi")};X.hsi=Ws;var Is=be,Zs=function(e,t,r){return Is(e,t,r,"hsl")};X.hsl=Zs;var Vs=be,js=function(e,t,r){return Vs(e,t,r,"hsv")};X.hsv=js;var Ys=P,Xs=function(e,t,r){var a=e.oklab(),i=t.oklab();return new Ys(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),"oklab")};X.oklab=Xs;var Js=be,Qs=function(e,t,r){return Js(e,t,r,"oklch")};X.oklch=Qs;var yt=P,Ks=g.clip_rgb,wt=Math.pow,_t=Math.sqrt,Pt=Math.PI,Vr=Math.cos,jr=Math.sin,el=Math.atan2,tl=function(e,t,r){t===void 0&&(t="lrgb"),r===void 0&&(r=null);var a=e.length;r||(r=Array.from(new Array(a)).map(function(){return 1}));var i=a/r.reduce(function(k,M){return k+M});if(r.forEach(function(k,M){r[M]*=i}),e=e.map(function(k){return new yt(k)}),t==="lrgb")return rl(e,r);for(var o=e.shift(),n=o.get(t),l=[],c=0,u=0,f=0;f<n.length;f++)if(n[f]=(n[f]||0)*r[0],l.push(isNaN(n[f])?0:r[0]),t.charAt(f)==="h"&&!isNaN(n[f])){var b=n[f]/180*Pt;c+=Vr(b)*r[0],u+=jr(b)*r[0]}var v=o.alpha()*r[0];e.forEach(function(k,M){var C=k.get(t);v+=k.alpha()*r[M+1];for(var S=0;S<n.length;S++)if(!isNaN(C[S]))if(l[S]+=r[M+1],t.charAt(S)==="h"){var I=C[S]/180*Pt;c+=Vr(I)*r[M+1],u+=jr(I)*r[M+1]}else n[S]+=C[S]*r[M+1]});for(var w=0;w<n.length;w++)if(t.charAt(w)==="h"){for(var y=el(u/l[w],c/l[w])/Pt*180;y<0;)y+=360;for(;y>=360;)y-=360;n[w]=y}else n[w]=n[w]/l[w];return v/=a,new yt(n,t).alpha(v>.99999?1:v,!0)},rl=function(e,t){for(var r=e.length,a=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],n=t[i]/r,l=o._rgb;a[0]+=wt(l[0],2)*n,a[1]+=wt(l[1],2)*n,a[2]+=wt(l[2],2)*n,a[3]+=l[3]*n}return a[0]=_t(a[0]),a[1]=_t(a[1]),a[2]=_t(a[2]),a[3]>.9999999&&(a[3]=1),new yt(Ks(a))},J=R,me=g.type,al=Math.pow,kt=function(e){var t="rgb",r=J("#ccc"),a=0,i=[0,1],o=[],n=[0,0],l=!1,c=[],u=!1,f=0,b=1,v=!1,w={},y=!0,k=1,M=function(d){if(d=d||["#fff","#000"],d&&me(d)==="string"&&J.brewer&&J.brewer[d.toLowerCase()]&&(d=J.brewer[d.toLowerCase()]),me(d)==="array"){d.length===1&&(d=[d[0],d[0]]),d=d.slice(0);for(var _=0;_<d.length;_++)d[_]=J(d[_]);o.length=0;for(var N=0;N<d.length;N++)o.push(N/(d.length-1))}return V(),c=d},C=function(d){if(l!=null){for(var _=l.length-1,N=0;N<_&&d>=l[N];)N++;return N-1}return 0},S=function(d){return d},I=function(d){return d},W=function(d,_){var N,$;if(_==null&&(_=!1),isNaN(d)||d===null)return r;if(_)$=d;else if(l&&l.length>2){var Z=C(d);$=Z/(l.length-2)}else b!==f?$=(d-f)/(b-f):$=1;$=I($),_||($=S($)),k!==1&&($=al($,k)),$=n[0]+$*(1-n[0]-n[1]),$=Math.min(1,Math.max(0,$));var z=Math.floor($*1e4);if(y&&w[z])N=w[z];else{if(me(c)==="array")for(var E=0;E<o.length;E++){var F=o[E];if($<=F){N=c[E];break}if($>=F&&E===o.length-1){N=c[E];break}if($>F&&$<o[E+1]){$=($-F)/(o[E+1]-F),N=J.interpolate(c[E],c[E+1],$,t);break}}else me(c)==="function"&&(N=c($));y&&(w[z]=N)}return N},V=function(){return w={}};M(e);var x=function(d){var _=J(W(d));return u&&_[u]?_[u]():_};return x.classes=function(d){if(d!=null){if(me(d)==="array")l=d,i=[d[0],d[d.length-1]];else{var _=J.analyze(i);d===0?l=[_.min,_.max]:l=J.limits(_,"e",d)}return x}return l},x.domain=function(d){if(!arguments.length)return i;f=d[0],b=d[d.length-1],o=[];var _=c.length;if(d.length===_&&f!==b)for(var N=0,$=Array.from(d);N<$.length;N+=1){var Z=$[N];o.push((Z-f)/(b-f))}else{for(var z=0;z<_;z++)o.push(z/(_-1));if(d.length>2){var E=d.map(function(A,T){return T/(d.length-1)}),F=d.map(function(A){return(A-f)/(b-f)});F.every(function(A,T){return E[T]===A})||(I=function(A){if(A<=0||A>=1)return A;for(var T=0;A>=F[T+1];)T++;var K=(A-F[T])/(F[T+1]-F[T]),ie=E[T]+K*(E[T+1]-E[T]);return ie})}}return i=[f,b],x},x.mode=function(d){return arguments.length?(t=d,V(),x):t},x.range=function(d,_){return M(d),x},x.out=function(d){return u=d,x},x.spread=function(d){return arguments.length?(a=d,x):a},x.correctLightness=function(d){return d==null&&(d=!0),v=d,V(),v?S=function(_){for(var N=W(0,!0).lab()[0],$=W(1,!0).lab()[0],Z=N>$,z=W(_,!0).lab()[0],E=N+($-N)*_,F=z-E,A=0,T=1,K=20;Math.abs(F)>.01&&K-- >0;)(function(){return Z&&(F*=-1),F<0?(A=_,_+=(T-_)*.5):(T=_,_+=(A-_)*.5),z=W(_,!0).lab()[0],F=z-E})();return _}:S=function(_){return _},x},x.padding=function(d){return d!=null?(me(d)==="number"&&(d=[d,d]),n=d,x):n},x.colors=function(d,_){arguments.length<2&&(_="hex");var N=[];if(arguments.length===0)N=c.slice(0);else if(d===1)N=[x(.5)];else if(d>1){var $=i[0],Z=i[1]-$;N=nl(0,d,!1).map(function(T){return x($+T/(d-1)*Z)})}else{e=[];var z=[];if(l&&l.length>2)for(var E=1,F=l.length,A=1<=F;A?E<F:E>F;A?E++:E--)z.push((l[E-1]+l[E])*.5);else z=i;N=z.map(function(T){return x(T)})}return J[_]&&(N=N.map(function(T){return T[_]()})),N},x.cache=function(d){return d!=null?(y=d,x):y},x.gamma=function(d){return d!=null?(k=d,x):k},x.nodata=function(d){return d!=null?(r=J(d),x):r},x};function nl(e,t,r){for(var a=[],i=e<t,o=r?i?t+1:t-1:t,n=e;i?n<o:n>o;i?n++:n--)a.push(n);return a}var $e=P,il=kt,ol=function(e){for(var t=[1,1],r=1;r<e;r++){for(var a=[1],i=1;i<=t.length;i++)a[i]=(t[i]||0)+t[i-1];t=a}return t},sl=function(e){var t,r,a,i,o,n,l;if(e=e.map(function(v){return new $e(v)}),e.length===2)t=e.map(function(v){return v.lab()}),o=t[0],n=t[1],i=function(v){var w=[0,1,2].map(function(y){return o[y]+v*(n[y]-o[y])});return new $e(w,"lab")};else if(e.length===3)r=e.map(function(v){return v.lab()}),o=r[0],n=r[1],l=r[2],i=function(v){var w=[0,1,2].map(function(y){return(1-v)*(1-v)*o[y]+2*(1-v)*v*n[y]+v*v*l[y]});return new $e(w,"lab")};else if(e.length===4){var c;a=e.map(function(v){return v.lab()}),o=a[0],n=a[1],l=a[2],c=a[3],i=function(v){var w=[0,1,2].map(function(y){return(1-v)*(1-v)*(1-v)*o[y]+3*(1-v)*(1-v)*v*n[y]+3*(1-v)*v*v*l[y]+v*v*v*c[y]});return new $e(w,"lab")}}else if(e.length>=5){var u,f,b;u=e.map(function(v){return v.lab()}),b=e.length-1,f=ol(b),i=function(v){var w=1-v,y=[0,1,2].map(function(k){return u.reduce(function(M,C,S){return M+f[S]*Math.pow(w,b-S)*Math.pow(v,S)*C[k]},0)});return new $e(y,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return i},ll=function(e){var t=sl(e);return t.scale=function(){return il(t)},t},$t=R,Q=function(e,t,r){if(!Q[r])throw new Error("unknown blend mode "+r);return Q[r](e,t)},ae=function(e){return function(t,r){var a=$t(r).rgb(),i=$t(t).rgb();return $t.rgb(e(a,i))}},ne=function(e){return function(t,r){var a=[];return a[0]=e(t[0],r[0]),a[1]=e(t[1],r[1]),a[2]=e(t[2],r[2]),a}},cl=function(e){return e},hl=function(e,t){return e*t/255},ul=function(e,t){return e>t?t:e},fl=function(e,t){return e>t?e:t},vl=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},dl=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},pl=function(e,t){return 255*(1-(1-t/255)/(e/255))},gl=function(e,t){return e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e)};Q.normal=ae(ne(cl)),Q.multiply=ae(ne(hl)),Q.screen=ae(ne(vl)),Q.overlay=ae(ne(dl)),Q.darken=ae(ne(ul)),Q.lighten=ae(ne(fl)),Q.dodge=ae(ne(gl)),Q.burn=ae(ne(pl));for(var bl=Q,Nt=g.type,ml=g.clip_rgb,yl=g.TWOPI,wl=Math.pow,_l=Math.sin,Pl=Math.cos,Yr=R,kl=function(e,t,r,a,i){e===void 0&&(e=300),t===void 0&&(t=-1.5),r===void 0&&(r=1),a===void 0&&(a=1),i===void 0&&(i=[0,1]);var o=0,n;Nt(i)==="array"?n=i[1]-i[0]:(n=0,i=[i,i]);var l=function(c){var u=yl*((e+120)/360+t*c),f=wl(i[0]+n*c,a),b=o!==0?r[0]+c*o:r,v=b*f*(1-f)/2,w=Pl(u),y=_l(u),k=f+v*(-.14861*w+1.78277*y),M=f+v*(-.29227*w-.90649*y),C=f+v*(1.97294*w);return Yr(ml([k*255,M*255,C*255,1]))};return l.start=function(c){return c==null?e:(e=c,l)},l.rotations=function(c){return c==null?t:(t=c,l)},l.gamma=function(c){return c==null?a:(a=c,l)},l.hue=function(c){return c==null?r:(r=c,Nt(r)==="array"?(o=r[1]-r[0],o===0&&(r=r[1])):o=0,l)},l.lightness=function(c){return c==null?i:(Nt(c)==="array"?(i=c,n=c[1]-c[0]):(i=[c,c],n=0),l)},l.scale=function(){return Yr.scale(l)},l.hue(r),l},$l=P,Nl="0123456789abcdef",Ml=Math.floor,xl=Math.random,Cl=function(){for(var e="#",t=0;t<6;t++)e+=Nl.charAt(Ml(xl()*16));return new $l(e,"hex")},Mt=Me,Xr=Math.log,El=Math.pow,Bl=Math.floor,Sl=Math.abs,Jr=function(e,t){t===void 0&&(t=null);var r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Mt(e)==="object"&&(e=Object.values(e)),e.forEach(function(a){t&&Mt(a)==="object"&&(a=a[t]),a!=null&&!isNaN(a)&&(r.values.push(a),r.sum+=a,a<r.min&&(r.min=a),a>r.max&&(r.max=a),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(a,i){return Qr(r,a,i)},r},Qr=function(e,t,r){t===void 0&&(t="equal"),r===void 0&&(r=7),Mt(e)=="array"&&(e=Jr(e));var a=e.min,i=e.max,o=e.values.sort(function(Ct,Et){return Ct-Et});if(r===1)return[a,i];var n=[];if(t.substr(0,1)==="c"&&(n.push(a),n.push(i)),t.substr(0,1)==="e"){n.push(a);for(var l=1;l<r;l++)n.push(a+l/r*(i-a));n.push(i)}else if(t.substr(0,1)==="l"){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*Xr(a),u=Math.LOG10E*Xr(i);n.push(a);for(var f=1;f<r;f++)n.push(El(10,c+f/r*(u-c)));n.push(i)}else if(t.substr(0,1)==="q"){n.push(a);for(var b=1;b<r;b++){var v=(o.length-1)*b/r,w=Bl(v);if(w===v)n.push(o[w]);else{var y=v-w;n.push(o[w]*(1-y)+o[w+1]*y)}}n.push(i)}else if(t.substr(0,1)==="k"){var k,M=o.length,C=new Array(M),S=new Array(r),I=!0,W=0,V=null;V=[],V.push(a);for(var x=1;x<r;x++)V.push(a+x/r*(i-a));for(V.push(i);I;){for(var d=0;d<r;d++)S[d]=0;for(var _=0;_<M;_++)for(var N=o[_],$=Number.MAX_VALUE,Z=void 0,z=0;z<r;z++){var E=Sl(V[z]-N);E<$&&($=E,Z=z),S[Z]++,C[_]=Z}for(var F=new Array(r),A=0;A<r;A++)F[A]=null;for(var T=0;T<M;T++)k=C[T],F[k]===null?F[k]=o[T]:F[k]+=o[T];for(var K=0;K<r;K++)F[K]*=1/S[K];I=!1;for(var ie=0;ie<r;ie++)if(F[ie]!==V[ie]){I=!0;break}V=F,W++,W>200&&(I=!1)}for(var oe={},ye=0;ye<r;ye++)oe[ye]=[];for(var we=0;we<M;we++)k=C[we],oe[k].push(o[we]);for(var re=[],ce=0;ce<r;ce++)re.push(oe[ce][0]),re.push(oe[ce][oe[ce].length-1]);re=re.sort(function(Ct,Et){return Ct-Et}),n.push(re[0]);for(var Ne=1;Ne<re.length;Ne+=2){var he=re[Ne];!isNaN(he)&&n.indexOf(he)===-1&&n.push(he)}}return n},Kr={analyze:Jr,limits:Qr},ea=P,Fl=function(e,t){e=new ea(e),t=new ea(t);var r=e.luminance(),a=t.luminance();return r>a?(r+.05)/(a+.05):(a+.05)/(r+.05)},ta=P,te=Math.sqrt,O=Math.pow,Al=Math.min,Tl=Math.max,ra=Math.atan2,aa=Math.abs,De=Math.cos,na=Math.sin,Dl=Math.exp,ia=Math.PI,zl=function(e,t,r,a,i){r===void 0&&(r=1),a===void 0&&(a=1),i===void 0&&(i=1);var o=function(he){return 360*he/(2*ia)},n=function(he){return 2*ia*he/360};e=new ta(e),t=new ta(t);var l=Array.from(e.lab()),c=l[0],u=l[1],f=l[2],b=Array.from(t.lab()),v=b[0],w=b[1],y=b[2],k=(c+v)/2,M=te(O(u,2)+O(f,2)),C=te(O(w,2)+O(y,2)),S=(M+C)/2,I=.5*(1-te(O(S,7)/(O(S,7)+O(25,7)))),W=u*(1+I),V=w*(1+I),x=te(O(W,2)+O(f,2)),d=te(O(V,2)+O(y,2)),_=(x+d)/2,N=o(ra(f,W)),$=o(ra(y,V)),Z=N>=0?N:N+360,z=$>=0?$:$+360,E=aa(Z-z)>180?(Z+z+360)/2:(Z+z)/2,F=1-.17*De(n(E-30))+.24*De(n(2*E))+.32*De(n(3*E+6))-.2*De(n(4*E-63)),A=z-Z;A=aa(A)<=180?A:z<=Z?A+360:A-360,A=2*te(x*d)*na(n(A)/2);var T=v-c,K=d-x,ie=1+.015*O(k-50,2)/te(20+O(k-50,2)),oe=1+.045*_,ye=1+.015*_*F,we=30*Dl(-O((E-275)/25,2)),re=2*te(O(_,7)/(O(_,7)+O(25,7))),ce=-re*na(2*n(we)),Ne=te(O(T/(r*ie),2)+O(K/(a*oe),2)+O(A/(i*ye),2)+ce*(K/(a*oe))*(A/(i*ye)));return Tl(0,Al(100,Ne))},oa=P,Hl=function(e,t,r){r===void 0&&(r="lab"),e=new oa(e),t=new oa(t);var a=e.get(r),i=t.get(r),o=0;for(var n in a){var l=(a[n]||0)-(i[n]||0);o+=l*l}return Math.sqrt(o)},Ll=P,Rl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(Ll,[null].concat(e))),!0}catch{return!1}},sa=R,la=kt,Ol={cool:function(){return la([sa.hsl(180,1,.9),sa.hsl(250,.7,.4)])},hot:function(){return la(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ze={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},xt=0,ca=Object.keys(ze);xt<ca.length;xt+=1){var ha=ca[xt];ze[ha.toLowerCase()]=ze[ha]}var ql=ze,U=R;U.average=tl,U.bezier=ll,U.blend=bl,U.cubehelix=kl,U.mix=U.interpolate=Or,U.random=Cl,U.scale=kt,U.analyze=Kr.analyze,U.contrast=Fl,U.deltaE=zl,U.distance=Hl,U.limits=Kr.limits,U.valid=Rl,U.scales=Ol,U.colors=Pr,U.brewer=ql;var Gl=U;return Gl})})(un);var nc=un.exports;const ic=tc(nc);class oc{constructor(){this.clip=null,this.xZoom=1,this.yZoom=1,this.beatsPerBar=4,this.divisionsPerBeat=2,this.snapStrength=.05,this.noteResizeHandleArea=.2,this.selectedNote=null,this.playheads=[],this._minPitch=0,this._maxPitch=127,this._scale=j.ScaleTemplate.major.create("C"),this._filterPitchesByScale=!1,this._customPitchNames=null,this._pitchesCache=null,this.noteColor=this._defaultNoteColor,this.canAddNote=s=>!0,this.canEditNoteStart=s=>!0,this.canEditNoteEnd=s=>!0,this.canEditNotePitch=s=>!0,this.canDeleteNote=s=>!0,this._defaultNoteColors=["#f44336","#e81e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"]}get minPitch(){return this._minPitch}set minPitch(s){s!=this._minPitch&&(this._minPitch=s,this._pitchesCache=null)}get maxPitch(){return this._maxPitch}set maxPitch(s){s!=this._maxPitch&&(this._maxPitch=s,this._pitchesCache=null)}get scale(){return this._scale}set scale(s){s!==this._scale&&(this._scale=s,this._pitchesCache=null)}get filterPitchesByScale(){return this._filterPitchesByScale}set filterPitchesByScale(s){s!=this._filterPitchesByScale&&(this._filterPitchesByScale=s,this._pitchesCache=null)}get customPitchNames(){return this._customPitchNames}set customPitchNames(s){s!=this._customPitchNames&&(this._customPitchNames=s,this._pitchesCache=null)}get pitches(){if(this._pitchesCache==null){const s=[];if(this.customPitchNames){for(const p of this.customPitchNames.keys())s.push(p);s.sort((p,m)=>m-p)}else for(let p=this.maxPitch;p>=this.minPitch;p--)(!this.filterPitchesByScale||this.scale.contains(p))&&s.push(p);this._pitchesCache=s}return this._pitchesCache}get beatWidth(){return 100*this.xZoom}set beatWidth(s){this.xZoom=s/100}get pitchHeight(){return 20*this.yZoom}set pitchHeight(s){this.yZoom=s/20}get totalBeats(){var s;return((s=this.clip)==null?void 0:s.duration)??0}get beatsPerDivision(){return 1/this.divisionsPerBeat}get totalWidth(){return this.totalBeats*this.beatWidth}set totalWidth(s){this.totalBeats<=0||(this.beatWidth=s/this.totalBeats)}get totalHeight(){return this.clip?this.pitches.length*this.pitchHeight:0}set totalHeight(s){this.clip&&(this.pitchHeight=s/this.pitches.length)}pitchIsBlack(s){const p=s%12;return p==1||p==3||p==6||p==8||p==10}getPitchName(s){return this.customPitchNames?this.customPitchNames.get(s)??"":this.scale.getPitchName(s,!0)}getXFromBeat(s){return s*this.beatWidth}getBeatFromX(s){return Math.min(this.totalBeats,Math.max(0,s/this.beatWidth))}getYFromPitch(s){return this.pitches.indexOf(s)*this.pitchHeight}getPitchFromY(s){const p=Math.floor(s/this.pitchHeight);return p<0||p>=this.pitches.length?0:Math.min(127,Math.max(0,this.pitches[p]))}getBeatLines(){const s=[{beat:0,class:"bar-line"}];for(let m=0;m<this.beatsPerBar;m++){m>0&&s.push({beat:m,class:"beat-line"});for(let B=1;B<this.divisionsPerBeat;B++)s.push({beat:m+B/this.divisionsPerBeat,class:"division-line"})}const p=[];for(let m=0;m<this.totalBeats;m+=this.beatsPerBar)for(const B of s){const D=m+B.beat;D>=0&&D<=this.totalBeats&&p.push({beat:D,class:B.class})}return p}getNoteAt(s,p){return this.clip?this.clip.notes.find(m=>m.pitch==p&&m.contains(s))??null:null}getNearestDivisionBeat(s){return Math.round(s*this.divisionsPerBeat)/this.divisionsPerBeat}getPreviousDivisionBeat(s){return Math.floor(s*this.divisionsPerBeat)/this.divisionsPerBeat}getNextDivisionBeat(s){return Math.ceil(s*this.divisionsPerBeat)/this.divisionsPerBeat}getSnappedBeat(s){const p=this.getNearestDivisionBeat(s);return Math.abs(s-p)<=this.beatsPerDivision*this.snapStrength?p:s}_defaultNoteColor(s,p){let m=ic(this._defaultNoteColors[s.channel%16]);return p&&(m=m.brighten(.4)),typeof s.velocity=="number"?m=m.alpha((s.velocity+128)/255):m=m.alpha(.75),m.hex()}}class sc{constructor(s,p){this._isFinished=!1,this._finished=new j.ClockChildFinishedEvent,this._clipEditor=s,this._clipPlayer=p}get clipEditor(){return this._clipEditor}get clipPlayer(){return this._clipPlayer}get ref(){return this._ref}set ref(s){this._ref=s}withRef(s){return this._ref=s,this}get isFinished(){return this._isFinished||this._clipPlayer.isFinished}get finished(){return this._finished}update(s){this._clipEditor.markPlayheadsForUpdate()}finish(){this._isFinished=!0,this.finished.trigger(new j.ClockChildFinishedEventData(this))}}var lc=Object.defineProperty,cc=Object.getOwnPropertyDescriptor,L=(h,s,p,m)=>{for(var B=m>1?void 0:m?cc(s,p):s,D=h.length-1,ee;D>=0;D--)(ee=h[D])&&(B=(m?ee(s,p,B):ee(B))||B);return m&&B&&lc(s,p,B),B};let H=class extends Il{constructor(){super(),this._viewModel=new oc,this._highlightedPitch=-1,this._playheadUpdateTicker=0,this._svg=Jl(),this._svgPoint=null,this._behavior=new Ql(this,this._viewModel)}get clip(){return this._viewModel.clip}set clip(h){const s=this._viewModel.clip;this._viewModel.clip=h,this.requestUpdate("clip",s)}get xZoom(){return this._viewModel.xZoom}set xZoom(h){const s=this._viewModel.xZoom;this._viewModel.xZoom=h,this.requestUpdate("xZoom",s)}get yZoom(){return this._viewModel.yZoom}set yZoom(h){const s=this._viewModel.yZoom;this._viewModel.yZoom=h,this.requestUpdate("yZoom",s)}get width(){return this._viewModel.totalWidth}set width(h){const s=this._viewModel.totalWidth;this._viewModel.totalWidth=h,this.requestUpdate("width",s)}get height(){return this._viewModel.totalHeight}set height(h){const s=this._viewModel.totalHeight;this._viewModel.totalHeight=h,this.requestUpdate("height",s)}get beatsPerBar(){return this._viewModel.beatsPerBar}set beatsPerBar(h){const s=this._viewModel.beatsPerBar;this._viewModel.beatsPerBar=Math.max(1,Math.round(h)),this.requestUpdate("beatsPerBar",s)}get divisionsPerBeat(){return this._viewModel.divisionsPerBeat}set divisionsPerBeat(h){const s=this._viewModel.divisionsPerBeat;this._viewModel.divisionsPerBeat=Math.max(1,Math.round(h)),this.requestUpdate("divisionsPerBeat",s)}get snapStrength(){return this._viewModel.snapStrength}set snapStrength(h){const s=this._viewModel.snapStrength;this._viewModel.snapStrength=Math.min(Math.max(0,h),1),this.requestUpdate("snapStrength",s)}get noteResizeHandleArea(){return this._viewModel.noteResizeHandleArea}set noteResizeHandleArea(h){const s=this._viewModel.noteResizeHandleArea;this._viewModel.noteResizeHandleArea=Math.min(Math.max(0,h),1),this.requestUpdate("noteResizeHandleArea",s)}get minPitch(){return this._viewModel.minPitch}set minPitch(h){const s=this._viewModel.minPitch;if(typeof h=="string")try{h=j.pitch(h)}catch{try{h=Number(h)}catch{return}}this._viewModel.minPitch=Math.max(0,Math.round(h)),this.requestUpdate("minPitch",s)}get maxPitch(){return this._viewModel.maxPitch}set maxPitch(h){const s=this._viewModel.maxPitch;if(typeof h=="string")try{h=j.pitch(h)}catch{try{h=Number(h)}catch{return}}this._viewModel.maxPitch=Math.min(127,Math.round(h)),this.requestUpdate("maxPitch",s)}get scale(){return this._viewModel.scale}set scale(h){const s=this._viewModel.scale;this._viewModel.scale=h,this.requestUpdate("scale",s)}get filterPitchesByScale(){return this._viewModel.filterPitchesByScale}set filterPitchesByScale(h){const s=this._viewModel.filterPitchesByScale;this._viewModel.filterPitchesByScale=h,this.requestUpdate("filterPitchesByScale",s)}get customPitchNames(){return this._viewModel.customPitchNames}set customPitchNames(h){const s=this._viewModel.customPitchNames;this._viewModel.customPitchNames=h,this.requestUpdate("customPitchNames",s)}get noteColor(){return this._viewModel.noteColor}set noteColor(h){const s=this._viewModel.noteColor;this._viewModel.noteColor=h,this.requestUpdate("noteColor",s)}get canAddNote(){return this._viewModel.canAddNote}set canAddNote(h){const s=this._viewModel.canAddNote;this._viewModel.canAddNote=h,this.requestUpdate("canAddNote",s)}get canEditNoteStart(){return this._viewModel.canEditNoteStart}set canEditNoteStart(h){const s=this._viewModel.canEditNoteStart;this._viewModel.canEditNoteStart=h,this.requestUpdate("canEditNoteStart",s)}get canEditNoteEnd(){return this._viewModel.canEditNoteEnd}set canEditNoteEnd(h){const s=this._viewModel.canEditNoteEnd;this._viewModel.canEditNoteEnd=h,this.requestUpdate("canEditNoteEnd",s)}get canEditNotePitch(){return this._viewModel.canEditNotePitch}set canEditNotePitch(h){const s=this._viewModel.canEditNotePitch;this._viewModel.canEditNotePitch=h,this.requestUpdate("canEditNotePitch",s)}get canDeleteNote(){return this._viewModel.canDeleteNote}set canDeleteNote(h){const s=this._viewModel.canDeleteNote;this._viewModel.canDeleteNote=h,this.requestUpdate("canDeleteNote",s)}_getCursorPoint(h){const s=this._svg.value,p=this._svgPoint;return!p||!s?{x:-1,y:-1}:(p.x=h.clientX,p.y=h.clientY,p.matrixTransform(s.getScreenCTM().inverse()))}_onMouseDown(h){this._behavior.onMouseDown(this._getCursorPoint(h),h.button)}_onMouseMove(h){const s=this._getCursorPoint(h);this._highlightedPitch=this._viewModel.getPitchFromY(s.y),this._behavior.onMouseMove(s)}_onMouseUp(h){this._behavior.onMouseUp(this._getCursorPoint(h),h.button)}_onMouseLeave(h){this._highlightedPitch=-1,this._behavior.onMouseLeave(this._getCursorPoint(h),h.button)}_onDoubleClick(h){this._behavior.onDoubleClick(this._getCursorPoint(h))}addPlayhead(h){if(h.clip!=this.clip)throw Error("Cannot add a playhead for a clip player that's playing a different clip than the one being edited");const s=new sc(this,h);return this._viewModel.playheads.push(s),s}markPlayheadsForUpdate(){this._playheadUpdateTicker=(this._playheadUpdateTicker+1)%1e4}firstUpdated(){const h=this._svg.value;this._svgPoint=h.createSVGPoint()}render(){const h=this._viewModel;return Zl`
            <svg :viewBox="0 0 ${h.totalWidth} ${h.totalHeight}"
                preserveAspectRatio="none" fill="#666666"
                ${Kl(this._svg)} class="edit-area"
                @mousedown=${this._onMouseDown}
                @mousemove=${this._onMouseMove}
                @mouseup=${this._onMouseUp}
                @mouseleave=${this._onMouseLeave}
                @dblclick=${this._onDoubleClick}
                width=${h.totalWidth}
                height=${h.totalHeight}>

                <rect x="0" y="0" 
                    width=${h.totalWidth}
                    height=${h.totalHeight}
                    fill="#666"></rect>

                ${this._renderBlackLines()}

                ${this._renderPitchSeparatorLines()}

                ${this._renderBeatLines()}

                ${this._renderPitchNames()}

                ${this._renderNotes()}

                ${this._renderPlayheads()}
            </svg>
        `}_renderBlackLines(){const h=this._viewModel,s=[];for(const p of h.pitches)h.pitchIsBlack(p)&&s.push(_e`
                    <rect x="0" y=${h.getYFromPitch(p)}
                        width=${h.totalWidth}
                        height=${h.pitchHeight}
                        fill="#555"></rect>
                `);return s}_renderPitchSeparatorLines(){const h=this._viewModel,s=[];if(h.pitches.length==0)return s;let p=h.pitchIsBlack(h.pitches[0]);for(let m=1;m<h.pitches.length;m++){const B=h.pitches[m],D=h.pitchIsBlack(B);p==D&&s.push(_e`
                    <line x1="0" y1=${m*h.pitchHeight}
                        x2=${h.totalWidth} y2=${m*h.pitchHeight}
                        class="pitch-separator-line"/>
                `),p=D}return s}_renderBeatLines(){const h=this._viewModel,s=[];for(const p of h.getBeatLines())s.push(_e`
                <line x1=${p.beat*h.beatWidth} y1="0" 
                    x2=${p.beat*h.beatWidth} y2=${h.totalHeight}
                    class=${p.class}/>
            `);return s}_renderPitchNames(){const h=this._viewModel,s=[],p={fontSize:h.pitchHeight-2+"px"};function m(B,D){return _e`
            <text x=${B.beat*h.beatWidth+2}
                  y=${h.getYFromPitch(D)+h.pitchHeight-h.pitchHeight/5}
                  style=${ac(p)}
                  class="pitch-label">
                ${h.getPitchName(D)}
            </text>`}for(const B of h.getBeatLines().filter(D=>D.beat==0||D.class=="bar-line")){if(!h.customPitchNames)for(const D of h.pitches.filter(ee=>ee%12==h.scale.root%12&&ee!=this._highlightedPitch))s.push(m(B,D));this._highlightedPitch>=0&&s.push(m(B,this._highlightedPitch))}return s}_renderNotes(){var p;const h=this._viewModel,s=[];for(const m of((p=this.clip)==null?void 0:p.notes)??[])s.push(_e`
                <rect x=${m.start*h.beatWidth}
                    y=${h.getYFromPitch(m.pitch)}
                    height=${h.pitchHeight}
                    width=${m.duration*h.beatWidth}
                    stroke="black" stroke-width="0.5"
                    fill=${h.noteColor(m,m===h.selectedNote)}></rect>
            `);return s}_renderPlayheads(){const h=this._viewModel,s=[];for(const p of h.playheads){const m=(p.clipPlayer.startBeat+p.clipPlayer.beatsPassed)%this.clip.duration;s.push(_e`
                <line x1=${m*h.beatWidth} y1="0" 
                    x2=${m*h.beatWidth} y2=${h.totalHeight}
                    class="playhead"/>
            `)}return s}};H.styles=Wl`
        .edit-area {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -khtml-user-select: none;
            -ms-user-select: none;
        }

        .bar-line {
            stroke: #303030;
            stroke-width: 2;
            stroke-dasharray: 5,0;
        }

        .beat-line {
            stroke: #E0E0E0;
            stroke-width: 1;
            stroke-dasharray: 5,0;
        }

        .division-line {
            stroke: #A0A0A0;
            stroke-width: 1;
            stroke-dasharray: 2,5;
        }

        .pitch-separator-line {
            stroke: #5E5E5E;
            stroke-width: 1;
        }

        .pitch-label {
            fill: #FFFFFF99;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 20px;
        }

        .playhead {
            stroke: #F02222;
            stroke-width: 2;
        }
    `;L([q({attribute:!1})],H.prototype,"clip",1);L([q({attribute:"x-zoom",type:Number})],H.prototype,"xZoom",1);L([q({attribute:"y-zoom",type:Number})],H.prototype,"yZoom",1);L([q({attribute:"width",type:Number})],H.prototype,"width",1);L([q({attribute:"height",type:Number})],H.prototype,"height",1);L([q({attribute:"beats-per-bar",type:Number,reflect:!0})],H.prototype,"beatsPerBar",1);L([q({attribute:"divisions-per-beat",type:Number,reflect:!0})],H.prototype,"divisionsPerBeat",1);L([q({attribute:"snap-strength",type:Number,reflect:!0})],H.prototype,"snapStrength",1);L([q({attribute:"note-resize-handle-area",type:Number,reflect:!0})],H.prototype,"noteResizeHandleArea",1);L([q({attribute:"min-pitch",type:String,reflect:!0})],H.prototype,"minPitch",1);L([q({attribute:"max-pitch",type:String,reflect:!0})],H.prototype,"maxPitch",1);L([q({attribute:!1})],H.prototype,"scale",1);L([q({attribute:"filter-pitches-by-scale",type:Boolean})],H.prototype,"filterPitchesByScale",1);L([q({attribute:!1})],H.prototype,"customPitchNames",1);L([q({attribute:!1})],H.prototype,"noteColor",1);L([q({attribute:!1})],H.prototype,"canAddNote",1);L([q({attribute:!1})],H.prototype,"canEditNoteStart",1);L([q({attribute:!1})],H.prototype,"canEditNoteEnd",1);L([q({attribute:!1})],H.prototype,"canEditNotePitch",1);L([q({attribute:!1})],H.prototype,"canDeleteNote",1);L([cn()],H.prototype,"_highlightedPitch",2);L([cn()],H.prototype,"_playheadUpdateTicker",2);H=L([Vl("clip-editor")],H);const gc={title:"ClipEditor",tags:["autodocs"],render:h=>{const s=new H;for(const p in h)s[p]=h[p];return s},argTypes:{clip:{control:"none",description:"The shimi.Clip object which the ClipEditor will display and enable editing of."},minPitch:{control:{type:"number",min:0,max:127,step:1},description:"The minimum pitch in the piano roll which the ClipEditor will render."},maxPitch:{control:{type:"number",min:0,max:127,step:1},description:"The maximum pitch in the piano roll which the ClipEditor will render."},xZoom:{control:{type:"number",min:.5,max:2,step:.1},description:"Multiplier to be used when rendering x-coordinates in the component."},yZoom:{control:{type:"number",min:.5,max:2,step:.1},description:"Multiplier to be used when rendering y-coordinates in the component."},width:{control:{type:"number",min:100,max:1e3,step:10},description:"Controls the total width of the component."},height:{control:{type:"number",min:100,max:1e3,step:10},description:"Controls the total height of the component."},beatsPerBar:{control:{type:"number",min:1,max:8,step:1},description:"How many beat lines to render before a bar line occurs"},divisionsPerBeat:{control:{type:"number",min:1,max:8,step:1},description:"How many subdivisions to render per beat. These provide a useful visual cue where each beat divides, as well as note snapping."},snapStrength:{control:{type:"number",min:0,max:1,step:.01},description:"How strongly note starts & ends will snap to beat divisions. Default value = 0.05, meaning that given the distance from one beat division to the next, a note start or end must be within 5% of that distance from the division to snap to it."},noteResizeHandleArea:{control:{type:"number",min:0,max:1,step:.01},description:"How much of the note's area can be grabbed to resize it, rather than to move it. The default value = 0.2, meaning if you grab the left-most 20% of a note, you be resizing it from its start. Alternatively if you grab the right-most 20% of a note, you'd be resizing it from its end."},scale:{control:"none",description:"The scale object to use when getting pitch names."},filterPitchesByScale:{control:"boolean",description:"If true, then only pitches which belong to the currently set scale will be rendered. Other pitches, as well as any notes on those pitches, won't be rendered."},customPitchNames:{control:"none",description:"A Map<number, string> object that maps pitch numbers to pitch names"},noteColor:{control:"none",description:"Function that takes in a shimi.ClipNote object & boolean flag representing whether that note is selected, and returns a string color value."},canAddNote:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if that note would be allowed to be added. If you want to add custom modifications to notes added through the UI, this can also be a good place to do so."},canEditNoteStart:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the start of the note would be allowed to be altered."},canEditNoteEnd:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the end of the note would be allowed to be altered."},canEditNotePitch:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the pitch of the note would be allowed to be altered."},canDeleteNote:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the note would be allowed to be removed from the clip."}}};function Y(){return new j.Clip(8).addNote([0,1],1,"C4",80).addNote([2,3],1,"G4",80).addNote([4,5],1,"A4",80).addNote([6,7],1,"G4",80)}function hc(){return new j.Clip(8).addNote(0,.5,"C4",80,0).addNote(.5,.5,"D4",80,1).addNote(1,.5,"E4",80,2).addNote(1.5,.5,"F4",80,3).addNote(2,.5,"G4",80,4).addNote(2.5,.5,"A4",80,5).addNote(3,.5,"B4",80,6).addNote(3.5,.5,"C5",80,7).addNote(4,.5,"B4",80,8).addNote(4.5,.5,"A4",80,9).addNote(5,.5,"G4",80,10).addNote(5.5,.5,"F4",80,11).addNote(6,.5,"E4",80,12).addNote(6.5,.5,"D4",80,13).addNote(7,1,"C4",80,14)}const He={args:{clip:Y(),minPitch:55,maxPitch:79}},Le={args:{}},Re={args:{clip:Y(),minPitch:60,maxPitch:72,xZoom:.6,yZoom:1.5}},Oe={args:{clip:Y(),minPitch:60,maxPitch:72,width:500,height:500}},qe={args:{clip:Y(),minPitch:60,maxPitch:72,beatsPerBar:3,divisionsPerBeat:5}},Ge={args:{clip:Y(),minPitch:60,maxPitch:72,snapStrength:.5}},Ue={args:{clip:Y(),minPitch:60,maxPitch:72,noteResizeHandleArea:0}},We={args:{clip:Y(),minPitch:55,maxPitch:79,scale:j.ScaleTemplate.major.create("Gb")}},Ie={args:{clip:Y(),minPitch:55,maxPitch:79,scale:j.ScaleTemplate.major.create("G"),filterPitchesByScale:!0}},Ze={args:{clip:Y(),minPitch:24,maxPitch:35,customPitchNames:new Map().set(24,"A").set(25,"B").set(26,"C").set(27,"D").set(28,"E").set(29,"F").set(30,"G").set(31,"H").set(32,"I").set(33,"J").set(34,"K").set(35,"L")}},Ve={args:{clip:hc(),minPitch:60,maxPitch:72}},je={args:{clip:new j.Clip(8),minPitch:60,maxPitch:72,canAddNote:h=>h.pitch<67}},Ye={args:{clip:Y(),minPitch:60,maxPitch:72,canEditNoteStart:h=>h.start<4}},Xe={args:{clip:Y(),minPitch:60,maxPitch:72,canEditNoteEnd:h=>h.pitch>65}},Je={args:{clip:Y(),minPitch:60,maxPitch:72,canEditNotePitch:h=>h.start<4}},Qe={args:{clip:Y(),minPitch:60,maxPitch:72,canDeleteNote:h=>!1}},Ke={args:{clip:Y(),minPitch:60,maxPitch:72},play:async({canvasElement:h})=>{const s=h.children.item(0),p=new j.Clock,m=p.addChild(new j.Metronome(120)),B=new j.MidiBus,D=p.addChild(new j.ClipPlayer(s.clip,m,B));D.beatCount=s.clip.duration,p.addChild(s.addPlayhead(D)),p.start()}};var ua,fa,va;He.parameters={...He.parameters,docs:{...(ua=He.parameters)==null?void 0:ua.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79
  }
}`,...(va=(fa=He.parameters)==null?void 0:fa.docs)==null?void 0:va.source}}};var da,pa,ga;Le.parameters={...Le.parameters,docs:{...(da=Le.parameters)==null?void 0:da.docs,source:{originalSource:`{
  args: {}
}`,...(ga=(pa=Le.parameters)==null?void 0:pa.docs)==null?void 0:ga.source}}};var ba,ma,ya;Re.parameters={...Re.parameters,docs:{...(ba=Re.parameters)==null?void 0:ba.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    xZoom: 0.6,
    yZoom: 1.5
  }
}`,...(ya=(ma=Re.parameters)==null?void 0:ma.docs)==null?void 0:ya.source}}};var wa,_a,Pa;Oe.parameters={...Oe.parameters,docs:{...(wa=Oe.parameters)==null?void 0:wa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    width: 500,
    height: 500
  }
}`,...(Pa=(_a=Oe.parameters)==null?void 0:_a.docs)==null?void 0:Pa.source}}};var ka,$a,Na;qe.parameters={...qe.parameters,docs:{...(ka=qe.parameters)==null?void 0:ka.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    beatsPerBar: 3,
    divisionsPerBeat: 5
  }
}`,...(Na=($a=qe.parameters)==null?void 0:$a.docs)==null?void 0:Na.source}}};var Ma,xa,Ca;Ge.parameters={...Ge.parameters,docs:{...(Ma=Ge.parameters)==null?void 0:Ma.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    snapStrength: 0.5
  }
}`,...(Ca=(xa=Ge.parameters)==null?void 0:xa.docs)==null?void 0:Ca.source}}};var Ea,Ba,Sa;Ue.parameters={...Ue.parameters,docs:{...(Ea=Ue.parameters)==null?void 0:Ea.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    noteResizeHandleArea: 0
  }
}`,...(Sa=(Ba=Ue.parameters)==null?void 0:Ba.docs)==null?void 0:Sa.source}}};var Fa,Aa,Ta;We.parameters={...We.parameters,docs:{...(Fa=We.parameters)==null?void 0:Fa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79,
    scale: ScaleTemplate.major.create('Gb')
  }
}`,...(Ta=(Aa=We.parameters)==null?void 0:Aa.docs)==null?void 0:Ta.source}}};var Da,za,Ha;Ie.parameters={...Ie.parameters,docs:{...(Da=Ie.parameters)==null?void 0:Da.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79,
    scale: ScaleTemplate.major.create('G'),
    filterPitchesByScale: true
  }
}`,...(Ha=(za=Ie.parameters)==null?void 0:za.docs)==null?void 0:Ha.source}}};var La,Ra,Oa;Ze.parameters={...Ze.parameters,docs:{...(La=Ze.parameters)==null?void 0:La.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 24,
    maxPitch: 35,
    customPitchNames: new Map<number, string>().set(24, 'A').set(25, 'B').set(26, 'C').set(27, 'D').set(28, 'E').set(29, 'F').set(30, 'G').set(31, 'H').set(32, 'I').set(33, 'J').set(34, 'K').set(35, 'L')
  }
}`,...(Oa=(Ra=Ze.parameters)==null?void 0:Ra.docs)==null?void 0:Oa.source}}};var qa,Ga,Ua;Ve.parameters={...Ve.parameters,docs:{...(qa=Ve.parameters)==null?void 0:qa.docs,source:{originalSource:`{
  args: {
    clip: multiChannelClip(),
    minPitch: 60,
    maxPitch: 72
  }
}`,...(Ua=(Ga=Ve.parameters)==null?void 0:Ga.docs)==null?void 0:Ua.source}}};var Wa,Ia,Za;je.parameters={...je.parameters,docs:{...(Wa=je.parameters)==null?void 0:Wa.docs,source:{originalSource:`{
  args: {
    clip: new Clip(8),
    minPitch: 60,
    maxPitch: 72,
    canAddNote: n => n.pitch < 67
  }
}`,...(Za=(Ia=je.parameters)==null?void 0:Ia.docs)==null?void 0:Za.source}}};var Va,ja,Ya;Ye.parameters={...Ye.parameters,docs:{...(Va=Ye.parameters)==null?void 0:Va.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNoteStart: n => n.start < 4
  }
}`,...(Ya=(ja=Ye.parameters)==null?void 0:ja.docs)==null?void 0:Ya.source}}};var Xa,Ja,Qa;Xe.parameters={...Xe.parameters,docs:{...(Xa=Xe.parameters)==null?void 0:Xa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNoteEnd: n => n.pitch > 65
  }
}`,...(Qa=(Ja=Xe.parameters)==null?void 0:Ja.docs)==null?void 0:Qa.source}}};var Ka,en,tn;Je.parameters={...Je.parameters,docs:{...(Ka=Je.parameters)==null?void 0:Ka.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNotePitch: n => n.start < 4
  }
}`,...(tn=(en=Je.parameters)==null?void 0:en.docs)==null?void 0:tn.source}}};var rn,an,nn;Qe.parameters={...Qe.parameters,docs:{...(rn=Qe.parameters)==null?void 0:rn.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canDeleteNote: n => false
  }
}`,...(nn=(an=Qe.parameters)==null?void 0:an.docs)==null?void 0:nn.source}}};var on,sn,ln;Ke.parameters={...Ke.parameters,docs:{...(on=Ke.parameters)==null?void 0:on.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72
  },
  play: async ({
    canvasElement
  }) => {
    const editor = (canvasElement.children.item(0) as ClipEditor);
    const clock = new Clock();
    const metronome = (clock.addChild(new Metronome(120)) as Metronome);
    const midiOut = new MidiBus();
    const clipPlayer = (clock.addChild(new ClipPlayer(editor.clip, metronome, midiOut)) as ClipPlayer);
    clipPlayer.beatCount = editor.clip.duration;
    clock.addChild(editor.addPlayhead(clipPlayer));
    clock.start();
  }
}`,...(ln=(sn=Ke.parameters)==null?void 0:sn.docs)==null?void 0:ln.source}}};const bc=["Primary","NoClip","XAndYZoom","WidthAndHeight","BeatsPerBarAndDivisionsPerBeat","HighSnapStrength","NoNoteResizeHandleArea","WithScaleSet","FilterPitchesByScale","CustomPitchNaming","DefaultNoteColoring","CanOnlyAddNotesBelowG4","CanOnlyEditNoteStartBeforeBeat4","CanOnlyEditNoteEndAboveF4","CanOnlyEditNotePitchBeforeBeat4","CantDeleteNotes","Playhead"];export{qe as BeatsPerBarAndDivisionsPerBeat,je as CanOnlyAddNotesBelowG4,Xe as CanOnlyEditNoteEndAboveF4,Je as CanOnlyEditNotePitchBeforeBeat4,Ye as CanOnlyEditNoteStartBeforeBeat4,Qe as CantDeleteNotes,Ze as CustomPitchNaming,Ve as DefaultNoteColoring,Ie as FilterPitchesByScale,Ge as HighSnapStrength,Le as NoClip,Ue as NoNoteResizeHandleArea,Ke as Playhead,He as Primary,Oe as WidthAndHeight,We as WithScaleSet,Re as XAndYZoom,bc as __namedExportsOrder,gc as default};
