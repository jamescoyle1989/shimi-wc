import{A as va,T as Ul,i as Il,s as Wl,x as Zl,b as Ce}from"./lit-element-3795bd65.js";import{d as ae,n as O,t as Vl,e as Yl}from"./index-88dafb31.js";import{e as jl}from"./directive-helpers-cd0fa6f2.js";import{c as Xl,g as Ql}from"./_commonjsHelpers-725317a4.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const on={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},sn=l=>(...i)=>({_$litDirective$:l,values:i});let ln=class{constructor(i){}get _$AU(){return this._$AM._$AU}_$AT(i,u,f){this._$Ct=i,this._$AM=u,this._$Ci=f}_$AS(i,u){return this.update(i,u)}update(i,u){return this.render(...u)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ee=(l,i)=>{var u,f;const y=l._$AN;if(y===void 0)return!1;for(const k of y)(f=(u=k)._$AO)===null||f===void 0||f.call(u,i,!1),Ee(k,i);return!0},rt=l=>{let i,u;do{if((i=l._$AM)===void 0)break;u=i._$AN,u.delete(l),l=i}while((u==null?void 0:u.size)===0)},cn=l=>{for(let i;i=l._$AM;l=i){let u=i._$AN;if(u===void 0)i._$AN=u=new Set;else if(u.has(l))break;u.add(l),ec(i)}};function Jl(l){this._$AN!==void 0?(rt(this),this._$AM=l,cn(this)):this._$AM=l}function Kl(l,i=!1,u=0){const f=this._$AH,y=this._$AN;if(y!==void 0&&y.size!==0)if(i)if(Array.isArray(f))for(let k=u;k<f.length;k++)Ee(f[k],!1),rt(f[k]);else f!=null&&(Ee(f,!1),rt(f));else Ee(this,l)}const ec=l=>{var i,u,f,y;l.type==on.CHILD&&((i=(f=l)._$AP)!==null&&i!==void 0||(f._$AP=Kl),(u=(y=l)._$AQ)!==null&&u!==void 0||(y._$AQ=Jl))};class tc extends ln{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,u,f){super._$AT(i,u,f),cn(this),this.isConnected=i._$AU}_$AO(i,u=!0){var f,y;i!==this.isConnected&&(this.isConnected=i,i?(f=this.reconnected)===null||f===void 0||f.call(this):(y=this.disconnected)===null||y===void 0||y.call(this)),u&&(Ee(this,i),rt(this))}setValue(i){if(jl(this._$Ct))this._$Ct._$AI(i,this);else{const u=[...this._$Ct._$AH];u[this._$Ci]=i,this._$Ct._$AI(u,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rc=()=>new ac;let ac=class{};const Ft=new WeakMap,nc=sn(class extends tc{render(l){return va}update(l,[i]){var u;const f=i!==this.G;return f&&this.G!==void 0&&this.ot(void 0),(f||this.rt!==this.lt)&&(this.G=i,this.dt=(u=l.options)===null||u===void 0?void 0:u.host,this.ot(this.lt=l.element)),va}ot(l){var i;if(typeof this.G=="function"){const u=(i=this.dt)!==null&&i!==void 0?i:globalThis;let f=Ft.get(u);f===void 0&&(f=new WeakMap,Ft.set(u,f)),f.get(this.G)!==void 0&&this.G.call(this.dt,void 0),f.set(this.G,l),l!==void 0&&this.G.call(this.dt,l)}else this.G.value=l}get rt(){var l,i,u;return typeof this.G=="function"?(i=Ft.get((l=this.dt)!==null&&l!==void 0?l:globalThis))===null||i===void 0?void 0:i.get(this.G):(u=this.G)===null||u===void 0?void 0:u.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hn="important",ic=" !"+hn,oc=sn(class extends ln{constructor(l){var i;if(super(l),l.type!==on.ATTRIBUTE||l.name!=="style"||((i=l.strings)===null||i===void 0?void 0:i.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(l){return Object.keys(l).reduce((i,u)=>{const f=l[u];return f==null?i:i+`${u=u.includes("-")?u:u.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${f};`},"")}update(l,[i]){const{style:u}=l.element;if(this.ht===void 0){this.ht=new Set;for(const f in i)this.ht.add(f);return this.render(i)}this.ht.forEach(f=>{i[f]==null&&(this.ht.delete(f),f.includes("-")?u.removeProperty(f):u[f]="")});for(const f in i){const y=i[f];if(y!=null){this.ht.add(f);const k=typeof y=="string"&&y.endsWith(ic);f.includes("-")||k?u.setProperty(f,k?y.slice(0,-11):y,k?hn:""):u[f]=y}}return Ul}});var un={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(l,i){(function(u,f){l.exports=f()})(Xl,function(){for(var u=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e<t?t:e>r?r:e},f=u,y=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=f(e[t],0,255)):t===3&&(e[t]=f(e[t],0,1));return e},k={},W=0,ne=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];W<ne.length;W+=1){var ce=ne[W];k["[object "+ce+"]"]=ce.toLowerCase()}var Ae=function(e){return k[Object.prototype.toString.call(e)]||"object"},fn=Ae,vn=function(e,t){return t===void 0&&(t=null),e.length>=3?Array.prototype.slice.call(e):fn(e[0])=="object"&&t?t.split("").filter(function(r){return e[0][r]!==void 0}).map(function(r){return e[0][r]}):e[0]},dn=Ae,pn=function(e){if(e.length<2)return null;var t=e.length-1;return dn(e[t])=="string"?e[t].toLowerCase():null},Pe=Math.PI,b={clip_rgb:y,limit:u,type:Ae,unpack:vn,last:pn,PI:Pe,TWOPI:Pe*2,PITHIRD:Pe/3,DEG2RAD:Pe/180,RAD2DEG:180/Pe},q={format:{},autodetect:[]},gn=b.last,bn=b.clip_rgb,Tt=b.type,he=q,Dt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var a=this;if(Tt(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var o=gn(t),s=!1;if(!o){s=!0,he.sorted||(he.autodetect=he.autodetect.sort(function(d,m){return m.p-d.p}),he.sorted=!0);for(var n=0,c=he.autodetect;n<c.length;n+=1){var h=c[n];if(o=h.test.apply(h,t),o)break}}if(he.format[o]){var v=he.format[o].apply(null,s?t:t.slice(0,-1));a._rgb=bn(v)}else throw new Error("unknown format: "+t);a._rgb.length===3&&a._rgb.push(1)};Dt.prototype.toString=function(){return Tt(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var P=Dt,Be=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Be.Color,[null].concat(e)))};Be.Color=P,Be.version="2.4.2";var L=Be,mn=b.unpack,zt=Math.max,wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=mn(e,"rgb"),a=r[0],o=r[1],s=r[2];a=a/255,o=o/255,s=s/255;var n=1-zt(a,zt(o,s)),c=n<1?1/(1-n):0,h=(1-a-n)*c,v=(1-o-n)*c,d=(1-s-n)*c;return[h,v,d,n]},_n=wn,yn=b.unpack,$n=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=yn(e,"cmyk");var r=e[0],a=e[1],o=e[2],s=e[3],n=e.length>4?e[4]:1;return s===1?[0,0,0,n]:[r>=1?0:255*(1-r)*(1-s),a>=1?0:255*(1-a)*(1-s),o>=1?0:255*(1-o)*(1-s),n]},kn=$n,Pn=L,Ht=P,Rt=q,Nn=b.unpack,Mn=b.type,xn=_n;Ht.prototype.cmyk=function(){return xn(this._rgb)},Pn.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ht,[null].concat(e,["cmyk"])))},Rt.format.cmyk=kn,Rt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Nn(e,"cmyk"),Mn(e)==="array"&&e.length===4)return"cmyk"}});var Cn=b.unpack,En=b.last,at=function(e){return Math.round(e*100)/100},An=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Cn(e,"hsla"),a=En(e)||"lsa";return r[0]=at(r[0]||0),r[1]=at(r[1]*100)+"%",r[2]=at(r[2]*100)+"%",a==="hsla"||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,a="hsla"):r.length=3,a+"("+r.join(",")+")"},Bn=An,Sn=b.unpack,Fn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Sn(e,"rgba");var r=e[0],a=e[1],o=e[2];r/=255,a/=255,o/=255;var s=Math.min(r,a,o),n=Math.max(r,a,o),c=(n+s)/2,h,v;return n===s?(h=0,v=Number.NaN):h=c<.5?(n-s)/(n+s):(n-s)/(2-n-s),r==n?v=(a-o)/(n-s):a==n?v=2+(o-r)/(n-s):o==n&&(v=4+(r-a)/(n-s)),v*=60,v<0&&(v+=360),e.length>3&&e[3]!==void 0?[v,h,c,e[3]]:[v,h,c]},Lt=Fn,Tn=b.unpack,Dn=b.last,zn=Bn,Hn=Lt,nt=Math.round,Rn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Tn(e,"rgba"),a=Dn(e)||"rgb";return a.substr(0,3)=="hsl"?zn(Hn(r),a):(r[0]=nt(r[0]),r[1]=nt(r[1]),r[2]=nt(r[2]),(a==="rgba"||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,a="rgba"),a+"("+r.slice(0,a==="rgb"?3:4).join(",")+")")},Ln=Rn,Gn=b.unpack,it=Math.round,On=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];t=Gn(t,"hsl");var a=t[0],o=t[1],s=t[2],n,c,h;if(o===0)n=c=h=s*255;else{var v=[0,0,0],d=[0,0,0],m=s<.5?s*(1+o):s+o-s*o,p=2*s-m,_=a/360;v[0]=_+1/3,v[1]=_,v[2]=_-1/3;for(var w=0;w<3;w++)v[w]<0&&(v[w]+=1),v[w]>1&&(v[w]-=1),6*v[w]<1?d[w]=p+(m-p)*6*v[w]:2*v[w]<1?d[w]=m:3*v[w]<2?d[w]=p+(m-p)*(2/3-v[w])*6:d[w]=p;e=[it(d[0]*255),it(d[1]*255),it(d[2]*255)],n=e[0],c=e[1],h=e[2]}return t.length>3?[n,c,h,t[3]]:[n,c,h,1]},Gt=On,Ot=Gt,qt=q,Ut=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,It=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Wt=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Zt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Vt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Yt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,jt=Math.round,Xt=function(e){e=e.toLowerCase().trim();var t;if(qt.format.named)try{return qt.format.named(e)}catch{}if(t=e.match(Ut)){for(var r=t.slice(1,4),a=0;a<3;a++)r[a]=+r[a];return r[3]=1,r}if(t=e.match(It)){for(var o=t.slice(1,5),s=0;s<4;s++)o[s]=+o[s];return o}if(t=e.match(Wt)){for(var n=t.slice(1,4),c=0;c<3;c++)n[c]=jt(n[c]*2.55);return n[3]=1,n}if(t=e.match(Zt)){for(var h=t.slice(1,5),v=0;v<3;v++)h[v]=jt(h[v]*2.55);return h[3]=+h[3],h}if(t=e.match(Vt)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var m=Ot(d);return m[3]=1,m}if(t=e.match(Yt)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var _=Ot(p);return _[3]=+t[4],_}};Xt.test=function(e){return Ut.test(e)||It.test(e)||Wt.test(e)||Zt.test(e)||Vt.test(e)||Yt.test(e)};var qn=Xt,Un=L,Qt=P,Jt=q,In=b.type,Wn=Ln,Kt=qn;Qt.prototype.css=function(e){return Wn(this._rgb,e)},Un.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Qt,[null].concat(e,["css"])))},Jt.format.css=Kt,Jt.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&In(e)==="string"&&Kt.test(e))return"css"}});var er=P,Zn=L,Vn=q,Yn=b.unpack;Vn.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Yn(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},Zn.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(er,[null].concat(e,["gl"])))},er.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var jn=b.unpack,Xn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=jn(e,"rgb"),a=r[0],o=r[1],s=r[2],n=Math.min(a,o,s),c=Math.max(a,o,s),h=c-n,v=h*100/255,d=n/(255-h)*100,m;return h===0?m=Number.NaN:(a===c&&(m=(o-s)/h),o===c&&(m=2+(s-a)/h),s===c&&(m=4+(a-o)/h),m*=60,m<0&&(m+=360)),[m,v,d]},Qn=Xn,Jn=b.unpack,Kn=Math.floor,ei=function(){for(var e,t,r,a,o,s,n=[],c=arguments.length;c--;)n[c]=arguments[c];n=Jn(n,"hcg");var h=n[0],v=n[1],d=n[2],m,p,_;d=d*255;var w=v*255;if(v===0)m=p=_=d;else{h===360&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var N=Kn(h),C=h-N,A=d*(1-v),S=A+w*(1-C),Z=A+w*C,I=A+w;switch(N){case 0:e=[I,Z,A],m=e[0],p=e[1],_=e[2];break;case 1:t=[S,I,A],m=t[0],p=t[1],_=t[2];break;case 2:r=[A,I,Z],m=r[0],p=r[1],_=r[2];break;case 3:a=[A,S,I],m=a[0],p=a[1],_=a[2];break;case 4:o=[Z,A,I],m=o[0],p=o[1],_=o[2];break;case 5:s=[I,A,S],m=s[0],p=s[1],_=s[2];break}}return[m,p,_,n.length>3?n[3]:1]},ti=ei,ri=b.unpack,ai=b.type,ni=L,tr=P,rr=q,ii=Qn;tr.prototype.hcg=function(){return ii(this._rgb)},ni.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tr,[null].concat(e,["hcg"])))},rr.format.hcg=ti,rr.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ri(e,"hcg"),ai(e)==="array"&&e.length===3)return"hcg"}});var oi=b.unpack,si=b.last,Se=Math.round,li=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=oi(e,"rgba"),a=r[0],o=r[1],s=r[2],n=r[3],c=si(e)||"auto";n===void 0&&(n=1),c==="auto"&&(c=n<1?"rgba":"rgb"),a=Se(a),o=Se(o),s=Se(s);var h=a<<16|o<<8|s,v="000000"+h.toString(16);v=v.substr(v.length-6);var d="0"+Se(n*255).toString(16);switch(d=d.substr(d.length-2),c.toLowerCase()){case"rgba":return"#"+v+d;case"argb":return"#"+d+v;default:return"#"+v}},ar=li,ci=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,hi=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ui=function(e){if(e.match(ci)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16),r=t>>16,a=t>>8&255,o=t&255;return[r,a,o,1]}if(e.match(hi)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var s=parseInt(e,16),n=s>>24&255,c=s>>16&255,h=s>>8&255,v=Math.round((s&255)/255*100)/100;return[n,c,h,v]}throw new Error("unknown hex color: "+e)},nr=ui,fi=L,ir=P,vi=b.type,or=q,di=ar;ir.prototype.hex=function(e){return di(this._rgb,e)},fi.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ir,[null].concat(e,["hex"])))},or.format.hex=nr,or.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&vi(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var pi=b.unpack,sr=b.TWOPI,gi=Math.min,bi=Math.sqrt,mi=Math.acos,wi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=pi(e,"rgb"),a=r[0],o=r[1],s=r[2];a/=255,o/=255,s/=255;var n,c=gi(a,o,s),h=(a+o+s)/3,v=h>0?1-c/h:0;return v===0?n=NaN:(n=(a-o+(a-s))/2,n/=bi((a-o)*(a-o)+(a-s)*(o-s)),n=mi(n),s>o&&(n=sr-n),n/=sr),[n*360,v,h]},_i=wi,yi=b.unpack,ot=b.limit,de=b.TWOPI,st=b.PITHIRD,pe=Math.cos,$i=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=yi(e,"hsi");var r=e[0],a=e[1],o=e[2],s,n,c;return isNaN(r)&&(r=0),isNaN(a)&&(a=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(c=(1-a)/3,s=(1+a*pe(de*r)/pe(st-de*r))/3,n=1-(c+s)):r<2/3?(r-=1/3,s=(1-a)/3,n=(1+a*pe(de*r)/pe(st-de*r))/3,c=1-(s+n)):(r-=2/3,n=(1-a)/3,c=(1+a*pe(de*r)/pe(st-de*r))/3,s=1-(n+c)),s=ot(o*s*3),n=ot(o*n*3),c=ot(o*c*3),[s*255,n*255,c*255,e.length>3?e[3]:1]},ki=$i,Pi=b.unpack,Ni=b.type,Mi=L,lr=P,cr=q,xi=_i;lr.prototype.hsi=function(){return xi(this._rgb)},Mi.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(lr,[null].concat(e,["hsi"])))},cr.format.hsi=ki,cr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pi(e,"hsi"),Ni(e)==="array"&&e.length===3)return"hsi"}});var Ci=b.unpack,Ei=b.type,Ai=L,hr=P,ur=q,Bi=Lt;hr.prototype.hsl=function(){return Bi(this._rgb)},Ai.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(hr,[null].concat(e,["hsl"])))},ur.format.hsl=Gt,ur.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ci(e,"hsl"),Ei(e)==="array"&&e.length===3)return"hsl"}});var Si=b.unpack,Fi=Math.min,Ti=Math.max,Di=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Si(e,"rgb");var r=e[0],a=e[1],o=e[2],s=Fi(r,a,o),n=Ti(r,a,o),c=n-s,h,v,d;return d=n/255,n===0?(h=Number.NaN,v=0):(v=c/n,r===n&&(h=(a-o)/c),a===n&&(h=2+(o-r)/c),o===n&&(h=4+(r-a)/c),h*=60,h<0&&(h+=360)),[h,v,d]},zi=Di,Hi=b.unpack,Ri=Math.floor,Li=function(){for(var e,t,r,a,o,s,n=[],c=arguments.length;c--;)n[c]=arguments[c];n=Hi(n,"hsv");var h=n[0],v=n[1],d=n[2],m,p,_;if(d*=255,v===0)m=p=_=d;else{h===360&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var w=Ri(h),N=h-w,C=d*(1-v),A=d*(1-v*N),S=d*(1-v*(1-N));switch(w){case 0:e=[d,S,C],m=e[0],p=e[1],_=e[2];break;case 1:t=[A,d,C],m=t[0],p=t[1],_=t[2];break;case 2:r=[C,d,S],m=r[0],p=r[1],_=r[2];break;case 3:a=[C,A,d],m=a[0],p=a[1],_=a[2];break;case 4:o=[S,C,d],m=o[0],p=o[1],_=o[2];break;case 5:s=[d,C,A],m=s[0],p=s[1],_=s[2];break}}return[m,p,_,n.length>3?n[3]:1]},Gi=Li,Oi=b.unpack,qi=b.type,Ui=L,fr=P,vr=q,Ii=zi;fr.prototype.hsv=function(){return Ii(this._rgb)},Ui.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fr,[null].concat(e,["hsv"])))},vr.format.hsv=Gi,vr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Oi(e,"hsv"),qi(e)==="array"&&e.length===3)return"hsv"}});var Fe={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ge=Fe,Wi=b.unpack,dr=Math.pow,Zi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Wi(e,"rgb"),a=r[0],o=r[1],s=r[2],n=Vi(a,o,s),c=n[0],h=n[1],v=n[2],d=116*h-16;return[d<0?0:d,500*(c-h),200*(h-v)]},lt=function(e){return(e/=255)<=.04045?e/12.92:dr((e+.055)/1.055,2.4)},ct=function(e){return e>ge.t3?dr(e,1/3):e/ge.t2+ge.t0},Vi=function(e,t,r){e=lt(e),t=lt(t),r=lt(r);var a=ct((.4124564*e+.3575761*t+.1804375*r)/ge.Xn),o=ct((.2126729*e+.7151522*t+.072175*r)/ge.Yn),s=ct((.0193339*e+.119192*t+.9503041*r)/ge.Zn);return[a,o,s]},pr=Zi,be=Fe,Yi=b.unpack,ji=Math.pow,Xi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Yi(e,"lab");var r=e[0],a=e[1],o=e[2],s,n,c,h,v,d;return n=(r+16)/116,s=isNaN(a)?n:n+a/500,c=isNaN(o)?n:n-o/200,n=be.Yn*ut(n),s=be.Xn*ut(s),c=be.Zn*ut(c),h=ht(3.2404542*s-1.5371385*n-.4985314*c),v=ht(-.969266*s+1.8760108*n+.041556*c),d=ht(.0556434*s-.2040259*n+1.0572252*c),[h,v,d,e.length>3?e[3]:1]},ht=function(e){return 255*(e<=.00304?12.92*e:1.055*ji(e,1/2.4)-.055)},ut=function(e){return e>be.t1?e*e*e:be.t2*(e-be.t0)},gr=Xi,Qi=b.unpack,Ji=b.type,Ki=L,br=P,mr=q,eo=pr;br.prototype.lab=function(){return eo(this._rgb)},Ki.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(br,[null].concat(e,["lab"])))},mr.format.lab=gr,mr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Qi(e,"lab"),Ji(e)==="array"&&e.length===3)return"lab"}});var to=b.unpack,ro=b.RAD2DEG,ao=Math.sqrt,no=Math.atan2,io=Math.round,oo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=to(e,"lab"),a=r[0],o=r[1],s=r[2],n=ao(o*o+s*s),c=(no(s,o)*ro+360)%360;return io(n*1e4)===0&&(c=Number.NaN),[a,n,c]},wr=oo,so=b.unpack,lo=pr,co=wr,ho=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=so(e,"rgb"),a=r[0],o=r[1],s=r[2],n=lo(a,o,s),c=n[0],h=n[1],v=n[2];return co(c,h,v)},uo=ho,fo=b.unpack,vo=b.DEG2RAD,po=Math.sin,go=Math.cos,bo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=fo(e,"lch"),a=r[0],o=r[1],s=r[2];return isNaN(s)&&(s=0),s=s*vo,[a,go(s)*o,po(s)*o]},_r=bo,mo=b.unpack,wo=_r,_o=gr,yo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=mo(e,"lch");var r=e[0],a=e[1],o=e[2],s=wo(r,a,o),n=s[0],c=s[1],h=s[2],v=_o(n,c,h),d=v[0],m=v[1],p=v[2];return[d,m,p,e.length>3?e[3]:1]},yr=yo,$o=b.unpack,ko=yr,Po=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=$o(e,"hcl").reverse();return ko.apply(void 0,r)},No=Po,Mo=b.unpack,xo=b.type,$r=L,Te=P,ft=q,kr=uo;Te.prototype.lch=function(){return kr(this._rgb)},Te.prototype.hcl=function(){return kr(this._rgb).reverse()},$r.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Te,[null].concat(e,["lch"])))},$r.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Te,[null].concat(e,["hcl"])))},ft.format.lch=yr,ft.format.hcl=No,["lch","hcl"].forEach(function(e){return ft.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Mo(t,e),xo(t)==="array"&&t.length===3)return e}})});var Co={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Pr=Co,Eo=P,Nr=q,Ao=b.type,Ne=Pr,Bo=nr,So=ar;Eo.prototype.name=function(){for(var e=So(this._rgb,"rgb"),t=0,r=Object.keys(Ne);t<r.length;t+=1){var a=r[t];if(Ne[a]===e)return a.toLowerCase()}return e},Nr.format.named=function(e){if(e=e.toLowerCase(),Ne[e])return Bo(Ne[e]);throw new Error("unknown color name: "+e)},Nr.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&Ao(e)==="string"&&Ne[e.toLowerCase()])return"named"}});var Fo=b.unpack,To=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Fo(e,"rgb"),a=r[0],o=r[1],s=r[2];return(a<<16)+(o<<8)+s},Do=To,zo=b.type,Ho=function(e){if(zo(e)=="number"&&e>=0&&e<=16777215){var t=e>>16,r=e>>8&255,a=e&255;return[t,r,a,1]}throw new Error("unknown num color: "+e)},Ro=Ho,Lo=L,Mr=P,xr=q,Go=b.type,Oo=Do;Mr.prototype.num=function(){return Oo(this._rgb)},Lo.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Mr,[null].concat(e,["num"])))},xr.format.num=Ro,xr.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e.length===1&&Go(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var qo=L,vt=P,Cr=q,Er=b.unpack,Ar=b.type,Br=Math.round;vt.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Br)},vt.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(t,r){return r<3?e===!1?t:Br(t):t})},qo.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(vt,[null].concat(e,["rgb"])))},Cr.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Er(e,"rgba");return r[3]===void 0&&(r[3]=1),r},Cr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Er(e,"rgba"),Ar(e)==="array"&&(e.length===3||e.length===4&&Ar(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var De=Math.log,Uo=function(e){var t=e/100,r,a,o;return t<66?(r=255,a=t<6?0:-155.25485562709179-.44596950469579133*(a=t-2)+104.49216199393888*De(a),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*De(o)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*De(r),a=325.4494125711974+.07943456536662342*(a=t-50)-28.0852963507957*De(a),o=255),[r,a,o,1]},Sr=Uo,Io=Sr,Wo=b.unpack,Zo=Math.round,Vo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=Wo(e,"rgb"),a=r[0],o=r[2],s=1e3,n=4e4,c=.4,h;n-s>c;){h=(n+s)*.5;var v=Io(h);v[2]/v[0]>=o/a?n=h:s=h}return Zo(h)},Yo=Vo,dt=L,ze=P,pt=q,jo=Yo;ze.prototype.temp=ze.prototype.kelvin=ze.prototype.temperature=function(){return jo(this._rgb)},dt.temp=dt.kelvin=dt.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ze,[null].concat(e,["temp"])))},pt.format.temp=pt.format.kelvin=pt.format.temperature=Sr;var Xo=b.unpack,gt=Math.cbrt,Qo=Math.pow,Jo=Math.sign,Ko=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Xo(e,"rgb"),a=r[0],o=r[1],s=r[2],n=[bt(a/255),bt(o/255),bt(s/255)],c=n[0],h=n[1],v=n[2],d=gt(.4122214708*c+.5363325363*h+.0514459929*v),m=gt(.2119034982*c+.6806995451*h+.1073969566*v),p=gt(.0883024619*c+.2817188376*h+.6299787005*v);return[.2104542553*d+.793617785*m-.0040720468*p,1.9779984951*d-2.428592205*m+.4505937099*p,.0259040371*d+.7827717662*m-.808675766*p]},Fr=Ko;function bt(e){var t=Math.abs(e);return t<.04045?e/12.92:(Jo(e)||1)*Qo((t+.055)/1.055,2.4)}var es=b.unpack,He=Math.pow,ts=Math.sign,rs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=es(e,"lab");var r=e[0],a=e[1],o=e[2],s=He(r+.3963377774*a+.2158037573*o,3),n=He(r-.1055613458*a-.0638541728*o,3),c=He(r-.0894841775*a-1.291485548*o,3);return[255*mt(4.0767416621*s-3.3077115913*n+.2309699292*c),255*mt(-1.2684380046*s+2.6097574011*n-.3413193965*c),255*mt(-.0041960863*s-.7034186147*n+1.707614701*c),e.length>3?e[3]:1]},Tr=rs;function mt(e){var t=Math.abs(e);return t>.0031308?(ts(e)||1)*(1.055*He(t,1/2.4)-.055):e*12.92}var as=b.unpack,ns=b.type,is=L,Dr=P,zr=q,os=Fr;Dr.prototype.oklab=function(){return os(this._rgb)},is.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dr,[null].concat(e,["oklab"])))},zr.format.oklab=Tr,zr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=as(e,"oklab"),ns(e)==="array"&&e.length===3)return"oklab"}});var ss=b.unpack,ls=Fr,cs=wr,hs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ss(e,"rgb"),a=r[0],o=r[1],s=r[2],n=ls(a,o,s),c=n[0],h=n[1],v=n[2];return cs(c,h,v)},us=hs,fs=b.unpack,vs=_r,ds=Tr,ps=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=fs(e,"lch");var r=e[0],a=e[1],o=e[2],s=vs(r,a,o),n=s[0],c=s[1],h=s[2],v=ds(n,c,h),d=v[0],m=v[1],p=v[2];return[d,m,p,e.length>3?e[3]:1]},gs=ps,bs=b.unpack,ms=b.type,ws=L,Hr=P,Rr=q,_s=us;Hr.prototype.oklch=function(){return _s(this._rgb)},ws.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Hr,[null].concat(e,["oklch"])))},Rr.format.oklch=gs,Rr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=bs(e,"oklch"),ms(e)==="array"&&e.length===3)return"oklch"}});var Lr=P,ys=b.type;Lr.prototype.alpha=function(e,t){return t===void 0&&(t=!1),e!==void 0&&ys(e)==="number"?t?(this._rgb[3]=e,this):new Lr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var $s=P;$s.prototype.clipped=function(){return this._rgb._clipped||!1};var ue=P,ks=Fe;ue.prototype.darken=function(e){e===void 0&&(e=1);var t=this,r=t.lab();return r[0]-=ks.Kn*e,new ue(r,"lab").alpha(t.alpha(),!0)},ue.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},ue.prototype.darker=ue.prototype.darken,ue.prototype.brighter=ue.prototype.brighten;var Ps=P;Ps.prototype.get=function(e){var t=e.split("."),r=t[0],a=t[1],o=this[r]();if(a){var s=r.indexOf(a)-(r.substr(0,2)==="ok"?2:0);if(s>-1)return o[s];throw new Error("unknown channel "+a+" in mode "+r)}else return o};var me=P,Ns=b.type,Ms=Math.pow,xs=1e-7,Cs=20;me.prototype.luminance=function(e){if(e!==void 0&&Ns(e)==="number"){if(e===0)return new me([0,0,0,this._rgb[3]],"rgb");if(e===1)return new me([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r="rgb",a=Cs,o=function(n,c){var h=n.interpolate(c,.5,r),v=h.luminance();return Math.abs(e-v)<xs||!a--?h:v>e?o(n,h):o(h,c)},s=(t>e?o(new me([0,0,0]),this):o(this,new me([255,255,255]))).rgb();return new me(s.concat([this._rgb[3]]))}return Es.apply(void 0,this._rgb.slice(0,3))};var Es=function(e,t,r){return e=wt(e),t=wt(t),r=wt(r),.2126*e+.7152*t+.0722*r},wt=function(e){return e/=255,e<=.03928?e/12.92:Ms((e+.055)/1.055,2.4)},X={},Gr=P,Or=b.type,Re=X,qr=function(e,t,r){r===void 0&&(r=.5);for(var a=[],o=arguments.length-3;o-- >0;)a[o]=arguments[o+3];var s=a[0]||"lrgb";if(!Re[s]&&!a.length&&(s=Object.keys(Re)[0]),!Re[s])throw new Error("interpolation mode "+s+" is not defined");return Or(e)!=="object"&&(e=new Gr(e)),Or(t)!=="object"&&(t=new Gr(t)),Re[s](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))},Ur=P,As=qr;Ur.prototype.mix=Ur.prototype.interpolate=function(e,t){t===void 0&&(t=.5);for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];return As.apply(void 0,[this,e,t].concat(r))};var Ir=P;Ir.prototype.premultiply=function(e){e===void 0&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new Ir([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var _t=P,Bs=Fe;_t.prototype.saturate=function(e){e===void 0&&(e=1);var t=this,r=t.lch();return r[1]+=Bs.Kn*e,r[1]<0&&(r[1]=0),new _t(r,"lch").alpha(t.alpha(),!0)},_t.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var Wr=P,Zr=b.type;Wr.prototype.set=function(e,t,r){r===void 0&&(r=!1);var a=e.split("."),o=a[0],s=a[1],n=this[o]();if(s){var c=o.indexOf(s)-(o.substr(0,2)==="ok"?2:0);if(c>-1){if(Zr(t)=="string")switch(t.charAt(0)){case"+":n[c]+=+t;break;case"-":n[c]+=+t;break;case"*":n[c]*=+t.substr(1);break;case"/":n[c]/=+t.substr(1);break;default:n[c]=+t}else if(Zr(t)==="number")n[c]=t;else throw new Error("unsupported value for Color.set");var h=new Wr(n,o);return r?(this._rgb=h._rgb,this):h}throw new Error("unknown channel "+s+" in mode "+o)}else return n};var Ss=P,Fs=function(e,t,r){var a=e._rgb,o=t._rgb;return new Ss(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),"rgb")};X.rgb=Fs;var Ts=P,yt=Math.sqrt,we=Math.pow,Ds=function(e,t,r){var a=e._rgb,o=a[0],s=a[1],n=a[2],c=t._rgb,h=c[0],v=c[1],d=c[2];return new Ts(yt(we(o,2)*(1-r)+we(h,2)*r),yt(we(s,2)*(1-r)+we(v,2)*r),yt(we(n,2)*(1-r)+we(d,2)*r),"rgb")};X.lrgb=Ds;var zs=P,Hs=function(e,t,r){var a=e.lab(),o=t.lab();return new zs(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),"lab")};X.lab=Hs;var Vr=P,_e=function(e,t,r,a){var o,s,n,c;a==="hsl"?(n=e.hsl(),c=t.hsl()):a==="hsv"?(n=e.hsv(),c=t.hsv()):a==="hcg"?(n=e.hcg(),c=t.hcg()):a==="hsi"?(n=e.hsi(),c=t.hsi()):a==="lch"||a==="hcl"?(a="hcl",n=e.hcl(),c=t.hcl()):a==="oklch"&&(n=e.oklch().reverse(),c=t.oklch().reverse());var h,v,d,m,p,_;(a.substr(0,1)==="h"||a==="oklch")&&(o=n,h=o[0],d=o[1],p=o[2],s=c,v=s[0],m=s[1],_=s[2]);var w,N,C,A;return!isNaN(h)&&!isNaN(v)?(v>h&&v-h>180?A=v-(h+360):v<h&&h-v>180?A=v+360-h:A=v-h,N=h+r*A):isNaN(h)?isNaN(v)?N=Number.NaN:(N=v,(p==1||p==0)&&a!="hsv"&&(w=m)):(N=h,(_==1||_==0)&&a!="hsv"&&(w=d)),w===void 0&&(w=d+r*(m-d)),C=p+r*(_-p),a==="oklch"?new Vr([C,w,N],a):new Vr([N,w,C],a)},Rs=_e,Yr=function(e,t,r){return Rs(e,t,r,"lch")};X.lch=Yr,X.hcl=Yr;var Ls=P,Gs=function(e,t,r){var a=e.num(),o=t.num();return new Ls(a+r*(o-a),"num")};X.num=Gs;var Os=_e,qs=function(e,t,r){return Os(e,t,r,"hcg")};X.hcg=qs;var Us=_e,Is=function(e,t,r){return Us(e,t,r,"hsi")};X.hsi=Is;var Ws=_e,Zs=function(e,t,r){return Ws(e,t,r,"hsl")};X.hsl=Zs;var Vs=_e,Ys=function(e,t,r){return Vs(e,t,r,"hsv")};X.hsv=Ys;var js=P,Xs=function(e,t,r){var a=e.oklab(),o=t.oklab();return new js(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),"oklab")};X.oklab=Xs;var Qs=_e,Js=function(e,t,r){return Qs(e,t,r,"oklch")};X.oklch=Js;var $t=P,Ks=b.clip_rgb,kt=Math.pow,Pt=Math.sqrt,Nt=Math.PI,jr=Math.cos,Xr=Math.sin,el=Math.atan2,tl=function(e,t,r){t===void 0&&(t="lrgb"),r===void 0&&(r=null);var a=e.length;r||(r=Array.from(new Array(a)).map(function(){return 1}));var o=a/r.reduce(function(N,C){return N+C});if(r.forEach(function(N,C){r[C]*=o}),e=e.map(function(N){return new $t(N)}),t==="lrgb")return rl(e,r);for(var s=e.shift(),n=s.get(t),c=[],h=0,v=0,d=0;d<n.length;d++)if(n[d]=(n[d]||0)*r[0],c.push(isNaN(n[d])?0:r[0]),t.charAt(d)==="h"&&!isNaN(n[d])){var m=n[d]/180*Nt;h+=jr(m)*r[0],v+=Xr(m)*r[0]}var p=s.alpha()*r[0];e.forEach(function(N,C){var A=N.get(t);p+=N.alpha()*r[C+1];for(var S=0;S<n.length;S++)if(!isNaN(A[S]))if(c[S]+=r[C+1],t.charAt(S)==="h"){var Z=A[S]/180*Nt;h+=jr(Z)*r[C+1],v+=Xr(Z)*r[C+1]}else n[S]+=A[S]*r[C+1]});for(var _=0;_<n.length;_++)if(t.charAt(_)==="h"){for(var w=el(v/c[_],h/c[_])/Nt*180;w<0;)w+=360;for(;w>=360;)w-=360;n[_]=w}else n[_]=n[_]/c[_];return p/=a,new $t(n,t).alpha(p>.99999?1:p,!0)},rl=function(e,t){for(var r=e.length,a=[0,0,0,0],o=0;o<e.length;o++){var s=e[o],n=t[o]/r,c=s._rgb;a[0]+=kt(c[0],2)*n,a[1]+=kt(c[1],2)*n,a[2]+=kt(c[2],2)*n,a[3]+=c[3]*n}return a[0]=Pt(a[0]),a[1]=Pt(a[1]),a[2]=Pt(a[2]),a[3]>.9999999&&(a[3]=1),new $t(Ks(a))},J=L,ye=b.type,al=Math.pow,Mt=function(e){var t="rgb",r=J("#ccc"),a=0,o=[0,1],s=[],n=[0,0],c=!1,h=[],v=!1,d=0,m=1,p=!1,_={},w=!0,N=1,C=function(g){if(g=g||["#fff","#000"],g&&ye(g)==="string"&&J.brewer&&J.brewer[g.toLowerCase()]&&(g=J.brewer[g.toLowerCase()]),ye(g)==="array"){g.length===1&&(g=[g[0],g[0]]),g=g.slice(0);for(var $=0;$<g.length;$++)g[$]=J(g[$]);s.length=0;for(var x=0;x<g.length;x++)s.push(x/(g.length-1))}return j(),h=g},A=function(g){if(c!=null){for(var $=c.length-1,x=0;x<$&&g>=c[x];)x++;return x-1}return 0},S=function(g){return g},Z=function(g){return g},I=function(g,$){var x,M;if($==null&&($=!1),isNaN(g)||g===null)return r;if($)M=g;else if(c&&c.length>2){var V=A(g);M=V/(c.length-2)}else m!==d?M=(g-d)/(m-d):M=1;M=Z(M),$||(M=S(M)),N!==1&&(M=al(M,N)),M=n[0]+M*(1-n[0]-n[1]),M=Math.min(1,Math.max(0,M));var z=Math.floor(M*1e4);if(w&&_[z])x=_[z];else{if(ye(h)==="array")for(var B=0;B<s.length;B++){var F=s[B];if(M<=F){x=h[B];break}if(M>=F&&B===s.length-1){x=h[B];break}if(M>F&&M<s[B+1]){M=(M-F)/(s[B+1]-F),x=J.interpolate(h[B],h[B+1],M,t);break}}else ye(h)==="function"&&(x=h(M));w&&(_[z]=x)}return x},j=function(){return _={}};C(e);var E=function(g){var $=J(I(g));return v&&$[v]?$[v]():$};return E.classes=function(g){if(g!=null){if(ye(g)==="array")c=g,o=[g[0],g[g.length-1]];else{var $=J.analyze(o);g===0?c=[$.min,$.max]:c=J.limits($,"e",g)}return E}return c},E.domain=function(g){if(!arguments.length)return o;d=g[0],m=g[g.length-1],s=[];var $=h.length;if(g.length===$&&d!==m)for(var x=0,M=Array.from(g);x<M.length;x+=1){var V=M[x];s.push((V-d)/(m-d))}else{for(var z=0;z<$;z++)s.push(z/($-1));if(g.length>2){var B=g.map(function(T,D){return D/(g.length-1)}),F=g.map(function(T){return(T-d)/(m-d)});F.every(function(T,D){return B[D]===T})||(Z=function(T){if(T<=0||T>=1)return T;for(var D=0;T>=F[D+1];)D++;var ee=(T-F[D])/(F[D+1]-F[D]),se=B[D]+ee*(B[D+1]-B[D]);return se})}}return o=[d,m],E},E.mode=function(g){return arguments.length?(t=g,j(),E):t},E.range=function(g,$){return C(g),E},E.out=function(g){return v=g,E},E.spread=function(g){return arguments.length?(a=g,E):a},E.correctLightness=function(g){return g==null&&(g=!0),p=g,j(),p?S=function($){for(var x=I(0,!0).lab()[0],M=I(1,!0).lab()[0],V=x>M,z=I($,!0).lab()[0],B=x+(M-x)*$,F=z-B,T=0,D=1,ee=20;Math.abs(F)>.01&&ee-- >0;)(function(){return V&&(F*=-1),F<0?(T=$,$+=(D-$)*.5):(D=$,$+=(T-$)*.5),z=I($,!0).lab()[0],F=z-B})();return $}:S=function($){return $},E},E.padding=function(g){return g!=null?(ye(g)==="number"&&(g=[g,g]),n=g,E):n},E.colors=function(g,$){arguments.length<2&&($="hex");var x=[];if(arguments.length===0)x=h.slice(0);else if(g===1)x=[E(.5)];else if(g>1){var M=o[0],V=o[1]-M;x=nl(0,g,!1).map(function(D){return E(M+D/(g-1)*V)})}else{e=[];var z=[];if(c&&c.length>2)for(var B=1,F=c.length,T=1<=F;T?B<F:B>F;T?B++:B--)z.push((c[B-1]+c[B])*.5);else z=o;x=z.map(function(D){return E(D)})}return J[$]&&(x=x.map(function(D){return D[$]()})),x},E.cache=function(g){return g!=null?(w=g,E):w},E.gamma=function(g){return g!=null?(N=g,E):N},E.nodata=function(g){return g!=null?(r=J(g),E):r},E};function nl(e,t,r){for(var a=[],o=e<t,s=r?o?t+1:t-1:t,n=e;o?n<s:n>s;o?n++:n--)a.push(n);return a}var Me=P,il=Mt,ol=function(e){for(var t=[1,1],r=1;r<e;r++){for(var a=[1],o=1;o<=t.length;o++)a[o]=(t[o]||0)+t[o-1];t=a}return t},sl=function(e){var t,r,a,o,s,n,c;if(e=e.map(function(p){return new Me(p)}),e.length===2)t=e.map(function(p){return p.lab()}),s=t[0],n=t[1],o=function(p){var _=[0,1,2].map(function(w){return s[w]+p*(n[w]-s[w])});return new Me(_,"lab")};else if(e.length===3)r=e.map(function(p){return p.lab()}),s=r[0],n=r[1],c=r[2],o=function(p){var _=[0,1,2].map(function(w){return(1-p)*(1-p)*s[w]+2*(1-p)*p*n[w]+p*p*c[w]});return new Me(_,"lab")};else if(e.length===4){var h;a=e.map(function(p){return p.lab()}),s=a[0],n=a[1],c=a[2],h=a[3],o=function(p){var _=[0,1,2].map(function(w){return(1-p)*(1-p)*(1-p)*s[w]+3*(1-p)*(1-p)*p*n[w]+3*(1-p)*p*p*c[w]+p*p*p*h[w]});return new Me(_,"lab")}}else if(e.length>=5){var v,d,m;v=e.map(function(p){return p.lab()}),m=e.length-1,d=ol(m),o=function(p){var _=1-p,w=[0,1,2].map(function(N){return v.reduce(function(C,A,S){return C+d[S]*Math.pow(_,m-S)*Math.pow(p,S)*A[N]},0)});return new Me(w,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return o},ll=function(e){var t=sl(e);return t.scale=function(){return il(t)},t},xt=L,K=function(e,t,r){if(!K[r])throw new Error("unknown blend mode "+r);return K[r](e,t)},ie=function(e){return function(t,r){var a=xt(r).rgb(),o=xt(t).rgb();return xt.rgb(e(a,o))}},oe=function(e){return function(t,r){var a=[];return a[0]=e(t[0],r[0]),a[1]=e(t[1],r[1]),a[2]=e(t[2],r[2]),a}},cl=function(e){return e},hl=function(e,t){return e*t/255},ul=function(e,t){return e>t?t:e},fl=function(e,t){return e>t?e:t},vl=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},dl=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},pl=function(e,t){return 255*(1-(1-t/255)/(e/255))},gl=function(e,t){return e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e)};K.normal=ie(oe(cl)),K.multiply=ie(oe(hl)),K.screen=ie(oe(vl)),K.overlay=ie(oe(dl)),K.darken=ie(oe(ul)),K.lighten=ie(oe(fl)),K.dodge=ie(oe(gl)),K.burn=ie(oe(pl));for(var bl=K,Ct=b.type,ml=b.clip_rgb,wl=b.TWOPI,_l=Math.pow,yl=Math.sin,$l=Math.cos,Qr=L,kl=function(e,t,r,a,o){e===void 0&&(e=300),t===void 0&&(t=-1.5),r===void 0&&(r=1),a===void 0&&(a=1),o===void 0&&(o=[0,1]);var s=0,n;Ct(o)==="array"?n=o[1]-o[0]:(n=0,o=[o,o]);var c=function(h){var v=wl*((e+120)/360+t*h),d=_l(o[0]+n*h,a),m=s!==0?r[0]+h*s:r,p=m*d*(1-d)/2,_=$l(v),w=yl(v),N=d+p*(-.14861*_+1.78277*w),C=d+p*(-.29227*_-.90649*w),A=d+p*(1.97294*_);return Qr(ml([N*255,C*255,A*255,1]))};return c.start=function(h){return h==null?e:(e=h,c)},c.rotations=function(h){return h==null?t:(t=h,c)},c.gamma=function(h){return h==null?a:(a=h,c)},c.hue=function(h){return h==null?r:(r=h,Ct(r)==="array"?(s=r[1]-r[0],s===0&&(r=r[1])):s=0,c)},c.lightness=function(h){return h==null?o:(Ct(h)==="array"?(o=h,n=h[1]-h[0]):(o=[h,h],n=0),c)},c.scale=function(){return Qr.scale(c)},c.hue(r),c},Pl=P,Nl="0123456789abcdef",Ml=Math.floor,xl=Math.random,Cl=function(){for(var e="#",t=0;t<6;t++)e+=Nl.charAt(Ml(xl()*16));return new Pl(e,"hex")},Et=Ae,Jr=Math.log,El=Math.pow,Al=Math.floor,Bl=Math.abs,Kr=function(e,t){t===void 0&&(t=null);var r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Et(e)==="object"&&(e=Object.values(e)),e.forEach(function(a){t&&Et(a)==="object"&&(a=a[t]),a!=null&&!isNaN(a)&&(r.values.push(a),r.sum+=a,a<r.min&&(r.min=a),a>r.max&&(r.max=a),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(a,o){return ea(r,a,o)},r},ea=function(e,t,r){t===void 0&&(t="equal"),r===void 0&&(r=7),Et(e)=="array"&&(e=Kr(e));var a=e.min,o=e.max,s=e.values.sort(function(Bt,St){return Bt-St});if(r===1)return[a,o];var n=[];if(t.substr(0,1)==="c"&&(n.push(a),n.push(o)),t.substr(0,1)==="e"){n.push(a);for(var c=1;c<r;c++)n.push(a+c/r*(o-a));n.push(o)}else if(t.substr(0,1)==="l"){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var h=Math.LOG10E*Jr(a),v=Math.LOG10E*Jr(o);n.push(a);for(var d=1;d<r;d++)n.push(El(10,h+d/r*(v-h)));n.push(o)}else if(t.substr(0,1)==="q"){n.push(a);for(var m=1;m<r;m++){var p=(s.length-1)*m/r,_=Al(p);if(_===p)n.push(s[_]);else{var w=p-_;n.push(s[_]*(1-w)+s[_+1]*w)}}n.push(o)}else if(t.substr(0,1)==="k"){var N,C=s.length,A=new Array(C),S=new Array(r),Z=!0,I=0,j=null;j=[],j.push(a);for(var E=1;E<r;E++)j.push(a+E/r*(o-a));for(j.push(o);Z;){for(var g=0;g<r;g++)S[g]=0;for(var $=0;$<C;$++)for(var x=s[$],M=Number.MAX_VALUE,V=void 0,z=0;z<r;z++){var B=Bl(j[z]-x);B<M&&(M=B,V=z),S[V]++,A[$]=V}for(var F=new Array(r),T=0;T<r;T++)F[T]=null;for(var D=0;D<C;D++)N=A[D],F[N]===null?F[N]=s[D]:F[N]+=s[D];for(var ee=0;ee<r;ee++)F[ee]*=1/S[ee];Z=!1;for(var se=0;se<r;se++)if(F[se]!==j[se]){Z=!0;break}j=F,I++,I>200&&(Z=!1)}for(var le={},$e=0;$e<r;$e++)le[$e]=[];for(var ke=0;ke<C;ke++)N=A[ke],le[N].push(s[ke]);for(var re=[],fe=0;fe<r;fe++)re.push(le[fe][0]),re.push(le[fe][le[fe].length-1]);re=re.sort(function(Bt,St){return Bt-St}),n.push(re[0]);for(var xe=1;xe<re.length;xe+=2){var ve=re[xe];!isNaN(ve)&&n.indexOf(ve)===-1&&n.push(ve)}}return n},ta={analyze:Kr,limits:ea},ra=P,Sl=function(e,t){e=new ra(e),t=new ra(t);var r=e.luminance(),a=t.luminance();return r>a?(r+.05)/(a+.05):(a+.05)/(r+.05)},aa=P,te=Math.sqrt,G=Math.pow,Fl=Math.min,Tl=Math.max,na=Math.atan2,ia=Math.abs,Le=Math.cos,oa=Math.sin,Dl=Math.exp,sa=Math.PI,zl=function(e,t,r,a,o){r===void 0&&(r=1),a===void 0&&(a=1),o===void 0&&(o=1);var s=function(ve){return 360*ve/(2*sa)},n=function(ve){return 2*sa*ve/360};e=new aa(e),t=new aa(t);var c=Array.from(e.lab()),h=c[0],v=c[1],d=c[2],m=Array.from(t.lab()),p=m[0],_=m[1],w=m[2],N=(h+p)/2,C=te(G(v,2)+G(d,2)),A=te(G(_,2)+G(w,2)),S=(C+A)/2,Z=.5*(1-te(G(S,7)/(G(S,7)+G(25,7)))),I=v*(1+Z),j=_*(1+Z),E=te(G(I,2)+G(d,2)),g=te(G(j,2)+G(w,2)),$=(E+g)/2,x=s(na(d,I)),M=s(na(w,j)),V=x>=0?x:x+360,z=M>=0?M:M+360,B=ia(V-z)>180?(V+z+360)/2:(V+z)/2,F=1-.17*Le(n(B-30))+.24*Le(n(2*B))+.32*Le(n(3*B+6))-.2*Le(n(4*B-63)),T=z-V;T=ia(T)<=180?T:z<=V?T+360:T-360,T=2*te(E*g)*oa(n(T)/2);var D=p-h,ee=g-E,se=1+.015*G(N-50,2)/te(20+G(N-50,2)),le=1+.045*$,$e=1+.015*$*F,ke=30*Dl(-G((B-275)/25,2)),re=2*te(G($,7)/(G($,7)+G(25,7))),fe=-re*oa(2*n(ke)),xe=te(G(D/(r*se),2)+G(ee/(a*le),2)+G(T/(o*$e),2)+fe*(ee/(a*le))*(T/(o*$e)));return Tl(0,Fl(100,xe))},la=P,Hl=function(e,t,r){r===void 0&&(r="lab"),e=new la(e),t=new la(t);var a=e.get(r),o=t.get(r),s=0;for(var n in a){var c=(a[n]||0)-(o[n]||0);s+=c*c}return Math.sqrt(s)},Rl=P,Ll=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(Rl,[null].concat(e))),!0}catch{return!1}},ca=L,ha=Mt,Gl={cool:function(){return ha([ca.hsl(180,1,.9),ca.hsl(250,.7,.4)])},hot:function(){return ha(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ge={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},At=0,ua=Object.keys(Ge);At<ua.length;At+=1){var fa=ua[At];Ge[fa.toLowerCase()]=Ge[fa]}var Ol=Ge,U=L;U.average=tl,U.bezier=ll,U.blend=bl,U.cubehelix=kl,U.mix=U.interpolate=qr,U.random=Cl,U.scale=Mt,U.analyze=ta.analyze,U.contrast=Sl,U.deltaE=zl,U.distance=Hl,U.limits=ta.limits,U.valid=Ll,U.scales=Gl,U.colors=Pr,U.brewer=Ol;var ql=U;return ql})})(un);var sc=un.exports;const lc=Ql(sc);class cc{constructor(){this.clip=null,this.xZoom=1,this.yZoom=1,this.beatsPerBar=4,this.divisionsPerBeat=2,this.snapStrength=.05,this.noteResizeHandleArea=.2,this.selectedNote=null,this._minPitch=0,this._maxPitch=127,this._scale=ae.ScaleTemplate.major.create("C"),this._filterPitchesByScale=!1,this._pitchesCache=null,this.noteColor=this._defaultNoteColor,this.canAddNote=i=>!0,this.canEditNoteStart=i=>!0,this.canEditNoteEnd=i=>!0,this.canEditNotePitch=i=>!0,this.canDeleteNote=i=>!0,this._defaultNoteColors=["#f44336","#e81e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"]}get minPitch(){return this._minPitch}set minPitch(i){i!=this._minPitch&&(this._minPitch=i,this._pitchesCache=null)}get maxPitch(){return this._maxPitch}set maxPitch(i){i!=this._maxPitch&&(this._maxPitch=i,this._pitchesCache=null)}get scale(){return this._scale}set scale(i){i!==this._scale&&(this._scale=i,this._pitchesCache=null)}get filterPitchesByScale(){return this._filterPitchesByScale}set filterPitchesByScale(i){i!=this._filterPitchesByScale&&(this._filterPitchesByScale=i,this._pitchesCache=null)}get pitches(){if(this._pitchesCache==null){const i=[];for(let u=this.maxPitch;u>=this.minPitch;u--)(!this.filterPitchesByScale||this.scale.contains(u))&&i.push(u);this._pitchesCache=i}return this._pitchesCache}get beatWidth(){return 100*this.xZoom}set beatWidth(i){this.xZoom=i/100}get pitchHeight(){return 20*this.yZoom}set pitchHeight(i){this.yZoom=i/20}get clipBeats(){var i;return((i=this.clip)==null?void 0:i.duration)??0}get beatsPerDivision(){return 1/this.divisionsPerBeat}get totalWidth(){return this.clip?this.clipBeats*this.beatWidth:0}set totalWidth(i){!this.clip||this.clip.duration<=0||(this.beatWidth=i/this.clipBeats)}get totalHeight(){return this.clip?this.pitches.length*this.pitchHeight:0}set totalHeight(i){this.clip&&(this.pitchHeight=i/this.pitches.length)}pitchIsBlack(i){const u=i%12;return u==1||u==3||u==6||u==8||u==10}getXFromBeat(i){return i*this.beatWidth}getBeatFromX(i){var u;return Math.min(((u=this.clip)==null?void 0:u.duration)??0,Math.max(0,i/this.beatWidth))}getYFromPitch(i){return this.pitches.indexOf(i)*this.pitchHeight}getPitchFromY(i){const u=Math.floor(i/this.pitchHeight);return u<0||u>=this.pitches.length?0:Math.min(127,Math.max(0,this.pitches[u]))}getBeatLines(){const i=[{beat:0,class:"bar-line"}];for(let f=0;f<this.beatsPerBar;f++){f>0&&i.push({beat:f,class:"beat-line"});for(let y=1;y<this.divisionsPerBeat;y++)i.push({beat:f+y/this.divisionsPerBeat,class:"division-line"})}const u=[];for(let f=0;f<this.clipBeats;f+=this.beatsPerBar)for(const y of i){const k=f+y.beat;k>=0&&k<=this.clipBeats&&u.push({beat:k,class:y.class})}return u}getNoteAt(i,u){return this.clip?this.clip.notes.find(f=>f.pitch==u&&f.contains(i))??null:null}getNearestDivisionBeat(i){return Math.round(i*this.divisionsPerBeat)/this.divisionsPerBeat}getPreviousDivisionBeat(i){return Math.floor(i*this.divisionsPerBeat)/this.divisionsPerBeat}getNextDivisionBeat(i){return Math.ceil(i*this.divisionsPerBeat)/this.divisionsPerBeat}getSnappedBeat(i){const u=this.getNearestDivisionBeat(i);return Math.abs(i-u)<=this.beatsPerDivision*this.snapStrength?u:i}_defaultNoteColor(i,u){let f=lc(this._defaultNoteColors[i.channel%16]);return u&&(f=f.brighten(.4)),typeof i.velocity=="number"?f=f.alpha((i.velocity+128)/255):f=f.alpha(.75),f.hex()}}const Y={none:0,noteCreation:1,noteStart:2,noteEnd:4,pitch:8};class hc{constructor(i,u){this._dragMode=Y.none,this._dragOffset=0,this._clipEditor=i,this._viewModel=u}onMouseDown(i,u){const f=this._viewModel;if(!f.clip)return;const y=f.getBeatFromX(i.x),k=f.getPitchFromY(i.y),W=f.getNoteAt(y,k);u==1&&W?this._removeNote(W):u==0&&(W?this._beginNoteDrag(W,y):this._addNewNote(y,k))}onDoubleClick(i){this.onMouseDown(i,1)}onMouseMove(i){const u=this._viewModel;if(!u.selectedNote||this._dragMode==Y.none)return;const f=(this._dragMode&Y.noteCreation)>0,y=(this._dragMode&Y.noteStart)>0,k=(this._dragMode&Y.noteEnd)>0,W=(this._dragMode&Y.pitch)>0,ne=u.getSnappedBeat(u.getBeatFromX(i.x)-this._dragOffset);if(y&&k)u.selectedNote.start=ne;else if(y){if(ne<u.selectedNote.end){const ce=u.selectedNote.end;u.selectedNote.start=ne,u.selectedNote.end=ce}}else if(k)ne>u.selectedNote.start&&(u.selectedNote.end=ne);else if(f){const ce=u.getNextDivisionBeat(u.getBeatFromX(i.x));ce>u.selectedNote.start&&(u.selectedNote.end=ce)}W&&(u.selectedNote.pitch=u.getPitchFromY(i.y)),this._clipEditor.requestUpdate()}onMouseUp(i,u){const f=this._viewModel;u==0&&(this._dragMode=Y.none,f.clip&&f.selectedNote&&f.selectedNote.duration<=0&&(f.clip.notes=f.clip.notes.filter(y=>y!==f.selectedNote)),f.selectedNote=null,this._clipEditor.requestUpdate())}onMouseLeave(i,u){this.onMouseUp(i,0)}_addNewNote(i,u){var k;const f=this._viewModel,y=new ae.ClipNote(f.getPreviousDivisionBeat(i),f.beatsPerDivision,u,80);f.canAddNote(y)&&((k=f.clip)==null||k.notes.push(y),f.selectedNote=y,this._dragMode=Y.noteCreation,this._clipEditor.requestUpdate())}_removeNote(i){const u=this._viewModel;u.clip&&u.canDeleteNote(i)&&(u.clip.notes=u.clip.notes.filter(f=>f!==i),u.selectedNote=null,this._dragMode=Y.none,this._clipEditor.requestUpdate())}_beginNoteDrag(i,u){const f=this._viewModel;if(!f.clip)return;const y=i.getPercent(u);f.canEditNotePitch(i)&&(this._dragMode=Y.pitch),y<=f.noteResizeHandleArea?f.canEditNoteStart(i)&&(this._dragMode=Y.noteStart):y>=1-f.noteResizeHandleArea?f.canEditNoteEnd(i)&&(this._dragMode=Y.noteEnd):f.canEditNoteStart(i)&&f.canEditNoteEnd(i)&&(this._dragMode+=Y.noteStart+Y.noteEnd),this._dragMode==Y.noteEnd?this._dragOffset=u-i.end:this._dragOffset=u-i.start,f.selectedNote=i,this._clipEditor.requestUpdate()}}var uc=Object.defineProperty,fc=Object.getOwnPropertyDescriptor,R=(l,i,u,f)=>{for(var y=f>1?void 0:f?fc(i,u):i,k=l.length-1,W;k>=0;k--)(W=l[k])&&(y=(f?W(i,u,y):W(y))||y);return f&&y&&uc(i,u,y),y};let H=class extends Wl{constructor(){super(),this._viewModel=new cc,this._highlightedPitch=-1,this._svg=rc(),this._svgPoint=null,this._behavior=new hc(this,this._viewModel)}get clip(){return this._viewModel.clip}set clip(l){const i=this._viewModel.clip;this._viewModel.clip=l,this.requestUpdate("clip",i)}get xZoom(){return this._viewModel.xZoom}set xZoom(l){const i=this._viewModel.xZoom;this._viewModel.xZoom=l,this.requestUpdate("xZoom",i)}get yZoom(){return this._viewModel.yZoom}set yZoom(l){const i=this._viewModel.yZoom;this._viewModel.yZoom=l,this.requestUpdate("yZoom",i)}get width(){return this._viewModel.totalWidth}set width(l){const i=this._viewModel.totalWidth;this._viewModel.totalWidth=l,this.requestUpdate("width",i)}get height(){return this._viewModel.totalHeight}set height(l){const i=this._viewModel.totalHeight;this._viewModel.totalHeight=l,this.requestUpdate("height",i)}get beatsPerBar(){return this._viewModel.beatsPerBar}set beatsPerBar(l){const i=this._viewModel.beatsPerBar;this._viewModel.beatsPerBar=Math.max(1,Math.round(l)),this.requestUpdate("beatsPerBar",i)}get divisionsPerBeat(){return this._viewModel.divisionsPerBeat}set divisionsPerBeat(l){const i=this._viewModel.divisionsPerBeat;this._viewModel.divisionsPerBeat=Math.max(1,Math.round(l)),this.requestUpdate("divisionsPerBeat",i)}get snapStrength(){return this._viewModel.snapStrength}set snapStrength(l){const i=this._viewModel.snapStrength;this._viewModel.snapStrength=Math.min(Math.max(0,l),1),this.requestUpdate("snapStrength",i)}get noteResizeHandleArea(){return this._viewModel.noteResizeHandleArea}set noteResizeHandleArea(l){const i=this._viewModel.noteResizeHandleArea;this._viewModel.noteResizeHandleArea=Math.min(Math.max(0,l),1),this.requestUpdate("noteResizeHandleArea",i)}get minPitch(){return this._viewModel.minPitch}set minPitch(l){const i=this._viewModel.minPitch;if(typeof l=="string")try{l=ae.pitch(l)}catch{try{l=Number(l)}catch{return}}this._viewModel.minPitch=Math.max(0,Math.round(l)),this.requestUpdate("minPitch",i)}get maxPitch(){return this._viewModel.maxPitch}set maxPitch(l){const i=this._viewModel.maxPitch;if(typeof l=="string")try{l=ae.pitch(l)}catch{try{l=Number(l)}catch{return}}this._viewModel.maxPitch=Math.min(127,Math.round(l)),this.requestUpdate("maxPitch",i)}get scale(){return this._viewModel.scale}set scale(l){const i=this._viewModel.scale;this._viewModel.scale=l,this.requestUpdate("scale",i)}get filterPitchesByScale(){return this._viewModel.filterPitchesByScale}set filterPitchesByScale(l){const i=this._viewModel.filterPitchesByScale;this._viewModel.filterPitchesByScale=l,this.requestUpdate("filterPitchesByScale",i)}get noteColor(){return this._viewModel.noteColor}set noteColor(l){const i=this._viewModel.noteColor;this._viewModel.noteColor=l,this.requestUpdate("noteColor",i)}get canAddNote(){return this._viewModel.canAddNote}set canAddNote(l){const i=this._viewModel.canAddNote;this._viewModel.canAddNote=l,this.requestUpdate("canAddNote",i)}get canEditNoteStart(){return this._viewModel.canEditNoteStart}set canEditNoteStart(l){const i=this._viewModel.canEditNoteStart;this._viewModel.canEditNoteStart=l,this.requestUpdate("canEditNoteStart",i)}get canEditNoteEnd(){return this._viewModel.canEditNoteEnd}set canEditNoteEnd(l){const i=this._viewModel.canEditNoteEnd;this._viewModel.canEditNoteEnd=l,this.requestUpdate("canEditNoteEnd",i)}get canEditNotePitch(){return this._viewModel.canEditNotePitch}set canEditNotePitch(l){const i=this._viewModel.canEditNotePitch;this._viewModel.canEditNotePitch=l,this.requestUpdate("canEditNotePitch",i)}get canDeleteNote(){return this._viewModel.canDeleteNote}set canDeleteNote(l){const i=this._viewModel.canDeleteNote;this._viewModel.canDeleteNote=l,this.requestUpdate("canDeleteNote",i)}_getCursorPoint(l){const i=this._svg.value,u=this._svgPoint;return!u||!i?{x:-1,y:-1}:(u.x=l.clientX,u.y=l.clientY,u.matrixTransform(i.getScreenCTM().inverse()))}_onMouseDown(l){this._behavior.onMouseDown(this._getCursorPoint(l),l.button)}_onMouseMove(l){const i=this._getCursorPoint(l);this._highlightedPitch=this._viewModel.getPitchFromY(i.y),this._behavior.onMouseMove(i)}_onMouseUp(l){this._behavior.onMouseUp(this._getCursorPoint(l),l.button)}_onMouseLeave(l){this._highlightedPitch=-1,this._behavior.onMouseLeave(this._getCursorPoint(l),l.button)}_onDoubleClick(l){this._behavior.onDoubleClick(this._getCursorPoint(l))}firstUpdated(){const l=this._svg.value;this._svgPoint=l.createSVGPoint()}render(){const l=this._viewModel;return Zl`
            <svg :viewBox="0 0 ${l.totalWidth} ${l.totalHeight}"
                preserveAspectRatio="none" fill="#666666"
                ${nc(this._svg)} class="edit-area"
                @mousedown=${this._onMouseDown}
                @mousemove=${this._onMouseMove}
                @mouseup=${this._onMouseUp}
                @mouseleave=${this._onMouseLeave}
                @dblclick=${this._onDoubleClick}
                width=${l.totalWidth}
                height=${l.totalHeight}>

                <rect x="0" y="0" 
                    width=${l.totalWidth}
                    height=${l.totalHeight}
                    fill="#666"></rect>

                ${this._renderBlackLines()}

                ${this._renderPitchSeparatorLines()}

                ${this._renderBeatLines()}

                ${this._renderPitchNames()}

                ${this._renderNotes()}
            </svg>
        `}_renderBlackLines(){const l=this._viewModel,i=[];for(const u of l.pitches)l.pitchIsBlack(u)&&i.push(Ce`
                    <rect x="0" y=${l.getYFromPitch(u)}
                        width=${l.totalWidth}
                        height=${l.pitchHeight}
                        fill="#555"></rect>
                `);return i}_renderPitchSeparatorLines(){const l=this._viewModel,i=[];if(l.pitches.length==0)return i;let u=l.pitchIsBlack(l.pitches[0]);for(let f=1;f<l.pitches.length;f++){const y=l.pitches[f],k=l.pitchIsBlack(y);u==k&&i.push(Ce`
                    <line x1="0" y1=${f*l.pitchHeight}
                        x2=${l.totalWidth} y2=${f*l.pitchHeight}
                        class="pitch-separator-line"/>
                `),u=k}return i}_renderBeatLines(){const l=this._viewModel,i=[];for(const u of l.getBeatLines())i.push(Ce`
                <line x1=${u.beat*l.beatWidth} y1="0" 
                    x2=${u.beat*l.beatWidth} y2=${l.totalHeight}
                    class=${u.class}/>
            `);return i}_renderPitchNames(){const l=this._viewModel,i=[],u={fontSize:l.pitchHeight-2+"px"};function f(y,k){return Ce`
            <text x=${y.beat*l.beatWidth+2}
                  y=${l.getYFromPitch(k)+l.pitchHeight-l.pitchHeight/5}
                  style=${oc(u)}
                  class="pitch-label">
                ${l.scale.getPitchName(k,!0)}
            </text>`}for(const y of l.getBeatLines().filter(k=>k.beat==0||k.class=="bar-line")){for(const k of l.pitches.filter(W=>W%12==l.scale.root%12&&W!=this._highlightedPitch))i.push(f(y,k));this._highlightedPitch>=0&&i.push(f(y,this._highlightedPitch))}return i}_renderNotes(){var u;const l=this._viewModel,i=[];for(const f of((u=this.clip)==null?void 0:u.notes)??[])i.push(Ce`
                <rect x=${f.start*l.beatWidth}
                    y=${l.getYFromPitch(f.pitch)}
                    height=${l.pitchHeight}
                    width=${f.duration*l.beatWidth}
                    stroke="black" stroke-width="0.5"
                    fill=${l.noteColor(f,f===l.selectedNote)}></rect>
            `);return i}};H.styles=Il`
        .edit-area {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -khtml-user-select: none;
            -ms-user-select: none;
        }

        .bar-line {
            stroke: #303030;
            stroke-width: 2;
            stroke-dasharray: 5,0;
        }

        .beat-line {
            stroke: #E0E0E0;
            stroke-width: 1;
            stroke-dasharray: 5,0;
        }

        .division-line {
            stroke: #A0A0A0;
            stroke-width: 1;
            stroke-dasharray: 2,5;
        }

        .pitch-separator-line {
            stroke: #5E5E5E;
            stroke-width: 1;
        }

        .pitch-label {
            fill: #FFFFFF99;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 20px;
        }
    `;R([O({attribute:!1})],H.prototype,"clip",1);R([O({attribute:"x-zoom",type:Number})],H.prototype,"xZoom",1);R([O({attribute:"y-zoom",type:Number})],H.prototype,"yZoom",1);R([O({attribute:"width",type:Number})],H.prototype,"width",1);R([O({attribute:"height",type:Number})],H.prototype,"height",1);R([O({attribute:"beats-per-bar",type:Number,reflect:!0})],H.prototype,"beatsPerBar",1);R([O({attribute:"divisions-per-beat",type:Number,reflect:!0})],H.prototype,"divisionsPerBeat",1);R([O({attribute:"snap-strength",type:Number,reflect:!0})],H.prototype,"snapStrength",1);R([O({attribute:"note-resize-handle-area",type:Number,reflect:!0})],H.prototype,"noteResizeHandleArea",1);R([O({attribute:"min-pitch",type:String,reflect:!0})],H.prototype,"minPitch",1);R([O({attribute:"max-pitch",type:String,reflect:!0})],H.prototype,"maxPitch",1);R([O({attribute:!1})],H.prototype,"scale",1);R([O({attribute:"filter-pitches-by-scale",type:Boolean})],H.prototype,"filterPitchesByScale",1);R([O({attribute:!1})],H.prototype,"noteColor",1);R([O({attribute:!1})],H.prototype,"canAddNote",1);R([O({attribute:!1})],H.prototype,"canEditNoteStart",1);R([O({attribute:!1})],H.prototype,"canEditNoteEnd",1);R([O({attribute:!1})],H.prototype,"canEditNotePitch",1);R([O({attribute:!1})],H.prototype,"canDeleteNote",1);R([Vl()],H.prototype,"_highlightedPitch",2);H=R([Yl("clip-editor")],H);const _c={title:"ClipEditor",tags:["autodocs"],render:l=>{const i=new H;for(const u in l)i[u]=l[u];return i},argTypes:{clip:{control:"none",description:"The shimi.Clip object which the ClipEditor will display and enable editing of."},minPitch:{control:{type:"number",min:0,max:127,step:1},description:"The minimum pitch in the piano roll which the ClipEditor will render."},maxPitch:{control:{type:"number",min:0,max:127,step:1},description:"The maximum pitch in the piano roll which the ClipEditor will render."},xZoom:{control:{type:"number",min:.5,max:2,step:.1},description:"Multiplier to be used when rendering x-coordinates in the component."},yZoom:{control:{type:"number",min:.5,max:2,step:.1},description:"Multiplier to be used when rendering y-coordinates in the component."},width:{control:{type:"number",min:100,max:1e3,step:10},description:"Controls the total width of the component."},height:{control:{type:"number",min:100,max:1e3,step:10},description:"Controls the total height of the component."},beatsPerBar:{control:{type:"number",min:1,max:8,step:1},description:"How many beat lines to render before a bar line occurs"},divisionsPerBeat:{control:{type:"number",min:1,max:8,step:1},description:"How many subdivisions to render per beat. These provide a useful visual cue where each beat divides, as well as note snapping."},snapStrength:{control:{type:"number",min:0,max:1,step:.01},description:"How strongly note starts & ends will snap to beat divisions. Default value = 0.05, meaning that given the distance from one beat division to the next, a note start or end must be within 5% of that distance from the division to snap to it."},noteResizeHandleArea:{control:{type:"number",min:0,max:1,step:.01},description:"How much of the note's area can be grabbed to resize it, rather than to move it. The default value = 0.2, meaning if you grab the left-most 20% of a note, you be resizing it from its start. Alternatively if you grab the right-most 20% of a note, you'd be resizing it from its end."},scale:{control:"none",description:"The scale object to use when getting pitch names."},filterPitchesByScale:{control:"boolean",description:"If true, then only pitches which belong to the currently set scale will be rendered. Other pitches, as well as any notes on those pitches, won't be rendered."},noteColor:{control:"none",description:"Function that takes in a shimi.ClipNote object & boolean flag representing whether that note is selected, and returns a string color value."},canAddNote:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if that note would be allowed to be added. If you want to add custom modifications to notes added through the UI, this can also be a good place to do so."},canEditNoteStart:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the start of the note would be allowed to be altered."},canEditNoteEnd:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the end of the note would be allowed to be altered."},canEditNotePitch:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the pitch of the note would be allowed to be altered."},canDeleteNote:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the note would be allowed to be removed from the clip."}}};function Q(){return new ae.Clip(8).addNote([0,1],1,"C4",80).addNote([2,3],1,"G4",80).addNote([4,5],1,"A4",80).addNote([6,7],1,"G4",80)}function vc(){return new ae.Clip(8).addNote(0,.5,"C4",80,0).addNote(.5,.5,"D4",80,1).addNote(1,.5,"E4",80,2).addNote(1.5,.5,"F4",80,3).addNote(2,.5,"G4",80,4).addNote(2.5,.5,"A4",80,5).addNote(3,.5,"B4",80,6).addNote(3.5,.5,"C5",80,7).addNote(4,.5,"B4",80,8).addNote(4.5,.5,"A4",80,9).addNote(5,.5,"G4",80,10).addNote(5.5,.5,"F4",80,11).addNote(6,.5,"E4",80,12).addNote(6.5,.5,"D4",80,13).addNote(7,1,"C4",80,14)}const Oe={args:{clip:Q(),minPitch:55,maxPitch:79}},qe={args:{}},Ue={args:{clip:Q(),minPitch:60,maxPitch:72,xZoom:.6,yZoom:1.5}},Ie={args:{clip:Q(),minPitch:60,maxPitch:72,width:500,height:500}},We={args:{clip:Q(),minPitch:60,maxPitch:72,beatsPerBar:3,divisionsPerBeat:5}},Ze={args:{clip:Q(),minPitch:60,maxPitch:72,snapStrength:.5}},Ve={args:{clip:Q(),minPitch:60,maxPitch:72,noteResizeHandleArea:0}},Ye={args:{clip:Q(),minPitch:55,maxPitch:79,scale:ae.ScaleTemplate.major.create("Gb")}},je={args:{clip:Q(),minPitch:55,maxPitch:79,scale:ae.ScaleTemplate.major.create("G"),filterPitchesByScale:!0}},Xe={args:{clip:vc(),minPitch:60,maxPitch:72}},Qe={args:{clip:new ae.Clip(8),minPitch:60,maxPitch:72,canAddNote:l=>l.pitch<67}},Je={args:{clip:Q(),minPitch:60,maxPitch:72,canEditNoteStart:l=>l.start<4}},Ke={args:{clip:Q(),minPitch:60,maxPitch:72,canEditNoteEnd:l=>l.pitch>65}},et={args:{clip:Q(),minPitch:60,maxPitch:72,canEditNotePitch:l=>l.start<4}},tt={args:{clip:Q(),minPitch:60,maxPitch:72,canDeleteNote:l=>!1}};var da,pa,ga;Oe.parameters={...Oe.parameters,docs:{...(da=Oe.parameters)==null?void 0:da.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79
  }
}`,...(ga=(pa=Oe.parameters)==null?void 0:pa.docs)==null?void 0:ga.source}}};var ba,ma,wa;qe.parameters={...qe.parameters,docs:{...(ba=qe.parameters)==null?void 0:ba.docs,source:{originalSource:`{
  args: {}
}`,...(wa=(ma=qe.parameters)==null?void 0:ma.docs)==null?void 0:wa.source}}};var _a,ya,$a;Ue.parameters={...Ue.parameters,docs:{...(_a=Ue.parameters)==null?void 0:_a.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    xZoom: 0.6,
    yZoom: 1.5
  }
}`,...($a=(ya=Ue.parameters)==null?void 0:ya.docs)==null?void 0:$a.source}}};var ka,Pa,Na;Ie.parameters={...Ie.parameters,docs:{...(ka=Ie.parameters)==null?void 0:ka.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    width: 500,
    height: 500
  }
}`,...(Na=(Pa=Ie.parameters)==null?void 0:Pa.docs)==null?void 0:Na.source}}};var Ma,xa,Ca;We.parameters={...We.parameters,docs:{...(Ma=We.parameters)==null?void 0:Ma.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    beatsPerBar: 3,
    divisionsPerBeat: 5
  }
}`,...(Ca=(xa=We.parameters)==null?void 0:xa.docs)==null?void 0:Ca.source}}};var Ea,Aa,Ba;Ze.parameters={...Ze.parameters,docs:{...(Ea=Ze.parameters)==null?void 0:Ea.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    snapStrength: 0.5
  }
}`,...(Ba=(Aa=Ze.parameters)==null?void 0:Aa.docs)==null?void 0:Ba.source}}};var Sa,Fa,Ta;Ve.parameters={...Ve.parameters,docs:{...(Sa=Ve.parameters)==null?void 0:Sa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    noteResizeHandleArea: 0
  }
}`,...(Ta=(Fa=Ve.parameters)==null?void 0:Fa.docs)==null?void 0:Ta.source}}};var Da,za,Ha;Ye.parameters={...Ye.parameters,docs:{...(Da=Ye.parameters)==null?void 0:Da.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79,
    scale: ScaleTemplate.major.create('Gb')
  }
}`,...(Ha=(za=Ye.parameters)==null?void 0:za.docs)==null?void 0:Ha.source}}};var Ra,La,Ga;je.parameters={...je.parameters,docs:{...(Ra=je.parameters)==null?void 0:Ra.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79,
    scale: ScaleTemplate.major.create('G'),
    filterPitchesByScale: true
  }
}`,...(Ga=(La=je.parameters)==null?void 0:La.docs)==null?void 0:Ga.source}}};var Oa,qa,Ua;Xe.parameters={...Xe.parameters,docs:{...(Oa=Xe.parameters)==null?void 0:Oa.docs,source:{originalSource:`{
  args: {
    clip: multiChannelClip(),
    minPitch: 60,
    maxPitch: 72
  }
}`,...(Ua=(qa=Xe.parameters)==null?void 0:qa.docs)==null?void 0:Ua.source}}};var Ia,Wa,Za;Qe.parameters={...Qe.parameters,docs:{...(Ia=Qe.parameters)==null?void 0:Ia.docs,source:{originalSource:`{
  args: {
    clip: new Clip(8),
    minPitch: 60,
    maxPitch: 72,
    canAddNote: n => n.pitch < 67
  }
}`,...(Za=(Wa=Qe.parameters)==null?void 0:Wa.docs)==null?void 0:Za.source}}};var Va,Ya,ja;Je.parameters={...Je.parameters,docs:{...(Va=Je.parameters)==null?void 0:Va.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNoteStart: n => n.start < 4
  }
}`,...(ja=(Ya=Je.parameters)==null?void 0:Ya.docs)==null?void 0:ja.source}}};var Xa,Qa,Ja;Ke.parameters={...Ke.parameters,docs:{...(Xa=Ke.parameters)==null?void 0:Xa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNoteEnd: n => n.pitch > 65
  }
}`,...(Ja=(Qa=Ke.parameters)==null?void 0:Qa.docs)==null?void 0:Ja.source}}};var Ka,en,tn;et.parameters={...et.parameters,docs:{...(Ka=et.parameters)==null?void 0:Ka.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNotePitch: n => n.start < 4
  }
}`,...(tn=(en=et.parameters)==null?void 0:en.docs)==null?void 0:tn.source}}};var rn,an,nn;tt.parameters={...tt.parameters,docs:{...(rn=tt.parameters)==null?void 0:rn.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canDeleteNote: n => false
  }
}`,...(nn=(an=tt.parameters)==null?void 0:an.docs)==null?void 0:nn.source}}};const yc=["Primary","NoClip","XAndYZoom","WidthAndHeight","BeatsPerBarAndDivisionsPerBeat","HighSnapStrength","NoNoteResizeHandleArea","WithScaleSet","FilterPitchesByScale","DefaultNoteColoring","CanOnlyAddNotesBelowG4","CanOnlyEditNoteStartBeforeBeat4","CanOnlyEditNoteEndAboveF4","CanOnlyEditNotePitchBeforeBeat4","CantDeleteNotes"];export{We as BeatsPerBarAndDivisionsPerBeat,Qe as CanOnlyAddNotesBelowG4,Ke as CanOnlyEditNoteEndAboveF4,et as CanOnlyEditNotePitchBeforeBeat4,Je as CanOnlyEditNoteStartBeforeBeat4,tt as CantDeleteNotes,Xe as DefaultNoteColoring,je as FilterPitchesByScale,Ze as HighSnapStrength,qe as NoClip,Ve as NoNoteResizeHandleArea,Oe as Primary,Ie as WidthAndHeight,Ye as WithScaleSet,Ue as XAndYZoom,yc as __namedExportsOrder,_c as default};
//# sourceMappingURL=ClipEditor.stories-f1425874.js.map
