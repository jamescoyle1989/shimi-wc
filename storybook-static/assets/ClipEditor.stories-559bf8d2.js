import{A as fa,T as Gl,i as Hl,s as Ol,x as ql,b as Me}from"./lit-element-3795bd65.js";import{d as ae,n as W,t as Ul,e as Il}from"./index-88dafb31.js";import{e as Zl}from"./directive-helpers-cd0fa6f2.js";import{c as Wl,g as Vl}from"./_commonjsHelpers-725317a4.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tn={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},rn=l=>(...o)=>({_$litDirective$:l,values:o});let an=class{constructor(o){}get _$AU(){return this._$AM._$AU}_$AT(o,h,f){this._$Ct=o,this._$AM=h,this._$Ci=f}_$AS(o,h){return this.update(o,h)}update(o,h){return this.render(...h)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xe=(l,o)=>{var h,f;const w=l._$AN;if(w===void 0)return!1;for(const N of w)(f=(h=N)._$AO)===null||f===void 0||f.call(h,o,!1),xe(N,o);return!0},Ke=l=>{let o,h;do{if((o=l._$AM)===void 0)break;h=o._$AN,h.delete(l),l=o}while((h==null?void 0:h.size)===0)},nn=l=>{for(let o;o=l._$AM;l=o){let h=o._$AN;if(h===void 0)o._$AN=h=new Set;else if(h.has(l))break;h.add(l),Xl(o)}};function Yl(l){this._$AN!==void 0?(Ke(this),this._$AM=l,nn(this)):this._$AM=l}function jl(l,o=!1,h=0){const f=this._$AH,w=this._$AN;if(w!==void 0&&w.size!==0)if(o)if(Array.isArray(f))for(let N=h;N<f.length;N++)xe(f[N],!1),Ke(f[N]);else f!=null&&(xe(f,!1),Ke(f));else xe(this,l)}const Xl=l=>{var o,h,f,w;l.type==tn.CHILD&&((o=(f=l)._$AP)!==null&&o!==void 0||(f._$AP=jl),(h=(w=l)._$AQ)!==null&&h!==void 0||(w._$AQ=Yl))};class Ql extends an{constructor(){super(...arguments),this._$AN=void 0}_$AT(o,h,f){super._$AT(o,h,f),nn(this),this.isConnected=o._$AU}_$AO(o,h=!0){var f,w;o!==this.isConnected&&(this.isConnected=o,o?(f=this.reconnected)===null||f===void 0||f.call(this):(w=this.disconnected)===null||w===void 0||w.call(this)),h&&(xe(this,o),Ke(this))}setValue(o){if(Zl(this._$Ct))this._$Ct._$AI(o,this);else{const h=[...this._$Ct._$AH];h[this._$Ci]=o,this._$Ct._$AI(h,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jl=()=>new Kl;let Kl=class{};const At=new WeakMap,ec=rn(class extends Ql{render(l){return fa}update(l,[o]){var h;const f=o!==this.G;return f&&this.G!==void 0&&this.ot(void 0),(f||this.rt!==this.lt)&&(this.G=o,this.dt=(h=l.options)===null||h===void 0?void 0:h.host,this.ot(this.lt=l.element)),fa}ot(l){var o;if(typeof this.G=="function"){const h=(o=this.dt)!==null&&o!==void 0?o:globalThis;let f=At.get(h);f===void 0&&(f=new WeakMap,At.set(h,f)),f.get(this.G)!==void 0&&this.G.call(this.dt,void 0),f.set(this.G,l),l!==void 0&&this.G.call(this.dt,l)}else this.G.value=l}get rt(){var l,o,h;return typeof this.G=="function"?(o=At.get((l=this.dt)!==null&&l!==void 0?l:globalThis))===null||o===void 0?void 0:o.get(this.G):(h=this.G)===null||h===void 0?void 0:h.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const on="important",tc=" !"+on,rc=rn(class extends an{constructor(l){var o;if(super(l),l.type!==tn.ATTRIBUTE||l.name!=="style"||((o=l.strings)===null||o===void 0?void 0:o.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(l){return Object.keys(l).reduce((o,h)=>{const f=l[h];return f==null?o:o+`${h=h.includes("-")?h:h.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${f};`},"")}update(l,[o]){const{style:h}=l.element;if(this.ht===void 0){this.ht=new Set;for(const f in o)this.ht.add(f);return this.render(o)}this.ht.forEach(f=>{o[f]==null&&(this.ht.delete(f),f.includes("-")?h.removeProperty(f):h[f]="")});for(const f in o){const w=o[f];if(w!=null){this.ht.add(f);const N=typeof w=="string"&&w.endsWith(tc);f.includes("-")||N?h.setProperty(f,N?w.slice(0,-11):w,N?on:""):h[f]=w}}return Gl}});var sn={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(l,o){(function(h,f){l.exports=f()})(Wl,function(){for(var h=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e<t?t:e>r?r:e},f=h,w=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=f(e[t],0,255)):t===3&&(e[t]=f(e[t],0,1));return e},N={},Y=0,Bt=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];Y<Bt.length;Y+=1){var St=Bt[Y];N["[object "+St+"]"]=St.toLowerCase()}var Ce=function(e){return N[Object.prototype.toString.call(e)]||"object"},ln=Ce,cn=function(e,t){return t===void 0&&(t=null),e.length>=3?Array.prototype.slice.call(e):ln(e[0])=="object"&&t?t.split("").filter(function(r){return e[0][r]!==void 0}).map(function(r){return e[0][r]}):e[0]},un=Ce,hn=function(e){if(e.length<2)return null;var t=e.length-1;return un(e[t])=="string"?e[t].toLowerCase():null},$e=Math.PI,b={clip_rgb:w,limit:h,type:Ce,unpack:cn,last:hn,PI:$e,TWOPI:$e*2,PITHIRD:$e/3,DEG2RAD:$e/180,RAD2DEG:180/$e},O={format:{},autodetect:[]},fn=b.last,vn=b.clip_rgb,Ft=b.type,le=O,Tt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var a=this;if(Ft(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var i=fn(t),s=!1;if(!i){s=!0,le.sorted||(le.autodetect=le.autodetect.sort(function(d,m){return m.p-d.p}),le.sorted=!0);for(var n=0,c=le.autodetect;n<c.length;n+=1){var u=c[n];if(i=u.test.apply(u,t),i)break}}if(le.format[i]){var v=le.format[i].apply(null,s?t:t.slice(0,-1));a._rgb=vn(v)}else throw new Error("unknown format: "+t);a._rgb.length===3&&a._rgb.push(1)};Tt.prototype.toString=function(){return Ft(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var k=Tt,Ee=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ee.Color,[null].concat(e)))};Ee.Color=k,Ee.version="2.4.2";var L=Ee,dn=b.unpack,Dt=Math.max,pn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=dn(e,"rgb"),a=r[0],i=r[1],s=r[2];a=a/255,i=i/255,s=s/255;var n=1-Dt(a,Dt(i,s)),c=n<1?1/(1-n):0,u=(1-a-n)*c,v=(1-i-n)*c,d=(1-s-n)*c;return[u,v,d,n]},gn=pn,bn=b.unpack,mn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=bn(e,"cmyk");var r=e[0],a=e[1],i=e[2],s=e[3],n=e.length>4?e[4]:1;return s===1?[0,0,0,n]:[r>=1?0:255*(1-r)*(1-s),a>=1?0:255*(1-a)*(1-s),i>=1?0:255*(1-i)*(1-s),n]},_n=mn,yn=L,zt=k,Rt=O,wn=b.unpack,$n=b.type,kn=gn;zt.prototype.cmyk=function(){return kn(this._rgb)},yn.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(zt,[null].concat(e,["cmyk"])))},Rt.format.cmyk=_n,Rt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=wn(e,"cmyk"),$n(e)==="array"&&e.length===4)return"cmyk"}});var Nn=b.unpack,Pn=b.last,et=function(e){return Math.round(e*100)/100},Mn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Nn(e,"hsla"),a=Pn(e)||"lsa";return r[0]=et(r[0]||0),r[1]=et(r[1]*100)+"%",r[2]=et(r[2]*100)+"%",a==="hsla"||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,a="hsla"):r.length=3,a+"("+r.join(",")+")"},xn=Mn,Cn=b.unpack,En=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Cn(e,"rgba");var r=e[0],a=e[1],i=e[2];r/=255,a/=255,i/=255;var s=Math.min(r,a,i),n=Math.max(r,a,i),c=(n+s)/2,u,v;return n===s?(u=0,v=Number.NaN):u=c<.5?(n-s)/(n+s):(n-s)/(2-n-s),r==n?v=(a-i)/(n-s):a==n?v=2+(i-r)/(n-s):i==n&&(v=4+(r-a)/(n-s)),v*=60,v<0&&(v+=360),e.length>3&&e[3]!==void 0?[v,u,c,e[3]]:[v,u,c]},Lt=En,An=b.unpack,Bn=b.last,Sn=xn,Fn=Lt,tt=Math.round,Tn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=An(e,"rgba"),a=Bn(e)||"rgb";return a.substr(0,3)=="hsl"?Sn(Fn(r),a):(r[0]=tt(r[0]),r[1]=tt(r[1]),r[2]=tt(r[2]),(a==="rgba"||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,a="rgba"),a+"("+r.slice(0,a==="rgb"?3:4).join(",")+")")},Dn=Tn,zn=b.unpack,rt=Math.round,Rn=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];t=zn(t,"hsl");var a=t[0],i=t[1],s=t[2],n,c,u;if(i===0)n=c=u=s*255;else{var v=[0,0,0],d=[0,0,0],m=s<.5?s*(1+i):s+i-s*i,p=2*s-m,y=a/360;v[0]=y+1/3,v[1]=y,v[2]=y-1/3;for(var _=0;_<3;_++)v[_]<0&&(v[_]+=1),v[_]>1&&(v[_]-=1),6*v[_]<1?d[_]=p+(m-p)*6*v[_]:2*v[_]<1?d[_]=m:3*v[_]<2?d[_]=p+(m-p)*(2/3-v[_])*6:d[_]=p;e=[rt(d[0]*255),rt(d[1]*255),rt(d[2]*255)],n=e[0],c=e[1],u=e[2]}return t.length>3?[n,c,u,t[3]]:[n,c,u,1]},Gt=Rn,Ht=Gt,Ot=O,qt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ut=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,It=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Zt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Wt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Vt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Yt=Math.round,jt=function(e){e=e.toLowerCase().trim();var t;if(Ot.format.named)try{return Ot.format.named(e)}catch{}if(t=e.match(qt)){for(var r=t.slice(1,4),a=0;a<3;a++)r[a]=+r[a];return r[3]=1,r}if(t=e.match(Ut)){for(var i=t.slice(1,5),s=0;s<4;s++)i[s]=+i[s];return i}if(t=e.match(It)){for(var n=t.slice(1,4),c=0;c<3;c++)n[c]=Yt(n[c]*2.55);return n[3]=1,n}if(t=e.match(Zt)){for(var u=t.slice(1,5),v=0;v<3;v++)u[v]=Yt(u[v]*2.55);return u[3]=+u[3],u}if(t=e.match(Wt)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var m=Ht(d);return m[3]=1,m}if(t=e.match(Vt)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var y=Ht(p);return y[3]=+t[4],y}};jt.test=function(e){return qt.test(e)||Ut.test(e)||It.test(e)||Zt.test(e)||Wt.test(e)||Vt.test(e)};var Ln=jt,Gn=L,Xt=k,Qt=O,Hn=b.type,On=Dn,Jt=Ln;Xt.prototype.css=function(e){return On(this._rgb,e)},Gn.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xt,[null].concat(e,["css"])))},Qt.format.css=Jt,Qt.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&Hn(e)==="string"&&Jt.test(e))return"css"}});var Kt=k,qn=L,Un=O,In=b.unpack;Un.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=In(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},qn.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Kt,[null].concat(e,["gl"])))},Kt.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Zn=b.unpack,Wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Zn(e,"rgb"),a=r[0],i=r[1],s=r[2],n=Math.min(a,i,s),c=Math.max(a,i,s),u=c-n,v=u*100/255,d=n/(255-u)*100,m;return u===0?m=Number.NaN:(a===c&&(m=(i-s)/u),i===c&&(m=2+(s-a)/u),s===c&&(m=4+(a-i)/u),m*=60,m<0&&(m+=360)),[m,v,d]},Vn=Wn,Yn=b.unpack,jn=Math.floor,Xn=function(){for(var e,t,r,a,i,s,n=[],c=arguments.length;c--;)n[c]=arguments[c];n=Yn(n,"hcg");var u=n[0],v=n[1],d=n[2],m,p,y;d=d*255;var _=v*255;if(v===0)m=p=y=d;else{u===360&&(u=0),u>360&&(u-=360),u<0&&(u+=360),u/=60;var P=jn(u),C=u-P,A=d*(1-v),S=A+_*(1-C),I=A+_*C,U=A+_;switch(P){case 0:e=[U,I,A],m=e[0],p=e[1],y=e[2];break;case 1:t=[S,U,A],m=t[0],p=t[1],y=t[2];break;case 2:r=[A,U,I],m=r[0],p=r[1],y=r[2];break;case 3:a=[A,S,U],m=a[0],p=a[1],y=a[2];break;case 4:i=[I,A,U],m=i[0],p=i[1],y=i[2];break;case 5:s=[U,A,S],m=s[0],p=s[1],y=s[2];break}}return[m,p,y,n.length>3?n[3]:1]},Qn=Xn,Jn=b.unpack,Kn=b.type,ei=L,er=k,tr=O,ti=Vn;er.prototype.hcg=function(){return ti(this._rgb)},ei.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(er,[null].concat(e,["hcg"])))},tr.format.hcg=Qn,tr.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Jn(e,"hcg"),Kn(e)==="array"&&e.length===3)return"hcg"}});var ri=b.unpack,ai=b.last,Ae=Math.round,ni=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ri(e,"rgba"),a=r[0],i=r[1],s=r[2],n=r[3],c=ai(e)||"auto";n===void 0&&(n=1),c==="auto"&&(c=n<1?"rgba":"rgb"),a=Ae(a),i=Ae(i),s=Ae(s);var u=a<<16|i<<8|s,v="000000"+u.toString(16);v=v.substr(v.length-6);var d="0"+Ae(n*255).toString(16);switch(d=d.substr(d.length-2),c.toLowerCase()){case"rgba":return"#"+v+d;case"argb":return"#"+d+v;default:return"#"+v}},rr=ni,ii=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,oi=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,si=function(e){if(e.match(ii)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16),r=t>>16,a=t>>8&255,i=t&255;return[r,a,i,1]}if(e.match(oi)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var s=parseInt(e,16),n=s>>24&255,c=s>>16&255,u=s>>8&255,v=Math.round((s&255)/255*100)/100;return[n,c,u,v]}throw new Error("unknown hex color: "+e)},ar=si,li=L,nr=k,ci=b.type,ir=O,ui=rr;nr.prototype.hex=function(e){return ui(this._rgb,e)},li.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(nr,[null].concat(e,["hex"])))},ir.format.hex=ar,ir.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&ci(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var hi=b.unpack,or=b.TWOPI,fi=Math.min,vi=Math.sqrt,di=Math.acos,pi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=hi(e,"rgb"),a=r[0],i=r[1],s=r[2];a/=255,i/=255,s/=255;var n,c=fi(a,i,s),u=(a+i+s)/3,v=u>0?1-c/u:0;return v===0?n=NaN:(n=(a-i+(a-s))/2,n/=vi((a-i)*(a-i)+(a-s)*(i-s)),n=di(n),s>i&&(n=or-n),n/=or),[n*360,v,u]},gi=pi,bi=b.unpack,at=b.limit,fe=b.TWOPI,nt=b.PITHIRD,ve=Math.cos,mi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=bi(e,"hsi");var r=e[0],a=e[1],i=e[2],s,n,c;return isNaN(r)&&(r=0),isNaN(a)&&(a=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(c=(1-a)/3,s=(1+a*ve(fe*r)/ve(nt-fe*r))/3,n=1-(c+s)):r<2/3?(r-=1/3,s=(1-a)/3,n=(1+a*ve(fe*r)/ve(nt-fe*r))/3,c=1-(s+n)):(r-=2/3,n=(1-a)/3,c=(1+a*ve(fe*r)/ve(nt-fe*r))/3,s=1-(n+c)),s=at(i*s*3),n=at(i*n*3),c=at(i*c*3),[s*255,n*255,c*255,e.length>3?e[3]:1]},_i=mi,yi=b.unpack,wi=b.type,$i=L,sr=k,lr=O,ki=gi;sr.prototype.hsi=function(){return ki(this._rgb)},$i.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(sr,[null].concat(e,["hsi"])))},lr.format.hsi=_i,lr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=yi(e,"hsi"),wi(e)==="array"&&e.length===3)return"hsi"}});var Ni=b.unpack,Pi=b.type,Mi=L,cr=k,ur=O,xi=Lt;cr.prototype.hsl=function(){return xi(this._rgb)},Mi.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(cr,[null].concat(e,["hsl"])))},ur.format.hsl=Gt,ur.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ni(e,"hsl"),Pi(e)==="array"&&e.length===3)return"hsl"}});var Ci=b.unpack,Ei=Math.min,Ai=Math.max,Bi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Ci(e,"rgb");var r=e[0],a=e[1],i=e[2],s=Ei(r,a,i),n=Ai(r,a,i),c=n-s,u,v,d;return d=n/255,n===0?(u=Number.NaN,v=0):(v=c/n,r===n&&(u=(a-i)/c),a===n&&(u=2+(i-r)/c),i===n&&(u=4+(r-a)/c),u*=60,u<0&&(u+=360)),[u,v,d]},Si=Bi,Fi=b.unpack,Ti=Math.floor,Di=function(){for(var e,t,r,a,i,s,n=[],c=arguments.length;c--;)n[c]=arguments[c];n=Fi(n,"hsv");var u=n[0],v=n[1],d=n[2],m,p,y;if(d*=255,v===0)m=p=y=d;else{u===360&&(u=0),u>360&&(u-=360),u<0&&(u+=360),u/=60;var _=Ti(u),P=u-_,C=d*(1-v),A=d*(1-v*P),S=d*(1-v*(1-P));switch(_){case 0:e=[d,S,C],m=e[0],p=e[1],y=e[2];break;case 1:t=[A,d,C],m=t[0],p=t[1],y=t[2];break;case 2:r=[C,d,S],m=r[0],p=r[1],y=r[2];break;case 3:a=[C,A,d],m=a[0],p=a[1],y=a[2];break;case 4:i=[S,C,d],m=i[0],p=i[1],y=i[2];break;case 5:s=[d,C,A],m=s[0],p=s[1],y=s[2];break}}return[m,p,y,n.length>3?n[3]:1]},zi=Di,Ri=b.unpack,Li=b.type,Gi=L,hr=k,fr=O,Hi=Si;hr.prototype.hsv=function(){return Hi(this._rgb)},Gi.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(hr,[null].concat(e,["hsv"])))},fr.format.hsv=zi,fr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ri(e,"hsv"),Li(e)==="array"&&e.length===3)return"hsv"}});var Be={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=Be,Oi=b.unpack,vr=Math.pow,qi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Oi(e,"rgb"),a=r[0],i=r[1],s=r[2],n=Ui(a,i,s),c=n[0],u=n[1],v=n[2],d=116*u-16;return[d<0?0:d,500*(c-u),200*(u-v)]},it=function(e){return(e/=255)<=.04045?e/12.92:vr((e+.055)/1.055,2.4)},ot=function(e){return e>de.t3?vr(e,1/3):e/de.t2+de.t0},Ui=function(e,t,r){e=it(e),t=it(t),r=it(r);var a=ot((.4124564*e+.3575761*t+.1804375*r)/de.Xn),i=ot((.2126729*e+.7151522*t+.072175*r)/de.Yn),s=ot((.0193339*e+.119192*t+.9503041*r)/de.Zn);return[a,i,s]},dr=qi,pe=Be,Ii=b.unpack,Zi=Math.pow,Wi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Ii(e,"lab");var r=e[0],a=e[1],i=e[2],s,n,c,u,v,d;return n=(r+16)/116,s=isNaN(a)?n:n+a/500,c=isNaN(i)?n:n-i/200,n=pe.Yn*lt(n),s=pe.Xn*lt(s),c=pe.Zn*lt(c),u=st(3.2404542*s-1.5371385*n-.4985314*c),v=st(-.969266*s+1.8760108*n+.041556*c),d=st(.0556434*s-.2040259*n+1.0572252*c),[u,v,d,e.length>3?e[3]:1]},st=function(e){return 255*(e<=.00304?12.92*e:1.055*Zi(e,1/2.4)-.055)},lt=function(e){return e>pe.t1?e*e*e:pe.t2*(e-pe.t0)},pr=Wi,Vi=b.unpack,Yi=b.type,ji=L,gr=k,br=O,Xi=dr;gr.prototype.lab=function(){return Xi(this._rgb)},ji.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gr,[null].concat(e,["lab"])))},br.format.lab=pr,br.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Vi(e,"lab"),Yi(e)==="array"&&e.length===3)return"lab"}});var Qi=b.unpack,Ji=b.RAD2DEG,Ki=Math.sqrt,eo=Math.atan2,to=Math.round,ro=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Qi(e,"lab"),a=r[0],i=r[1],s=r[2],n=Ki(i*i+s*s),c=(eo(s,i)*Ji+360)%360;return to(n*1e4)===0&&(c=Number.NaN),[a,n,c]},mr=ro,ao=b.unpack,no=dr,io=mr,oo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ao(e,"rgb"),a=r[0],i=r[1],s=r[2],n=no(a,i,s),c=n[0],u=n[1],v=n[2];return io(c,u,v)},so=oo,lo=b.unpack,co=b.DEG2RAD,uo=Math.sin,ho=Math.cos,fo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=lo(e,"lch"),a=r[0],i=r[1],s=r[2];return isNaN(s)&&(s=0),s=s*co,[a,ho(s)*i,uo(s)*i]},_r=fo,vo=b.unpack,po=_r,go=pr,bo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=vo(e,"lch");var r=e[0],a=e[1],i=e[2],s=po(r,a,i),n=s[0],c=s[1],u=s[2],v=go(n,c,u),d=v[0],m=v[1],p=v[2];return[d,m,p,e.length>3?e[3]:1]},yr=bo,mo=b.unpack,_o=yr,yo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=mo(e,"hcl").reverse();return _o.apply(void 0,r)},wo=yo,$o=b.unpack,ko=b.type,wr=L,Se=k,ct=O,$r=so;Se.prototype.lch=function(){return $r(this._rgb)},Se.prototype.hcl=function(){return $r(this._rgb).reverse()},wr.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Se,[null].concat(e,["lch"])))},wr.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Se,[null].concat(e,["hcl"])))},ct.format.lch=yr,ct.format.hcl=wo,["lch","hcl"].forEach(function(e){return ct.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=$o(t,e),ko(t)==="array"&&t.length===3)return e}})});var No={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},kr=No,Po=k,Nr=O,Mo=b.type,ke=kr,xo=ar,Co=rr;Po.prototype.name=function(){for(var e=Co(this._rgb,"rgb"),t=0,r=Object.keys(ke);t<r.length;t+=1){var a=r[t];if(ke[a]===e)return a.toLowerCase()}return e},Nr.format.named=function(e){if(e=e.toLowerCase(),ke[e])return xo(ke[e]);throw new Error("unknown color name: "+e)},Nr.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&Mo(e)==="string"&&ke[e.toLowerCase()])return"named"}});var Eo=b.unpack,Ao=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Eo(e,"rgb"),a=r[0],i=r[1],s=r[2];return(a<<16)+(i<<8)+s},Bo=Ao,So=b.type,Fo=function(e){if(So(e)=="number"&&e>=0&&e<=16777215){var t=e>>16,r=e>>8&255,a=e&255;return[t,r,a,1]}throw new Error("unknown num color: "+e)},To=Fo,Do=L,Pr=k,Mr=O,zo=b.type,Ro=Bo;Pr.prototype.num=function(){return Ro(this._rgb)},Do.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Pr,[null].concat(e,["num"])))},Mr.format.num=To,Mr.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e.length===1&&zo(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Lo=L,ut=k,xr=O,Cr=b.unpack,Er=b.type,Ar=Math.round;ut.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ar)},ut.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(t,r){return r<3?e===!1?t:Ar(t):t})},Lo.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ut,[null].concat(e,["rgb"])))},xr.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Cr(e,"rgba");return r[3]===void 0&&(r[3]=1),r},xr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Cr(e,"rgba"),Er(e)==="array"&&(e.length===3||e.length===4&&Er(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Fe=Math.log,Go=function(e){var t=e/100,r,a,i;return t<66?(r=255,a=t<6?0:-155.25485562709179-.44596950469579133*(a=t-2)+104.49216199393888*Fe(a),i=t<20?0:-254.76935184120902+.8274096064007395*(i=t-10)+115.67994401066147*Fe(i)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*Fe(r),a=325.4494125711974+.07943456536662342*(a=t-50)-28.0852963507957*Fe(a),i=255),[r,a,i,1]},Br=Go,Ho=Br,Oo=b.unpack,qo=Math.round,Uo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=Oo(e,"rgb"),a=r[0],i=r[2],s=1e3,n=4e4,c=.4,u;n-s>c;){u=(n+s)*.5;var v=Ho(u);v[2]/v[0]>=i/a?n=u:s=u}return qo(u)},Io=Uo,ht=L,Te=k,ft=O,Zo=Io;Te.prototype.temp=Te.prototype.kelvin=Te.prototype.temperature=function(){return Zo(this._rgb)},ht.temp=ht.kelvin=ht.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Te,[null].concat(e,["temp"])))},ft.format.temp=ft.format.kelvin=ft.format.temperature=Br;var Wo=b.unpack,vt=Math.cbrt,Vo=Math.pow,Yo=Math.sign,jo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Wo(e,"rgb"),a=r[0],i=r[1],s=r[2],n=[dt(a/255),dt(i/255),dt(s/255)],c=n[0],u=n[1],v=n[2],d=vt(.4122214708*c+.5363325363*u+.0514459929*v),m=vt(.2119034982*c+.6806995451*u+.1073969566*v),p=vt(.0883024619*c+.2817188376*u+.6299787005*v);return[.2104542553*d+.793617785*m-.0040720468*p,1.9779984951*d-2.428592205*m+.4505937099*p,.0259040371*d+.7827717662*m-.808675766*p]},Sr=jo;function dt(e){var t=Math.abs(e);return t<.04045?e/12.92:(Yo(e)||1)*Vo((t+.055)/1.055,2.4)}var Xo=b.unpack,De=Math.pow,Qo=Math.sign,Jo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Xo(e,"lab");var r=e[0],a=e[1],i=e[2],s=De(r+.3963377774*a+.2158037573*i,3),n=De(r-.1055613458*a-.0638541728*i,3),c=De(r-.0894841775*a-1.291485548*i,3);return[255*pt(4.0767416621*s-3.3077115913*n+.2309699292*c),255*pt(-1.2684380046*s+2.6097574011*n-.3413193965*c),255*pt(-.0041960863*s-.7034186147*n+1.707614701*c),e.length>3?e[3]:1]},Fr=Jo;function pt(e){var t=Math.abs(e);return t>.0031308?(Qo(e)||1)*(1.055*De(t,1/2.4)-.055):e*12.92}var Ko=b.unpack,es=b.type,ts=L,Tr=k,Dr=O,rs=Sr;Tr.prototype.oklab=function(){return rs(this._rgb)},ts.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Tr,[null].concat(e,["oklab"])))},Dr.format.oklab=Fr,Dr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ko(e,"oklab"),es(e)==="array"&&e.length===3)return"oklab"}});var as=b.unpack,ns=Sr,is=mr,os=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=as(e,"rgb"),a=r[0],i=r[1],s=r[2],n=ns(a,i,s),c=n[0],u=n[1],v=n[2];return is(c,u,v)},ss=os,ls=b.unpack,cs=_r,us=Fr,hs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=ls(e,"lch");var r=e[0],a=e[1],i=e[2],s=cs(r,a,i),n=s[0],c=s[1],u=s[2],v=us(n,c,u),d=v[0],m=v[1],p=v[2];return[d,m,p,e.length>3?e[3]:1]},fs=hs,vs=b.unpack,ds=b.type,ps=L,zr=k,Rr=O,gs=ss;zr.prototype.oklch=function(){return gs(this._rgb)},ps.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(zr,[null].concat(e,["oklch"])))},Rr.format.oklch=fs,Rr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=vs(e,"oklch"),ds(e)==="array"&&e.length===3)return"oklch"}});var Lr=k,bs=b.type;Lr.prototype.alpha=function(e,t){return t===void 0&&(t=!1),e!==void 0&&bs(e)==="number"?t?(this._rgb[3]=e,this):new Lr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var ms=k;ms.prototype.clipped=function(){return this._rgb._clipped||!1};var ce=k,_s=Be;ce.prototype.darken=function(e){e===void 0&&(e=1);var t=this,r=t.lab();return r[0]-=_s.Kn*e,new ce(r,"lab").alpha(t.alpha(),!0)},ce.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},ce.prototype.darker=ce.prototype.darken,ce.prototype.brighter=ce.prototype.brighten;var ys=k;ys.prototype.get=function(e){var t=e.split("."),r=t[0],a=t[1],i=this[r]();if(a){var s=r.indexOf(a)-(r.substr(0,2)==="ok"?2:0);if(s>-1)return i[s];throw new Error("unknown channel "+a+" in mode "+r)}else return i};var ge=k,ws=b.type,$s=Math.pow,ks=1e-7,Ns=20;ge.prototype.luminance=function(e){if(e!==void 0&&ws(e)==="number"){if(e===0)return new ge([0,0,0,this._rgb[3]],"rgb");if(e===1)return new ge([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r="rgb",a=Ns,i=function(n,c){var u=n.interpolate(c,.5,r),v=u.luminance();return Math.abs(e-v)<ks||!a--?u:v>e?i(n,u):i(u,c)},s=(t>e?i(new ge([0,0,0]),this):i(this,new ge([255,255,255]))).rgb();return new ge(s.concat([this._rgb[3]]))}return Ps.apply(void 0,this._rgb.slice(0,3))};var Ps=function(e,t,r){return e=gt(e),t=gt(t),r=gt(r),.2126*e+.7152*t+.0722*r},gt=function(e){return e/=255,e<=.03928?e/12.92:$s((e+.055)/1.055,2.4)},X={},Gr=k,Hr=b.type,ze=X,Or=function(e,t,r){r===void 0&&(r=.5);for(var a=[],i=arguments.length-3;i-- >0;)a[i]=arguments[i+3];var s=a[0]||"lrgb";if(!ze[s]&&!a.length&&(s=Object.keys(ze)[0]),!ze[s])throw new Error("interpolation mode "+s+" is not defined");return Hr(e)!=="object"&&(e=new Gr(e)),Hr(t)!=="object"&&(t=new Gr(t)),ze[s](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))},qr=k,Ms=Or;qr.prototype.mix=qr.prototype.interpolate=function(e,t){t===void 0&&(t=.5);for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];return Ms.apply(void 0,[this,e,t].concat(r))};var Ur=k;Ur.prototype.premultiply=function(e){e===void 0&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new Ur([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var bt=k,xs=Be;bt.prototype.saturate=function(e){e===void 0&&(e=1);var t=this,r=t.lch();return r[1]+=xs.Kn*e,r[1]<0&&(r[1]=0),new bt(r,"lch").alpha(t.alpha(),!0)},bt.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var Ir=k,Zr=b.type;Ir.prototype.set=function(e,t,r){r===void 0&&(r=!1);var a=e.split("."),i=a[0],s=a[1],n=this[i]();if(s){var c=i.indexOf(s)-(i.substr(0,2)==="ok"?2:0);if(c>-1){if(Zr(t)=="string")switch(t.charAt(0)){case"+":n[c]+=+t;break;case"-":n[c]+=+t;break;case"*":n[c]*=+t.substr(1);break;case"/":n[c]/=+t.substr(1);break;default:n[c]=+t}else if(Zr(t)==="number")n[c]=t;else throw new Error("unsupported value for Color.set");var u=new Ir(n,i);return r?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+s+" in mode "+i)}else return n};var Cs=k,Es=function(e,t,r){var a=e._rgb,i=t._rgb;return new Cs(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),"rgb")};X.rgb=Es;var As=k,mt=Math.sqrt,be=Math.pow,Bs=function(e,t,r){var a=e._rgb,i=a[0],s=a[1],n=a[2],c=t._rgb,u=c[0],v=c[1],d=c[2];return new As(mt(be(i,2)*(1-r)+be(u,2)*r),mt(be(s,2)*(1-r)+be(v,2)*r),mt(be(n,2)*(1-r)+be(d,2)*r),"rgb")};X.lrgb=Bs;var Ss=k,Fs=function(e,t,r){var a=e.lab(),i=t.lab();return new Ss(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),"lab")};X.lab=Fs;var Wr=k,me=function(e,t,r,a){var i,s,n,c;a==="hsl"?(n=e.hsl(),c=t.hsl()):a==="hsv"?(n=e.hsv(),c=t.hsv()):a==="hcg"?(n=e.hcg(),c=t.hcg()):a==="hsi"?(n=e.hsi(),c=t.hsi()):a==="lch"||a==="hcl"?(a="hcl",n=e.hcl(),c=t.hcl()):a==="oklch"&&(n=e.oklch().reverse(),c=t.oklch().reverse());var u,v,d,m,p,y;(a.substr(0,1)==="h"||a==="oklch")&&(i=n,u=i[0],d=i[1],p=i[2],s=c,v=s[0],m=s[1],y=s[2]);var _,P,C,A;return!isNaN(u)&&!isNaN(v)?(v>u&&v-u>180?A=v-(u+360):v<u&&u-v>180?A=v+360-u:A=v-u,P=u+r*A):isNaN(u)?isNaN(v)?P=Number.NaN:(P=v,(p==1||p==0)&&a!="hsv"&&(_=m)):(P=u,(y==1||y==0)&&a!="hsv"&&(_=d)),_===void 0&&(_=d+r*(m-d)),C=p+r*(y-p),a==="oklch"?new Wr([C,_,P],a):new Wr([P,_,C],a)},Ts=me,Vr=function(e,t,r){return Ts(e,t,r,"lch")};X.lch=Vr,X.hcl=Vr;var Ds=k,zs=function(e,t,r){var a=e.num(),i=t.num();return new Ds(a+r*(i-a),"num")};X.num=zs;var Rs=me,Ls=function(e,t,r){return Rs(e,t,r,"hcg")};X.hcg=Ls;var Gs=me,Hs=function(e,t,r){return Gs(e,t,r,"hsi")};X.hsi=Hs;var Os=me,qs=function(e,t,r){return Os(e,t,r,"hsl")};X.hsl=qs;var Us=me,Is=function(e,t,r){return Us(e,t,r,"hsv")};X.hsv=Is;var Zs=k,Ws=function(e,t,r){var a=e.oklab(),i=t.oklab();return new Zs(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),"oklab")};X.oklab=Ws;var Vs=me,Ys=function(e,t,r){return Vs(e,t,r,"oklch")};X.oklch=Ys;var _t=k,js=b.clip_rgb,yt=Math.pow,wt=Math.sqrt,$t=Math.PI,Yr=Math.cos,jr=Math.sin,Xs=Math.atan2,Qs=function(e,t,r){t===void 0&&(t="lrgb"),r===void 0&&(r=null);var a=e.length;r||(r=Array.from(new Array(a)).map(function(){return 1}));var i=a/r.reduce(function(P,C){return P+C});if(r.forEach(function(P,C){r[C]*=i}),e=e.map(function(P){return new _t(P)}),t==="lrgb")return Js(e,r);for(var s=e.shift(),n=s.get(t),c=[],u=0,v=0,d=0;d<n.length;d++)if(n[d]=(n[d]||0)*r[0],c.push(isNaN(n[d])?0:r[0]),t.charAt(d)==="h"&&!isNaN(n[d])){var m=n[d]/180*$t;u+=Yr(m)*r[0],v+=jr(m)*r[0]}var p=s.alpha()*r[0];e.forEach(function(P,C){var A=P.get(t);p+=P.alpha()*r[C+1];for(var S=0;S<n.length;S++)if(!isNaN(A[S]))if(c[S]+=r[C+1],t.charAt(S)==="h"){var I=A[S]/180*$t;u+=Yr(I)*r[C+1],v+=jr(I)*r[C+1]}else n[S]+=A[S]*r[C+1]});for(var y=0;y<n.length;y++)if(t.charAt(y)==="h"){for(var _=Xs(v/c[y],u/c[y])/$t*180;_<0;)_+=360;for(;_>=360;)_-=360;n[y]=_}else n[y]=n[y]/c[y];return p/=a,new _t(n,t).alpha(p>.99999?1:p,!0)},Js=function(e,t){for(var r=e.length,a=[0,0,0,0],i=0;i<e.length;i++){var s=e[i],n=t[i]/r,c=s._rgb;a[0]+=yt(c[0],2)*n,a[1]+=yt(c[1],2)*n,a[2]+=yt(c[2],2)*n,a[3]+=c[3]*n}return a[0]=wt(a[0]),a[1]=wt(a[1]),a[2]=wt(a[2]),a[3]>.9999999&&(a[3]=1),new _t(js(a))},Q=L,_e=b.type,Ks=Math.pow,kt=function(e){var t="rgb",r=Q("#ccc"),a=0,i=[0,1],s=[],n=[0,0],c=!1,u=[],v=!1,d=0,m=1,p=!1,y={},_=!0,P=1,C=function(g){if(g=g||["#fff","#000"],g&&_e(g)==="string"&&Q.brewer&&Q.brewer[g.toLowerCase()]&&(g=Q.brewer[g.toLowerCase()]),_e(g)==="array"){g.length===1&&(g=[g[0],g[0]]),g=g.slice(0);for(var $=0;$<g.length;$++)g[$]=Q(g[$]);s.length=0;for(var x=0;x<g.length;x++)s.push(x/(g.length-1))}return j(),u=g},A=function(g){if(c!=null){for(var $=c.length-1,x=0;x<$&&g>=c[x];)x++;return x-1}return 0},S=function(g){return g},I=function(g){return g},U=function(g,$){var x,M;if($==null&&($=!1),isNaN(g)||g===null)return r;if($)M=g;else if(c&&c.length>2){var Z=A(g);M=Z/(c.length-2)}else m!==d?M=(g-d)/(m-d):M=1;M=I(M),$||(M=S(M)),P!==1&&(M=Ks(M,P)),M=n[0]+M*(1-n[0]-n[1]),M=Math.min(1,Math.max(0,M));var z=Math.floor(M*1e4);if(_&&y[z])x=y[z];else{if(_e(u)==="array")for(var B=0;B<s.length;B++){var F=s[B];if(M<=F){x=u[B];break}if(M>=F&&B===s.length-1){x=u[B];break}if(M>F&&M<s[B+1]){M=(M-F)/(s[B+1]-F),x=Q.interpolate(u[B],u[B+1],M,t);break}}else _e(u)==="function"&&(x=u(M));_&&(y[z]=x)}return x},j=function(){return y={}};C(e);var E=function(g){var $=Q(U(g));return v&&$[v]?$[v]():$};return E.classes=function(g){if(g!=null){if(_e(g)==="array")c=g,i=[g[0],g[g.length-1]];else{var $=Q.analyze(i);g===0?c=[$.min,$.max]:c=Q.limits($,"e",g)}return E}return c},E.domain=function(g){if(!arguments.length)return i;d=g[0],m=g[g.length-1],s=[];var $=u.length;if(g.length===$&&d!==m)for(var x=0,M=Array.from(g);x<M.length;x+=1){var Z=M[x];s.push((Z-d)/(m-d))}else{for(var z=0;z<$;z++)s.push(z/($-1));if(g.length>2){var B=g.map(function(T,D){return D/(g.length-1)}),F=g.map(function(T){return(T-d)/(m-d)});F.every(function(T,D){return B[D]===T})||(I=function(T){if(T<=0||T>=1)return T;for(var D=0;T>=F[D+1];)D++;var K=(T-F[D])/(F[D+1]-F[D]),oe=B[D]+K*(B[D+1]-B[D]);return oe})}}return i=[d,m],E},E.mode=function(g){return arguments.length?(t=g,j(),E):t},E.range=function(g,$){return C(g),E},E.out=function(g){return v=g,E},E.spread=function(g){return arguments.length?(a=g,E):a},E.correctLightness=function(g){return g==null&&(g=!0),p=g,j(),p?S=function($){for(var x=U(0,!0).lab()[0],M=U(1,!0).lab()[0],Z=x>M,z=U($,!0).lab()[0],B=x+(M-x)*$,F=z-B,T=0,D=1,K=20;Math.abs(F)>.01&&K-- >0;)(function(){return Z&&(F*=-1),F<0?(T=$,$+=(D-$)*.5):(D=$,$+=(T-$)*.5),z=U($,!0).lab()[0],F=z-B})();return $}:S=function($){return $},E},E.padding=function(g){return g!=null?(_e(g)==="number"&&(g=[g,g]),n=g,E):n},E.colors=function(g,$){arguments.length<2&&($="hex");var x=[];if(arguments.length===0)x=u.slice(0);else if(g===1)x=[E(.5)];else if(g>1){var M=i[0],Z=i[1]-M;x=el(0,g,!1).map(function(D){return E(M+D/(g-1)*Z)})}else{e=[];var z=[];if(c&&c.length>2)for(var B=1,F=c.length,T=1<=F;T?B<F:B>F;T?B++:B--)z.push((c[B-1]+c[B])*.5);else z=i;x=z.map(function(D){return E(D)})}return Q[$]&&(x=x.map(function(D){return D[$]()})),x},E.cache=function(g){return g!=null?(_=g,E):_},E.gamma=function(g){return g!=null?(P=g,E):P},E.nodata=function(g){return g!=null?(r=Q(g),E):r},E};function el(e,t,r){for(var a=[],i=e<t,s=r?i?t+1:t-1:t,n=e;i?n<s:n>s;i?n++:n--)a.push(n);return a}var Ne=k,tl=kt,rl=function(e){for(var t=[1,1],r=1;r<e;r++){for(var a=[1],i=1;i<=t.length;i++)a[i]=(t[i]||0)+t[i-1];t=a}return t},al=function(e){var t,r,a,i,s,n,c;if(e=e.map(function(p){return new Ne(p)}),e.length===2)t=e.map(function(p){return p.lab()}),s=t[0],n=t[1],i=function(p){var y=[0,1,2].map(function(_){return s[_]+p*(n[_]-s[_])});return new Ne(y,"lab")};else if(e.length===3)r=e.map(function(p){return p.lab()}),s=r[0],n=r[1],c=r[2],i=function(p){var y=[0,1,2].map(function(_){return(1-p)*(1-p)*s[_]+2*(1-p)*p*n[_]+p*p*c[_]});return new Ne(y,"lab")};else if(e.length===4){var u;a=e.map(function(p){return p.lab()}),s=a[0],n=a[1],c=a[2],u=a[3],i=function(p){var y=[0,1,2].map(function(_){return(1-p)*(1-p)*(1-p)*s[_]+3*(1-p)*(1-p)*p*n[_]+3*(1-p)*p*p*c[_]+p*p*p*u[_]});return new Ne(y,"lab")}}else if(e.length>=5){var v,d,m;v=e.map(function(p){return p.lab()}),m=e.length-1,d=rl(m),i=function(p){var y=1-p,_=[0,1,2].map(function(P){return v.reduce(function(C,A,S){return C+d[S]*Math.pow(y,m-S)*Math.pow(p,S)*A[P]},0)});return new Ne(_,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return i},nl=function(e){var t=al(e);return t.scale=function(){return tl(t)},t},Nt=L,J=function(e,t,r){if(!J[r])throw new Error("unknown blend mode "+r);return J[r](e,t)},ne=function(e){return function(t,r){var a=Nt(r).rgb(),i=Nt(t).rgb();return Nt.rgb(e(a,i))}},ie=function(e){return function(t,r){var a=[];return a[0]=e(t[0],r[0]),a[1]=e(t[1],r[1]),a[2]=e(t[2],r[2]),a}},il=function(e){return e},ol=function(e,t){return e*t/255},sl=function(e,t){return e>t?t:e},ll=function(e,t){return e>t?e:t},cl=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ul=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},hl=function(e,t){return 255*(1-(1-t/255)/(e/255))},fl=function(e,t){return e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e)};J.normal=ne(ie(il)),J.multiply=ne(ie(ol)),J.screen=ne(ie(cl)),J.overlay=ne(ie(ul)),J.darken=ne(ie(sl)),J.lighten=ne(ie(ll)),J.dodge=ne(ie(fl)),J.burn=ne(ie(hl));for(var vl=J,Pt=b.type,dl=b.clip_rgb,pl=b.TWOPI,gl=Math.pow,bl=Math.sin,ml=Math.cos,Xr=L,_l=function(e,t,r,a,i){e===void 0&&(e=300),t===void 0&&(t=-1.5),r===void 0&&(r=1),a===void 0&&(a=1),i===void 0&&(i=[0,1]);var s=0,n;Pt(i)==="array"?n=i[1]-i[0]:(n=0,i=[i,i]);var c=function(u){var v=pl*((e+120)/360+t*u),d=gl(i[0]+n*u,a),m=s!==0?r[0]+u*s:r,p=m*d*(1-d)/2,y=ml(v),_=bl(v),P=d+p*(-.14861*y+1.78277*_),C=d+p*(-.29227*y-.90649*_),A=d+p*(1.97294*y);return Xr(dl([P*255,C*255,A*255,1]))};return c.start=function(u){return u==null?e:(e=u,c)},c.rotations=function(u){return u==null?t:(t=u,c)},c.gamma=function(u){return u==null?a:(a=u,c)},c.hue=function(u){return u==null?r:(r=u,Pt(r)==="array"?(s=r[1]-r[0],s===0&&(r=r[1])):s=0,c)},c.lightness=function(u){return u==null?i:(Pt(u)==="array"?(i=u,n=u[1]-u[0]):(i=[u,u],n=0),c)},c.scale=function(){return Xr.scale(c)},c.hue(r),c},yl=k,wl="0123456789abcdef",$l=Math.floor,kl=Math.random,Nl=function(){for(var e="#",t=0;t<6;t++)e+=wl.charAt($l(kl()*16));return new yl(e,"hex")},Mt=Ce,Qr=Math.log,Pl=Math.pow,Ml=Math.floor,xl=Math.abs,Jr=function(e,t){t===void 0&&(t=null);var r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Mt(e)==="object"&&(e=Object.values(e)),e.forEach(function(a){t&&Mt(a)==="object"&&(a=a[t]),a!=null&&!isNaN(a)&&(r.values.push(a),r.sum+=a,a<r.min&&(r.min=a),a>r.max&&(r.max=a),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(a,i){return Kr(r,a,i)},r},Kr=function(e,t,r){t===void 0&&(t="equal"),r===void 0&&(r=7),Mt(e)=="array"&&(e=Jr(e));var a=e.min,i=e.max,s=e.values.sort(function(Ct,Et){return Ct-Et});if(r===1)return[a,i];var n=[];if(t.substr(0,1)==="c"&&(n.push(a),n.push(i)),t.substr(0,1)==="e"){n.push(a);for(var c=1;c<r;c++)n.push(a+c/r*(i-a));n.push(i)}else if(t.substr(0,1)==="l"){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*Qr(a),v=Math.LOG10E*Qr(i);n.push(a);for(var d=1;d<r;d++)n.push(Pl(10,u+d/r*(v-u)));n.push(i)}else if(t.substr(0,1)==="q"){n.push(a);for(var m=1;m<r;m++){var p=(s.length-1)*m/r,y=Ml(p);if(y===p)n.push(s[y]);else{var _=p-y;n.push(s[y]*(1-_)+s[y+1]*_)}}n.push(i)}else if(t.substr(0,1)==="k"){var P,C=s.length,A=new Array(C),S=new Array(r),I=!0,U=0,j=null;j=[],j.push(a);for(var E=1;E<r;E++)j.push(a+E/r*(i-a));for(j.push(i);I;){for(var g=0;g<r;g++)S[g]=0;for(var $=0;$<C;$++)for(var x=s[$],M=Number.MAX_VALUE,Z=void 0,z=0;z<r;z++){var B=xl(j[z]-x);B<M&&(M=B,Z=z),S[Z]++,A[$]=Z}for(var F=new Array(r),T=0;T<r;T++)F[T]=null;for(var D=0;D<C;D++)P=A[D],F[P]===null?F[P]=s[D]:F[P]+=s[D];for(var K=0;K<r;K++)F[K]*=1/S[K];I=!1;for(var oe=0;oe<r;oe++)if(F[oe]!==j[oe]){I=!0;break}j=F,U++,U>200&&(I=!1)}for(var se={},ye=0;ye<r;ye++)se[ye]=[];for(var we=0;we<C;we++)P=A[we],se[P].push(s[we]);for(var re=[],ue=0;ue<r;ue++)re.push(se[ue][0]),re.push(se[ue][se[ue].length-1]);re=re.sort(function(Ct,Et){return Ct-Et}),n.push(re[0]);for(var Pe=1;Pe<re.length;Pe+=2){var he=re[Pe];!isNaN(he)&&n.indexOf(he)===-1&&n.push(he)}}return n},ea={analyze:Jr,limits:Kr},ta=k,Cl=function(e,t){e=new ta(e),t=new ta(t);var r=e.luminance(),a=t.luminance();return r>a?(r+.05)/(a+.05):(a+.05)/(r+.05)},ra=k,te=Math.sqrt,G=Math.pow,El=Math.min,Al=Math.max,aa=Math.atan2,na=Math.abs,Re=Math.cos,ia=Math.sin,Bl=Math.exp,oa=Math.PI,Sl=function(e,t,r,a,i){r===void 0&&(r=1),a===void 0&&(a=1),i===void 0&&(i=1);var s=function(he){return 360*he/(2*oa)},n=function(he){return 2*oa*he/360};e=new ra(e),t=new ra(t);var c=Array.from(e.lab()),u=c[0],v=c[1],d=c[2],m=Array.from(t.lab()),p=m[0],y=m[1],_=m[2],P=(u+p)/2,C=te(G(v,2)+G(d,2)),A=te(G(y,2)+G(_,2)),S=(C+A)/2,I=.5*(1-te(G(S,7)/(G(S,7)+G(25,7)))),U=v*(1+I),j=y*(1+I),E=te(G(U,2)+G(d,2)),g=te(G(j,2)+G(_,2)),$=(E+g)/2,x=s(aa(d,U)),M=s(aa(_,j)),Z=x>=0?x:x+360,z=M>=0?M:M+360,B=na(Z-z)>180?(Z+z+360)/2:(Z+z)/2,F=1-.17*Re(n(B-30))+.24*Re(n(2*B))+.32*Re(n(3*B+6))-.2*Re(n(4*B-63)),T=z-Z;T=na(T)<=180?T:z<=Z?T+360:T-360,T=2*te(E*g)*ia(n(T)/2);var D=p-u,K=g-E,oe=1+.015*G(P-50,2)/te(20+G(P-50,2)),se=1+.045*$,ye=1+.015*$*F,we=30*Bl(-G((B-275)/25,2)),re=2*te(G($,7)/(G($,7)+G(25,7))),ue=-re*ia(2*n(we)),Pe=te(G(D/(r*oe),2)+G(K/(a*se),2)+G(T/(i*ye),2)+ue*(K/(a*se))*(T/(i*ye)));return Al(0,El(100,Pe))},sa=k,Fl=function(e,t,r){r===void 0&&(r="lab"),e=new sa(e),t=new sa(t);var a=e.get(r),i=t.get(r),s=0;for(var n in a){var c=(a[n]||0)-(i[n]||0);s+=c*c}return Math.sqrt(s)},Tl=k,Dl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(Tl,[null].concat(e))),!0}catch{return!1}},la=L,ca=kt,zl={cool:function(){return ca([la.hsl(180,1,.9),la.hsl(250,.7,.4)])},hot:function(){return ca(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Le={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},xt=0,ua=Object.keys(Le);xt<ua.length;xt+=1){var ha=ua[xt];Le[ha.toLowerCase()]=Le[ha]}var Rl=Le,q=L;q.average=Qs,q.bezier=nl,q.blend=vl,q.cubehelix=_l,q.mix=q.interpolate=Or,q.random=Nl,q.scale=kt,q.analyze=ea.analyze,q.contrast=Cl,q.deltaE=Sl,q.distance=Fl,q.limits=ea.limits,q.valid=Dl,q.scales=zl,q.colors=kr,q.brewer=Rl;var Ll=q;return Ll})})(sn);var ac=sn.exports;const nc=Vl(ac);class ic{constructor(){this.clip=null,this.xZoom=1,this.yZoom=1,this.beatsPerBar=4,this.divisionsPerBeat=2,this.snapStrength=.05,this.noteResizeHandleArea=.2,this.selectedNote=null,this._minPitch=0,this._maxPitch=127,this._scale=ae.ScaleTemplate.major.create("C"),this._filterPitchesByScale=!1,this._pitchesCache=null,this.noteColor=this._defaultNoteColor,this.canAddNote=o=>!0,this.canEditNoteStart=o=>!0,this.canEditNoteEnd=o=>!0,this.canEditNotePitch=o=>!0,this.canDeleteNote=o=>!0,this._defaultNoteColors=["#f44336","#e81e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"]}get minPitch(){return this._minPitch}set minPitch(o){o!=this._minPitch&&(this._minPitch=o,this._pitchesCache=null)}get maxPitch(){return this._maxPitch}set maxPitch(o){o!=this._maxPitch&&(this._maxPitch=o,this._pitchesCache=null)}get scale(){return this._scale}set scale(o){o!==this._scale&&(this._scale=o,this._pitchesCache=null)}get filterPitchesByScale(){return this._filterPitchesByScale}set filterPitchesByScale(o){o!=this._filterPitchesByScale&&(this._filterPitchesByScale=o,this._pitchesCache=null)}get pitches(){if(this._pitchesCache==null){const o=[];for(let h=this.maxPitch;h>=this.minPitch;h--)(!this.filterPitchesByScale||this.scale.contains(h))&&o.push(h);this._pitchesCache=o}return this._pitchesCache}get beatWidth(){return 100*this.xZoom}get pitchHeight(){return 20*this.yZoom}get clipBeats(){var o;return((o=this.clip)==null?void 0:o.duration)??0}get beatsPerDivision(){return 1/this.divisionsPerBeat}get totalWidth(){return this.clip?this.clipBeats*this.beatWidth:0}get totalHeight(){return this.clip?this.pitches.length*this.pitchHeight:0}pitchIsBlack(o){const h=o%12;return h==1||h==3||h==6||h==8||h==10}getXFromBeat(o){return o*this.beatWidth}getBeatFromX(o){var h;return Math.min(((h=this.clip)==null?void 0:h.duration)??0,Math.max(0,o/this.beatWidth))}getYFromPitch(o){return this.pitches.indexOf(o)*this.pitchHeight}getPitchFromY(o){const h=Math.floor(o/this.pitchHeight);return Math.min(127,Math.max(0,this.pitches[h]))}getBeatLines(){const o=[{beat:0,class:"bar-line"}];for(let f=0;f<this.beatsPerBar;f++){f>0&&o.push({beat:f,class:"beat-line"});for(let w=1;w<this.divisionsPerBeat;w++)o.push({beat:f+w/this.divisionsPerBeat,class:"division-line"})}const h=[];for(let f=0;f<this.clipBeats;f+=this.beatsPerBar)for(const w of o){const N=f+w.beat;N>=0&&N<=this.clipBeats&&h.push({beat:N,class:w.class})}return h}getNoteAt(o,h){return this.clip?this.clip.notes.find(f=>f.pitch==h&&f.contains(o))??null:null}getNearestDivisionBeat(o){return Math.round(o*this.divisionsPerBeat)/this.divisionsPerBeat}getPreviousDivisionBeat(o){return Math.floor(o*this.divisionsPerBeat)/this.divisionsPerBeat}getNextDivisionBeat(o){return Math.ceil(o*this.divisionsPerBeat)/this.divisionsPerBeat}getSnappedBeat(o){const h=this.getNearestDivisionBeat(o);return Math.abs(o-h)<=this.beatsPerDivision*this.snapStrength?h:o}_defaultNoteColor(o,h){let f=nc(this._defaultNoteColors[o.channel%16]);return h&&(f=f.brighten(.4)),typeof o.velocity=="number"?f=f.alpha((o.velocity+128)/255):f=f.alpha(.75),f.hex()}}const V={none:0,wholeNote:1,noteEnd:2,noteStart:3,noteCreation:4,pitch:5};class oc{constructor(o,h){this._dragMode=V.none,this._dragOffset=0,this._clipEditor=o,this._viewModel=h}onMouseDown(o,h){const f=this._viewModel;if(!f.clip)return;const w=f.getBeatFromX(o.x),N=f.getPitchFromY(o.y),Y=f.getNoteAt(w,N);h==1&&Y?this._removeNote(Y):h==0&&(Y?this._beginNoteDrag(Y,w):this._addNewNote(w,N))}onDoubleClick(o){this.onMouseDown(o,1)}onMouseMove(o){const h=this._viewModel;if(!h.selectedNote||this._dragMode==V.none)return;const f=h.getSnappedBeat(h.getBeatFromX(o.x)-this._dragOffset);if(this._dragMode==V.wholeNote)h.selectedNote.start=f,h.selectedNote.pitch=h.getPitchFromY(o.y);else if(this._dragMode==V.noteStart){if(f<h.selectedNote.end){const w=h.selectedNote.end;h.selectedNote.start=f,h.selectedNote.end=w}}else if(this._dragMode==V.noteEnd)f>h.selectedNote.start&&(h.selectedNote.end=f);else if(this._dragMode==V.noteCreation){const w=h.getNextDivisionBeat(h.getBeatFromX(o.x));w>h.selectedNote.start&&(h.selectedNote.end=w)}else this._dragMode==V.pitch&&(h.selectedNote.pitch=h.getPitchFromY(o.y));this._clipEditor.requestUpdate()}onMouseUp(o,h){const f=this._viewModel;h==0&&(this._dragMode=V.none,f.clip&&f.selectedNote&&f.selectedNote.duration<=0&&(f.clip.notes=f.clip.notes.filter(w=>w!==f.selectedNote)),f.selectedNote=null,this._clipEditor.requestUpdate())}onMouseLeave(o,h){const f=this._viewModel;this._dragMode=V.none,f.clip&&f.selectedNote&&f.selectedNote.duration<=0&&(f.clip.notes=f.clip.notes.filter(w=>w!==f.selectedNote)),f.selectedNote=null,this._clipEditor.requestUpdate()}_addNewNote(o,h){var N;const f=this._viewModel,w=new ae.ClipNote(f.getPreviousDivisionBeat(o),f.beatsPerDivision,h,80);f.canAddNote(w)&&((N=f.clip)==null||N.notes.push(w),f.selectedNote=w,this._dragMode=V.noteCreation,this._clipEditor.requestUpdate())}_removeNote(o){const h=this._viewModel;h.clip&&h.canDeleteNote(o)&&(h.clip.notes=h.clip.notes.filter(f=>f!==o),h.selectedNote=null,this._dragMode=V.none,this._clipEditor.requestUpdate())}_beginNoteDrag(o,h){const f=this._viewModel;if(!f.clip)return;const w=o.getPercent(h);w<=f.noteResizeHandleArea?f.canEditNoteStart(o)&&(this._dragMode=V.noteStart):w>=1-f.noteResizeHandleArea?f.canEditNoteEnd(o)&&(this._dragMode=V.noteEnd):f.canEditNoteStart(o)&&f.canEditNoteEnd(o)?this._dragMode=V.wholeNote:f.canEditNotePitch(o)&&(this._dragMode=V.pitch),this._dragMode==V.noteEnd?this._dragOffset=h-o.end:this._dragOffset=h-o.start,f.selectedNote=o,this._clipEditor.requestUpdate()}}var sc=Object.defineProperty,lc=Object.getOwnPropertyDescriptor,H=(l,o,h,f)=>{for(var w=f>1?void 0:f?lc(o,h):o,N=l.length-1,Y;N>=0;N--)(Y=l[N])&&(w=(f?Y(o,h,w):Y(w))||w);return f&&w&&sc(o,h,w),w};let R=class extends Ol{constructor(){super(),this._viewModel=new ic,this._highlightedPitch=-1,this._svg=Jl(),this._svgPoint=null,this._behavior=new oc(this,this._viewModel)}get clip(){return this._viewModel.clip}set clip(l){const o=this._viewModel.clip;this._viewModel.clip=l,this.requestUpdate("clip",o)}get xZoom(){return this._viewModel.xZoom}set xZoom(l){const o=this._viewModel.xZoom;this._viewModel.xZoom=l,this.requestUpdate("xZoom",o)}get yZoom(){return this._viewModel.yZoom}set yZoom(l){const o=this._viewModel.yZoom;this._viewModel.yZoom=l,this.requestUpdate("yZoom",o)}get beatsPerBar(){return this._viewModel.beatsPerBar}set beatsPerBar(l){const o=this._viewModel.beatsPerBar;this._viewModel.beatsPerBar=Math.max(1,Math.round(l)),this.requestUpdate("beatsPerBar",o)}get divisionsPerBeat(){return this._viewModel.divisionsPerBeat}set divisionsPerBeat(l){const o=this._viewModel.divisionsPerBeat;this._viewModel.divisionsPerBeat=Math.max(1,Math.round(l)),this.requestUpdate("divisionsPerBeat",o)}get snapStrength(){return this._viewModel.snapStrength}set snapStrength(l){const o=this._viewModel.snapStrength;this._viewModel.snapStrength=Math.min(Math.max(0,l),1),this.requestUpdate("snapStrength",o)}get noteResizeHandleArea(){return this._viewModel.noteResizeHandleArea}set noteResizeHandleArea(l){const o=this._viewModel.noteResizeHandleArea;this._viewModel.noteResizeHandleArea=Math.min(Math.max(0,l),1),this.requestUpdate("noteResizeHandleArea",o)}get minPitch(){return this._viewModel.minPitch}set minPitch(l){const o=this._viewModel.minPitch;if(typeof l=="string")try{l=ae.pitch(l)}catch{try{l=Number(l)}catch{return}}this._viewModel.minPitch=Math.max(0,Math.round(l)),this.requestUpdate("minPitch",o)}get maxPitch(){return this._viewModel.maxPitch}set maxPitch(l){const o=this._viewModel.maxPitch;if(typeof l=="string")try{l=ae.pitch(l)}catch{try{l=Number(l)}catch{return}}this._viewModel.maxPitch=Math.min(127,Math.round(l)),this.requestUpdate("maxPitch",o)}get scale(){return this._viewModel.scale}set scale(l){const o=this._viewModel.scale;this._viewModel.scale=l,this.requestUpdate("scale",o)}get filterPitchesByScale(){return this._viewModel.filterPitchesByScale}set filterPitchesByScale(l){const o=this._viewModel.filterPitchesByScale;this._viewModel.filterPitchesByScale=l,this.requestUpdate("filterPitchesByScale",o)}get noteColor(){return this._viewModel.noteColor}set noteColor(l){const o=this._viewModel.noteColor;this._viewModel.noteColor=l,this.requestUpdate("noteColor",o)}get canAddNote(){return this._viewModel.canAddNote}set canAddNote(l){const o=this._viewModel.canAddNote;this._viewModel.canAddNote=l,this.requestUpdate("canAddNote",o)}get canEditNoteStart(){return this._viewModel.canEditNoteStart}set canEditNoteStart(l){const o=this._viewModel.canEditNoteStart;this._viewModel.canEditNoteStart=l,this.requestUpdate("canEditNoteStart",o)}get canEditNoteEnd(){return this._viewModel.canEditNoteEnd}set canEditNoteEnd(l){const o=this._viewModel.canEditNoteEnd;this._viewModel.canEditNoteEnd=l,this.requestUpdate("canEditNoteEnd",o)}get canEditNotePitch(){return this._viewModel.canEditNotePitch}set canEditNotePitch(l){const o=this._viewModel.canEditNotePitch;this._viewModel.canEditNotePitch=l,this.requestUpdate("canEditNotePitch",o)}get canDeleteNote(){return this._viewModel.canDeleteNote}set canDeleteNote(l){const o=this._viewModel.canDeleteNote;this._viewModel.canDeleteNote=l,this.requestUpdate("canDeleteNote",o)}_getCursorPoint(l){const o=this._svg.value,h=this._svgPoint;return!h||!o?{x:-1,y:-1}:(h.x=l.clientX,h.y=l.clientY,h.matrixTransform(o.getScreenCTM().inverse()))}_onMouseDown(l){this._behavior.onMouseDown(this._getCursorPoint(l),l.button)}_onMouseMove(l){const o=this._getCursorPoint(l);this._highlightedPitch=this._viewModel.getPitchFromY(o.y),this._behavior.onMouseMove(o)}_onMouseUp(l){this._behavior.onMouseUp(this._getCursorPoint(l),l.button)}_onMouseLeave(l){this._highlightedPitch=-1,this._behavior.onMouseLeave(this._getCursorPoint(l),l.button)}_onDoubleClick(l){this._behavior.onDoubleClick(this._getCursorPoint(l))}firstUpdated(){const l=this._svg.value;this._svgPoint=l.createSVGPoint()}render(){const l=this._viewModel;return ql`
            <svg :viewBox="0 0 ${l.totalWidth} ${l.totalHeight}"
                preserveAspectRatio="none" fill="#666666"
                ${ec(this._svg)} class="edit-area"
                @mousedown=${this._onMouseDown}
                @mousemove=${this._onMouseMove}
                @mouseup=${this._onMouseUp}
                @mouseleave=${this._onMouseLeave}
                @dblclick=${this._onDoubleClick}
                width=${l.totalWidth}
                height=${l.totalHeight}>

                <rect x="0" y="0" 
                    width=${l.totalWidth}
                    height=${l.totalHeight}
                    fill="#666"></rect>

                ${this._renderBlackLines()}

                ${this._renderPitchSeparatorLines()}

                ${this._renderBeatLines()}

                ${this._renderPitchNames()}

                ${this._renderNotes()}
            </svg>
        `}_renderBlackLines(){const l=this._viewModel,o=[];for(const h of l.pitches)l.pitchIsBlack(h)&&o.push(Me`
                    <rect x="0" y=${l.getYFromPitch(h)}
                        width=${l.totalWidth}
                        height=${l.pitchHeight}
                        fill="#555"></rect>
                `);return o}_renderPitchSeparatorLines(){const l=this._viewModel,o=[];if(l.pitches.length==0)return o;let h=l.pitchIsBlack(l.pitches[0]);for(let f=1;f<l.pitches.length;f++){const w=l.pitches[f],N=l.pitchIsBlack(w);h==N&&o.push(Me`
                    <line x1="0" y1=${f*l.pitchHeight}
                        x2=${l.totalWidth} y2=${f*l.pitchHeight}
                        class="pitch-separator-line"/>
                `),h=N}return o}_renderBeatLines(){const l=this._viewModel,o=[];for(const h of l.getBeatLines())o.push(Me`
                <line x1=${h.beat*l.beatWidth} y1="0" 
                    x2=${h.beat*l.beatWidth} y2=${l.totalHeight}
                    class=${h.class}/>
            `);return o}_renderPitchNames(){const l=this._viewModel,o=[],h={fontSize:l.pitchHeight-2+"px"};function f(w,N){return Me`
            <text x=${w.beat*l.beatWidth+2}
                  y=${l.getYFromPitch(N)+l.pitchHeight-l.pitchHeight/5}
                  style=${rc(h)}
                  class="pitch-label">
                ${l.scale.getPitchName(N,!0)}
            </text>`}for(const w of l.getBeatLines().filter(N=>N.beat==0||N.class=="bar-line")){for(const N of l.pitches.filter(Y=>Y%12==l.scale.root%12&&Y!=this._highlightedPitch))o.push(f(w,N));this._highlightedPitch>=0&&o.push(f(w,this._highlightedPitch))}return o}_renderNotes(){var h;const l=this._viewModel,o=[];for(const f of((h=this.clip)==null?void 0:h.notes)??[])o.push(Me`
                <rect x=${f.start*l.beatWidth}
                    y=${l.getYFromPitch(f.pitch)}
                    height=${l.pitchHeight}
                    width=${f.duration*l.beatWidth}
                    stroke="black" stroke-width="0.5"
                    fill=${l.noteColor(f,f===l.selectedNote)}></rect>
            `);return o}};R.styles=Hl`
        .edit-area {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -khtml-user-select: none;
            -ms-user-select: none;
        }

        .bar-line {
            stroke: #303030;
            stroke-width: 2;
            stroke-dasharray: 5,0;
        }

        .beat-line {
            stroke: #E0E0E0;
            stroke-width: 1;
            stroke-dasharray: 5,0;
        }

        .division-line {
            stroke: #A0A0A0;
            stroke-width: 1;
            stroke-dasharray: 2,5;
        }

        .pitch-separator-line {
            stroke: #5E5E5E;
            stroke-width: 1;
        }

        .pitch-label {
            fill: #FFFFFF99;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 20px;
        }
    `;H([W({attribute:!1})],R.prototype,"clip",1);H([W({attribute:"x-zoom",type:Number})],R.prototype,"xZoom",1);H([W({attribute:"y-zoom",type:Number})],R.prototype,"yZoom",1);H([W({attribute:"beats-per-bar",type:Number,reflect:!0})],R.prototype,"beatsPerBar",1);H([W({attribute:"divisions-per-beat",type:Number,reflect:!0})],R.prototype,"divisionsPerBeat",1);H([W({attribute:"snap-strength",type:Number,reflect:!0})],R.prototype,"snapStrength",1);H([W({attribute:"note-resize-handle-area",type:Number,reflect:!0})],R.prototype,"noteResizeHandleArea",1);H([W({attribute:"min-pitch",type:String,reflect:!0})],R.prototype,"minPitch",1);H([W({attribute:"max-pitch",type:String,reflect:!0})],R.prototype,"maxPitch",1);H([W({attribute:!1})],R.prototype,"scale",1);H([W({attribute:"filter-pitches-by-scale",type:Boolean})],R.prototype,"filterPitchesByScale",1);H([W({attribute:!1})],R.prototype,"noteColor",1);H([W({attribute:!1})],R.prototype,"canAddNote",1);H([W({attribute:!1})],R.prototype,"canEditNoteStart",1);H([W({attribute:!1})],R.prototype,"canEditNoteEnd",1);H([W({attribute:!1})],R.prototype,"canEditNotePitch",1);H([W({attribute:!1})],R.prototype,"canDeleteNote",1);H([Ul()],R.prototype,"_highlightedPitch",2);R=H([Il("clip-editor")],R);const gc={title:"ClipEditor",tags:["autodocs"],render:l=>{const o=new R;for(const h in l)o[h]=l[h];return o},argTypes:{clip:{control:"none",description:"The shimi.Clip object which the ClipEditor will display and enable editing of."},minPitch:{control:{type:"number",min:0,max:127,step:1},description:"The minimum pitch in the piano roll which the ClipEditor will render."},maxPitch:{control:{type:"number",min:0,max:127,step:1},description:"The maximum pitch in the piano roll which the ClipEditor will render."},xZoom:{control:{type:"number",min:.5,max:2,step:.1},description:"Multiplier to be used when rendering x-coordinates in the component."},yZoom:{control:{type:"number",min:.5,max:2,step:.1},description:"Multiplier to be used when rendering y-coordinates in the component."},beatsPerBar:{control:{type:"number",min:1,max:8,step:1},description:"How many beat lines to render before a bar line occurs"},divisionsPerBeat:{control:{type:"number",min:1,max:8,step:1},description:"How many subdivisions to render per beat. These provide a useful visual cue where each beat divides, as well as note snapping."},snapStrength:{control:{type:"number",min:0,max:1,step:.01},description:"How strongly note starts & ends will snap to beat divisions. Default value = 0.05, meaning that given the distance from one beat division to the next, a note start or end must be within 5% of that distance from the division to snap to it."},noteResizeHandleArea:{control:{type:"number",min:0,max:1,step:.01},description:"How much of the note's area can be grabbed to resize it, rather than to move it. The default value = 0.2, meaning if you grab the left-most 20% of a note, you be resizing it from its start. Alternatively if you grab the right-most 20% of a note, you'd be resizing it from its end."},scale:{control:"none",description:"The scale object to use when getting pitch names."},filterPitchesByScale:{control:"boolean",description:"If true, then only pitches which belong to the currently set scale will be rendered. Other pitches, as well as any notes on those pitches, won't be rendered."},noteColor:{control:"none",description:"Function that takes in a shimi.ClipNote object & boolean flag representing whether that note is selected, and returns a string color value."},canAddNote:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if that note would be allowed to be added. If you want to add custom modifications to notes added through the UI, this can also be a good place to do so."},canEditNoteStart:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the start of the note would be allowed to be altered."},canEditNoteEnd:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the end of the note would be allowed to be altered."},canEditNotePitch:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the pitch of the note would be allowed to be altered."},canDeleteNote:{control:"none",description:"Function that takes in a shimi.ClipNote object, and returns true if the note would be allowed to be removed from the clip."}}};function ee(){return new ae.Clip(8).addNote([0,1],1,"C4",80).addNote([2,3],1,"G4",80).addNote([4,5],1,"A4",80).addNote([6,7],1,"G4",80)}function cc(){return new ae.Clip(8).addNote(0,.5,"C4",80,0).addNote(.5,.5,"D4",80,1).addNote(1,.5,"E4",80,2).addNote(1.5,.5,"F4",80,3).addNote(2,.5,"G4",80,4).addNote(2.5,.5,"A4",80,5).addNote(3,.5,"B4",80,6).addNote(3.5,.5,"C5",80,7).addNote(4,.5,"B4",80,8).addNote(4.5,.5,"A4",80,9).addNote(5,.5,"G4",80,10).addNote(5.5,.5,"F4",80,11).addNote(6,.5,"E4",80,12).addNote(6.5,.5,"D4",80,13).addNote(7,1,"C4",80,14)}const Ge={args:{clip:ee(),minPitch:55,maxPitch:79}},He={args:{}},Oe={args:{clip:ee(),minPitch:60,maxPitch:72,xZoom:.6,yZoom:1.5}},qe={args:{clip:ee(),minPitch:60,maxPitch:72,beatsPerBar:3,divisionsPerBeat:5}},Ue={args:{clip:ee(),minPitch:60,maxPitch:72,snapStrength:.5}},Ie={args:{clip:ee(),minPitch:60,maxPitch:72,noteResizeHandleArea:0}},Ze={args:{clip:ee(),minPitch:55,maxPitch:79,scale:ae.ScaleTemplate.major.create("Gb")}},We={args:{clip:ee(),minPitch:55,maxPitch:79,scale:ae.ScaleTemplate.major.create("G"),filterPitchesByScale:!0}},Ve={args:{clip:cc(),minPitch:60,maxPitch:72}},Ye={args:{clip:new ae.Clip(8),minPitch:60,maxPitch:72,canAddNote:l=>l.pitch<67}},je={args:{clip:ee(),minPitch:60,maxPitch:72,canEditNoteStart:l=>l.start<4}},Xe={args:{clip:ee(),minPitch:60,maxPitch:72,canEditNoteEnd:l=>l.pitch>65}},Qe={args:{clip:ee(),minPitch:60,maxPitch:72,canEditNotePitch:l=>l.start<4}},Je={args:{clip:ee(),minPitch:60,maxPitch:72,canDeleteNote:l=>!1}};var va,da,pa;Ge.parameters={...Ge.parameters,docs:{...(va=Ge.parameters)==null?void 0:va.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79
  }
}`,...(pa=(da=Ge.parameters)==null?void 0:da.docs)==null?void 0:pa.source}}};var ga,ba,ma;He.parameters={...He.parameters,docs:{...(ga=He.parameters)==null?void 0:ga.docs,source:{originalSource:`{
  args: {}
}`,...(ma=(ba=He.parameters)==null?void 0:ba.docs)==null?void 0:ma.source}}};var _a,ya,wa;Oe.parameters={...Oe.parameters,docs:{...(_a=Oe.parameters)==null?void 0:_a.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    xZoom: 0.6,
    yZoom: 1.5
  }
}`,...(wa=(ya=Oe.parameters)==null?void 0:ya.docs)==null?void 0:wa.source}}};var $a,ka,Na;qe.parameters={...qe.parameters,docs:{...($a=qe.parameters)==null?void 0:$a.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    beatsPerBar: 3,
    divisionsPerBeat: 5
  }
}`,...(Na=(ka=qe.parameters)==null?void 0:ka.docs)==null?void 0:Na.source}}};var Pa,Ma,xa;Ue.parameters={...Ue.parameters,docs:{...(Pa=Ue.parameters)==null?void 0:Pa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    snapStrength: 0.5
  }
}`,...(xa=(Ma=Ue.parameters)==null?void 0:Ma.docs)==null?void 0:xa.source}}};var Ca,Ea,Aa;Ie.parameters={...Ie.parameters,docs:{...(Ca=Ie.parameters)==null?void 0:Ca.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    noteResizeHandleArea: 0
  }
}`,...(Aa=(Ea=Ie.parameters)==null?void 0:Ea.docs)==null?void 0:Aa.source}}};var Ba,Sa,Fa;Ze.parameters={...Ze.parameters,docs:{...(Ba=Ze.parameters)==null?void 0:Ba.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79,
    scale: ScaleTemplate.major.create('Gb')
  }
}`,...(Fa=(Sa=Ze.parameters)==null?void 0:Sa.docs)==null?void 0:Fa.source}}};var Ta,Da,za;We.parameters={...We.parameters,docs:{...(Ta=We.parameters)==null?void 0:Ta.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 55,
    maxPitch: 79,
    scale: ScaleTemplate.major.create('G'),
    filterPitchesByScale: true
  }
}`,...(za=(Da=We.parameters)==null?void 0:Da.docs)==null?void 0:za.source}}};var Ra,La,Ga;Ve.parameters={...Ve.parameters,docs:{...(Ra=Ve.parameters)==null?void 0:Ra.docs,source:{originalSource:`{
  args: {
    clip: multiChannelClip(),
    minPitch: 60,
    maxPitch: 72
  }
}`,...(Ga=(La=Ve.parameters)==null?void 0:La.docs)==null?void 0:Ga.source}}};var Ha,Oa,qa;Ye.parameters={...Ye.parameters,docs:{...(Ha=Ye.parameters)==null?void 0:Ha.docs,source:{originalSource:`{
  args: {
    clip: new Clip(8),
    minPitch: 60,
    maxPitch: 72,
    canAddNote: n => n.pitch < 67
  }
}`,...(qa=(Oa=Ye.parameters)==null?void 0:Oa.docs)==null?void 0:qa.source}}};var Ua,Ia,Za;je.parameters={...je.parameters,docs:{...(Ua=je.parameters)==null?void 0:Ua.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNoteStart: n => n.start < 4
  }
}`,...(Za=(Ia=je.parameters)==null?void 0:Ia.docs)==null?void 0:Za.source}}};var Wa,Va,Ya;Xe.parameters={...Xe.parameters,docs:{...(Wa=Xe.parameters)==null?void 0:Wa.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNoteEnd: n => n.pitch > 65
  }
}`,...(Ya=(Va=Xe.parameters)==null?void 0:Va.docs)==null?void 0:Ya.source}}};var ja,Xa,Qa;Qe.parameters={...Qe.parameters,docs:{...(ja=Qe.parameters)==null?void 0:ja.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canEditNotePitch: n => n.start < 4
  }
}`,...(Qa=(Xa=Qe.parameters)==null?void 0:Xa.docs)==null?void 0:Qa.source}}};var Ja,Ka,en;Je.parameters={...Je.parameters,docs:{...(Ja=Je.parameters)==null?void 0:Ja.docs,source:{originalSource:`{
  args: {
    clip: twinkleTwinkle(),
    minPitch: 60,
    maxPitch: 72,
    canDeleteNote: n => false
  }
}`,...(en=(Ka=Je.parameters)==null?void 0:Ka.docs)==null?void 0:en.source}}};const bc=["Primary","NoClip","XAndYZoom","BeatsPerBarAndDivisionsPerBeat","HighSnapStrength","NoNoteResizeHandleArea","WithScaleSet","FilterPitchesByScale","DefaultNoteColoring","CanOnlyAddNotesBelowG4","CanOnlyEditNoteStartBeforeBeat4","CanOnlyEditNoteEndAboveF4","CanOnlyEditNotePitchBeforeBeat4","CantDeleteNotes"];export{qe as BeatsPerBarAndDivisionsPerBeat,Ye as CanOnlyAddNotesBelowG4,Xe as CanOnlyEditNoteEndAboveF4,Qe as CanOnlyEditNotePitchBeforeBeat4,je as CanOnlyEditNoteStartBeforeBeat4,Je as CantDeleteNotes,Ve as DefaultNoteColoring,We as FilterPitchesByScale,Ue as HighSnapStrength,He as NoClip,Ie as NoNoteResizeHandleArea,Ge as Primary,Ze as WithScaleSet,Oe as XAndYZoom,bc as __namedExportsOrder,gc as default};
//# sourceMappingURL=ClipEditor.stories-559bf8d2.js.map
